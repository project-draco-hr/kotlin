{
  PsiFile file=statement.getContainingFile();
  if (file instanceof JetFile) {
    if (JetPsiFactoryKt.getDoNotAnalyze((JetFile)file) != null) {
      return null;
    }
  }
  Document document=file.getViewProvider().getDocument();
  return document != null ? document.getLineNumber(markEndOffset ? statement.getTextRange().getEndOffset() : statement.getTextOffset()) + 1 : null;
}
