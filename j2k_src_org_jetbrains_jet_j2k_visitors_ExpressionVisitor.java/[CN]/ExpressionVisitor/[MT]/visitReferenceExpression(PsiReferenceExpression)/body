{
  super.visitReferenceExpression(expression);
  final boolean isFieldReference=isFieldReference(expression,getContainingClass(expression));
  final boolean insideSecondaryConstructor=isInsideSecondaryConstructor(expression);
  final boolean hasReceiver=isFieldReference && insideSecondaryConstructor;
  final boolean isThis=isThisExpression(expression);
  final boolean notNull=isResolvedToNotNull(expression);
  final boolean isNullable=getConverter().typeToType(expression.getType(),notNull).isNullable();
  final String className=getClassNameWithConstructor(expression);
  Expression identifier=new IdentifierImpl(expression.getReferenceName(),isNullable);
  final String __="__";
  if (hasReceiver) {
    identifier=new CallChainExpression(new IdentifierImpl(__,false),new IdentifierImpl(expression.getReferenceName(),isNullable));
  }
 else   if (insideSecondaryConstructor && isThis) {
    identifier=new IdentifierImpl("val __ = " + className);
  }
  myResult=new CallChainExpression(getConverter().expressionToExpression(expression.getQualifierExpression()),identifier);
}
