{
  for (  Map.Entry<JetScript,ScriptDescriptor> e : context.getScripts().entrySet()) {
    JetScript declaration=e.getKey();
    ScriptDescriptor descriptor=e.getValue();
    WritableScope scope=context.getScriptScopes().get(declaration);
    List<ValueParameterDescriptor> valueParameters=Lists.newArrayList();
    scope.setImplicitReceiver(descriptor.getImplicitReceiver());
    int index=0;
    for (    AnalyzerScriptParameter scriptParameter : topDownAnalysisParameters.getScriptParameters()) {
      ValueParameterDescriptor parameter=resolveScriptParameter(scriptParameter,index,descriptor);
      valueParameters.add(parameter);
      scope.addVariableDescriptor(parameter);
      ++index;
    }
    descriptor.setValueParameters(valueParameters);
  }
}
