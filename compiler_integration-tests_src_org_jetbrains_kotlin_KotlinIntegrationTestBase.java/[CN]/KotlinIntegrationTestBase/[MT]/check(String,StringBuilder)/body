{
  final File actualFile=new File(testDataDir,baseName + ".actual");
  final File expectedFile=new File(testDataDir,baseName + ".expected");
  if (!expectedFile.isFile()) {
    Files.write(content,actualFile,Charsets.UTF_8);
    fail("No .expected file " + expectedFile);
  }
 else {
    final String goldContent=Files.toString(expectedFile,UTF_8);
    try {
      assertEquals(goldContent,content.toString());
      actualFile.delete();
    }
 catch (    ComparisonFailure e) {
      Files.write(content,actualFile,Charsets.UTF_8);
      throw e;
    }
  }
}
