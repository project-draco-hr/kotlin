{
  final File tmpFile=new File(getTestDataDirectory(),baseName + ".tmp");
  final File goldFile=new File(getTestDataDirectory(),baseName + ".gold");
  if (!goldFile.isFile()) {
    Files.write(content,tmpFile,Charsets.UTF_8);
    fail("No gold file " + goldFile);
  }
 else {
    final String goldContent=Files.toString(goldFile,UTF_8);
    if (!goldContent.equals(content.toString())) {
      Files.write(content,tmpFile,Charsets.UTF_8);
      fail("tmp and gold differ, tmp file: " + tmpFile);
    }
    tmpFile.delete();
  }
}
