{
  if (file.isDirectory()) {
    for (    File child : file.listFiles()) {
      addSources(child,library);
    }
  }
 else {
    VirtualFile fileByPath=myEnvironment.getLocalFileSystem().findFileByPath(file.getAbsolutePath());
    PsiFile psiFile=PsiManager.getInstance(myEnvironment.getProject()).findFile(fileByPath);
    if (psiFile instanceof JetFile) {
      (library ? myLibrarySourceFiles : mySourceFiles).add((JetFile)psiFile);
    }
  }
}
