{
  final File unpackedRuntimePath=CoreCompileEnvironment.getUnpackedRuntimePath();
  if (unpackedRuntimePath != null) {
    addSources(new File(unpackedRuntimePath,"stdlib/ktSrc").getAbsoluteFile(),forAnalize ? myLibrarySourceFileNamespaces : mySourceFileNamespaces);
  }
 else {
    final File runtimeJarPath=CoreCompileEnvironment.getRuntimeJarPath();
    if (runtimeJarPath != null && runtimeJarPath.exists()) {
      VirtualFile runtimeJar=myEnvironment.getLocalFileSystem().findFileByPath(runtimeJarPath.getAbsolutePath());
      VirtualFile jarRoot=myEnvironment.getJarFileSystem().findFileByPath(runtimeJar.getPath() + "!/stdlib/ktSrc");
      addSources(jarRoot,myLibrarySourceFileNamespaces);
    }
 else {
      return false;
    }
  }
  return true;
}
