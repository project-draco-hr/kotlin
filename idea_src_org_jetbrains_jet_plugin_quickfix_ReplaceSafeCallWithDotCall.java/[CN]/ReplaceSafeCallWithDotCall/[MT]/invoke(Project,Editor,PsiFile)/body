{
  if (element instanceof JetSafeQualifiedExpression) {
    JetSafeQualifiedExpression safeQualifiedExpression=(JetSafeQualifiedExpression)element;
    JetDotQualifiedExpression newElement=(JetDotQualifiedExpression)JetPsiFactory.createExpression(project,"x.foo");
    CodeEditUtil.replaceChild(newElement.getNode(),newElement.getSelectorExpression().getNode(),safeQualifiedExpression.getSelectorExpression().getNode());
    CodeEditUtil.replaceChild(newElement.getNode(),newElement.getReceiverExpression().getNode(),safeQualifiedExpression.getReceiverExpression().getNode());
    element.replace(newElement);
  }
 else   if (element instanceof JetWhenConditionCall) {
    JetWhenConditionCall newElement=(JetWhenConditionCall)element;
    JetDotQualifiedExpression callExpression=(JetDotQualifiedExpression)JetPsiFactory.createExpression(project,"x.foo");
    CodeEditUtil.replaceChild(newElement.getNode(),newElement.getOperationTokenNode(),callExpression.getOperationTokenNode());
    element.replace(newElement);
  }
}
