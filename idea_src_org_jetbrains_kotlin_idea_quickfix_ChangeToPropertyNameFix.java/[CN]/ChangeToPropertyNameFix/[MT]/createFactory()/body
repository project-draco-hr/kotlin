{
  return new JetSingleIntentionActionFactory(){
    @Override public KotlinQuickFixAction<JetSimpleNameExpression> createAction(    Diagnostic diagnostic){
      JetSimpleNameExpression expression=QuickFixUtil.getParentElementOfType(diagnostic,JetSimpleNameExpression.class);
      if (expression == null) {
        PsiElement element=diagnostic.getPsiElement();
        if (element instanceof JetQualifiedExpression && ((JetQualifiedExpression)element).getReceiverExpression() instanceof JetThisExpression) {
          JetExpression selector=((JetQualifiedExpression)element).getSelectorExpression();
          if (selector instanceof JetSimpleNameExpression) {
            expression=(JetSimpleNameExpression)selector;
          }
        }
      }
      if (expression == null)       return null;
      return new ChangeToPropertyNameFix(expression);
    }
  }
;
}
