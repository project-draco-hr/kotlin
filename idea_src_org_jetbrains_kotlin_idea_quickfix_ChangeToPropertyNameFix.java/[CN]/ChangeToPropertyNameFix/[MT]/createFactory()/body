{
  return new JetSingleIntentionActionFactory(){
    @Override public KotlinQuickFixAction<KtSimpleNameExpression> createAction(    Diagnostic diagnostic){
      KtSimpleNameExpression expression=QuickFixUtil.getParentElementOfType(diagnostic,KtSimpleNameExpression.class);
      if (expression == null) {
        PsiElement element=diagnostic.getPsiElement();
        if (element instanceof KtQualifiedExpression && ((KtQualifiedExpression)element).getReceiverExpression() instanceof KtThisExpression) {
          KtExpression selector=((KtQualifiedExpression)element).getSelectorExpression();
          if (selector instanceof KtSimpleNameExpression) {
            expression=(KtSimpleNameExpression)selector;
          }
        }
      }
      if (expression == null)       return null;
      return new ChangeToPropertyNameFix(expression);
    }
  }
;
}
