{
  return new JetSingleIntentionActionFactory(){
    @Nullable @Override public IntentionAction createAction(    Diagnostic diagnostic){
      JetReferenceExpression typeExpr=getImportOrUsageFromDiagnostic(diagnostic);
      if (typeExpr == null)       return null;
      PsiFile psiFile=diagnostic.getPsiFile();
      if (!(psiFile instanceof JetFile))       return null;
      BindingContext context=ResolvePackage.analyzeFully((JetFile)psiFile);
      ClassDescriptor platformClass=resolveToClass(typeExpr,context);
      if (platformClass == null)       return null;
      DiagnosticWithParameters1<JetElement,Collection<ClassDescriptor>> parametrizedDiagnostic=Errors.PLATFORM_CLASS_MAPPED_TO_KOTLIN.cast(diagnostic);
      return new MapPlatformClassToKotlinFix(typeExpr,platformClass,parametrizedDiagnostic.getA());
    }
  }
;
}
