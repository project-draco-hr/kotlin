{
  PsiBuilder.Marker decl=mark();
  TokenDetector detector=new TokenDetector(ENUM_KEYWORD);
  parseModifierList(MODIFIER_LIST,detector,REGULAR_ANNOTATIONS_ALLOW_SHORTS);
  IElementType keywordToken=tt();
  IElementType declType=null;
  if (keywordToken == CLASS_KEYWORD || keywordToken == TRAIT_KEYWORD) {
    declType=parseClass(detector.isDetected());
  }
 else   if (keywordToken == FUN_KEYWORD) {
    declType=parseFunction();
  }
 else   if (keywordToken == VAL_KEYWORD || keywordToken == VAR_KEYWORD) {
    declType=parseProperty();
  }
 else   if (keywordToken == TYPE_ALIAS_KEYWORD) {
    declType=parseTypeAlias();
  }
 else   if (keywordToken == OBJECT_KEYWORD) {
    parseObject(NameParsingMode.REQUIRED,true);
    declType=OBJECT_DECLARATION;
  }
  if (declType == null) {
    errorAndAdvance("Expecting a top level declaration");
    decl.drop();
  }
 else {
    closeDeclarationWithCommentBinders(decl,declType,true);
  }
}
