{
  List<JetFile> sortedFiles=new ArrayList<JetFile>(files);
  Collections.sort(sortedFiles,scopeFileComparator);
  JetFile file=sortedFiles.get(0);
  ResolveSession resolveSession=ResolvePackage.getResolutionFacade(file).getFrontendService(ResolveSession.class);
  forceResolvePackageDeclarations(files,resolveSession);
  return new LightClassConstructionContext(resolveSession.getBindingContext(),resolveSession.getModuleDescriptor());
}
