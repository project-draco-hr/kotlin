{
  List<PsiClass> result=new ArrayList<PsiClass>();
  List<KotlinLightPackageClassInfo> packageClassesInfos=findPackageClassesInfos(packageFqName,scope);
  for (  KotlinLightPackageClassInfo info : packageClassesInfos) {
    Collection<JetFile> files=info.getFiles();
    List<JetFile> filesWithCallables=PackagePartClassUtils.getPackageFilesWithCallables(files);
    if (filesWithCallables.isEmpty())     continue;
    IdeaModuleInfo moduleInfo=info.getModuleInfo();
    if (moduleInfo instanceof ModuleSourceInfo) {
      KotlinLightClassForPackage lightClass=KotlinLightClassForPackage.OBJECT$.create(psiManager,packageFqName,moduleInfo.contentScope(),files);
      if (lightClass == null)       continue;
      result.add(lightClass);
      if (files.size() > 1) {
        for (        JetFile file : files) {
          result.add(new FakeLightClassForFileOfPackage(psiManager,lightClass,file));
        }
      }
    }
 else {
      PsiClass clsClass=getLightClassForDecompiledPackage(packageFqName,filesWithCallables);
      if (clsClass != null) {
        result.add(clsClass);
      }
    }
  }
  return result;
}
