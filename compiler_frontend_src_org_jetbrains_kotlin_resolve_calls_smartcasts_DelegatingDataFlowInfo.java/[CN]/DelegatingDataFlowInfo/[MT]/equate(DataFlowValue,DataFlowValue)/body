{
  Map<DataFlowValue,Nullability> builder=Maps.newHashMap();
  Nullability nullabilityOfA=getNullability(a);
  Nullability nullabilityOfB=getNullability(b);
  boolean changed=false;
  changed|=putNullability(builder,a,nullabilityOfA.refine(nullabilityOfB));
  changed|=putNullability(builder,b,nullabilityOfB.refine(nullabilityOfA));
  SetMultimap<DataFlowValue,KotlinType> newTypeInfo=newTypeInfo();
  newTypeInfo.putAll(a,collectTypesFromMeAndParents(b));
  newTypeInfo.putAll(b,collectTypesFromMeAndParents(a));
  if (!a.getType().equals(b.getType())) {
    if (!TypeUtilsKt.isSubtypeOf(a.getType(),b.getType())) {
      newTypeInfo.put(a,b.getType());
    }
    if (!TypeUtilsKt.isSubtypeOf(b.getType(),a.getType())) {
      newTypeInfo.put(b,a.getType());
    }
  }
  changed|=!newTypeInfo.isEmpty();
  return !changed ? this : new DelegatingDataFlowInfo(this,ImmutableMap.copyOf(builder),newTypeInfo.isEmpty() ? EMPTY_TYPE_INFO : newTypeInfo);
}
