{
  if (caretPosition == CaretPosition.AFTER_BRACKETS && bracketType == BracketType.BRACES) {
    throw new IllegalArgumentException("CaretPosition.AFTER_BRACKETS with bracketType == BracketType.BRACES combination is not supported");
  }
  this.caretPosition=caretPosition;
  this.bracketType=bracketType;
}
