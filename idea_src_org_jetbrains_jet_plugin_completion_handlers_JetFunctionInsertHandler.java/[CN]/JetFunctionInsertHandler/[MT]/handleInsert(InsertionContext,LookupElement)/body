{
  if (context.getCompletionChar() == '(') {
    context.setAddCompletionChar(false);
  }
  int startOffset=context.getStartOffset();
  int lookupStringLength=item.getLookupString().length();
  int endOffset=startOffset + lookupStringLength;
  context.getDocument().insertString(endOffset,"()");
  Editor editor=context.getEditor();
  if (caretPosition == CaretPosition.IN_BRACKETS) {
    editor.getCaretModel().moveToOffset(editor.getCaretModel().getOffset() + 1);
  }
 else {
    editor.getCaretModel().moveToOffset(editor.getCaretModel().getOffset() + 2);
  }
  PsiDocumentManager.getInstance(context.getProject()).commitDocument(context.getDocument());
  addImport(context,item);
}
