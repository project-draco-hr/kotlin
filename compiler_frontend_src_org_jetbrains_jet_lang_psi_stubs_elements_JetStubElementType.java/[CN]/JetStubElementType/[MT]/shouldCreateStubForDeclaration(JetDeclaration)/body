{
  if (PsiTreeUtil.getParentOfType(declaration,JetFunctionLiteral.class,false,ALWAYS_CREATE_STUB_FOR) != null) {
    return false;
  }
  JetBlockExpression blockExpression=PsiTreeUtil.getParentOfType(declaration,JetBlockExpression.class,false,ALWAYS_CREATE_STUB_FOR);
  if (blockExpression != null) {
    return false;
  }
  Class<? extends PsiElement>[] stopAt=ArrayUtil.append(ALWAYS_CREATE_STUB_FOR,JetBlockExpression.class);
  @SuppressWarnings("unchecked") JetWithExpressionInitializer withInitializer=PsiTreeUtil.getParentOfType(declaration,JetWithExpressionInitializer.class,true,stopAt);
  if (withInitializer != null) {
    JetExpression initializer=withInitializer.getInitializer();
    if (PsiTreeUtil.isAncestor(initializer,declaration,true)) {
      return false;
    }
  }
  @SuppressWarnings("unchecked") JetPropertyDelegate delegate=PsiTreeUtil.getParentOfType(declaration,JetPropertyDelegate.class,true,stopAt);
  if (delegate != null) {
    JetExpression delegateExpression=delegate.getExpression();
    if (PsiTreeUtil.isAncestor(delegateExpression,declaration,true)) {
      return false;
    }
  }
  return true;
}
