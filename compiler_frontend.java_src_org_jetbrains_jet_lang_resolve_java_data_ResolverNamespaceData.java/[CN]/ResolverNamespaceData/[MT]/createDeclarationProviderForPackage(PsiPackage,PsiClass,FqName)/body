{
  if (psiClass == null) {
    return new ResolverNamespaceData(psiPackage);
  }
  KotlinNamespacePsiDeclarationProvider result=new KotlinNamespacePsiDeclarationProvider(psiPackage,psiClass);
  if (fqName != null && fqName.lastSegmentIs(Name.identifier(JvmAbi.PACKAGE_CLASS))) {
    throw new IllegalStateException("Kotlin namespace cannot have last segment " + JvmAbi.PACKAGE_CLASS + ": "+ fqName);
  }
  return result;
}
