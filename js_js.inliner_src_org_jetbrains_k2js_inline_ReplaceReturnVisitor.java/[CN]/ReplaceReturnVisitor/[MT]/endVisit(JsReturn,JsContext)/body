{
  if (breakLabel != null) {
    JsBreak breakFunction=new JsBreak(breakLabel);
    ctx.insertAfter(breakFunction);
  }
  JsExpression returnExpression=x.getExpression();
  if (returnExpression == null) {
    ctx.removeMe();
    return;
  }
  if (resultRef != null) {
    JsExpression resultAssignment=JsAstUtils.assignment(resultRef,returnExpression);
    ctx.replaceMe(new JsExpressionStatement(resultAssignment));
    return;
  }
  if (canHaveSideEffect(returnExpression)) {
    JsStatement replacement=new JsExpressionStatement(returnExpression);
    ctx.replaceMe(replacement);
  }
 else {
    ctx.removeMe();
  }
}
