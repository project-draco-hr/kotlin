{
  Type result;
  if (type.hasPrimitiveType()) {
    result=PRIMITIVE_TYPES[type.getPrimitiveType().ordinal()];
  }
 else {
    result=Type.getObjectType(fqNameToInternalName(nameResolver.getFqName(type.getClassFqName())));
  }
  StringBuilder brackets=new StringBuilder(type.getArrayDimension());
  for (int i=0; i < type.getArrayDimension(); i++) {
    brackets.append('[');
  }
  return Type.getType(brackets + result.getDescriptor());
}
