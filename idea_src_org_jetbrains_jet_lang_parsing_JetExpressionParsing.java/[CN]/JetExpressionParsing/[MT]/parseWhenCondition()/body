{
  PsiBuilder.Marker condition=mark();
  if (at(IN_KEYWORD) || at(NOT_IN)) {
    advance();
    if (atSet(WHEN_CONDITION_RECOVERY_SET_WITH_DOUBLE_ARROW)) {
      error("Expecting an expression");
    }
 else {
      parseExpression();
    }
  }
 else   if (at(IS_KEYWORD) || at(NOT_IS)) {
    advance();
    if (atSet(WHEN_CONDITION_RECOVERY_SET_WITH_DOUBLE_ARROW)) {
      error("Expecting a type or a decomposer pattern");
    }
 else {
      parsePattern();
    }
  }
 else {
    if (atSet(WHEN_CONDITION_RECOVERY_SET_WITH_DOUBLE_ARROW)) {
      error("Expecting an expression, is-condition or in-condition");
    }
 else {
      parseExpression();
    }
  }
  condition.done(WHEN_CONDITION);
}
