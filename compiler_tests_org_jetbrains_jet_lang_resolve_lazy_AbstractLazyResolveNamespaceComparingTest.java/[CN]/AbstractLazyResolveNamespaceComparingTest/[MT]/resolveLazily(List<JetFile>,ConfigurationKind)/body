{
  ModuleDescriptor lazyModule=new ModuleDescriptor(Name.special("<lazy module>"));
  JetCoreEnvironmentWithDisposable environment=new JetCoreEnvironmentWithDisposable(configurationKind);
  ModuleConfiguration moduleConfiguration=getEagerInjectorForTopDownAnalyzer(environment).getModuleConfiguration();
  ResolveSession session=new ResolveSession(getProject(),lazyModule,moduleConfiguration,new FileBasedDeclarationProviderFactory(files));
  return lazyModule;
}
