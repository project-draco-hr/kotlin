{
  Predicate<PsiFile> filesToAnalyzeCompletely=stubs ? Predicates.<PsiFile>alwaysFalse() : Predicates.<PsiFile>alwaysTrue();
  bindingContext=AnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(environment.getProject(),sourceFiles,filesToAnalyzeCompletely,JetControlFlowDataTraceFactory.EMPTY);
  for (  Diagnostic diagnostic : bindingContext.getBindingContext().getDiagnostics()) {
    reportDiagnostic(messageCollector,diagnostic);
  }
  reportIncompleteHierarchies(messageCollector);
}
