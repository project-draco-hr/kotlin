{
  loadText("package " + PACKAGE_NAME + "\n"+ "\n"+ "class "+ CLASS_NAME+ " {\n"+ "    fun foo() {}\n"+ "    fun bar() = 42\n"+ "}\n");
  Class aClass=generateClass(PACKAGE_NAME + "." + CLASS_NAME);
  Class<? extends Annotation> annotationClass=getCorrespondingAnnotationClass(KotlinClass.class);
  assertTrue(aClass.isAnnotationPresent(annotationClass));
  Annotation kotlinClass=aClass.getAnnotation(annotationClass);
  ClassData data=JavaProtoBufUtil.readClassDataFrom((String[])ClassLoaderIsolationUtil.getAnnotationAttribute(kotlinClass,"data"));
  Set<String> callableNames=collectCallableNames(data.getClassProto().getMemberList(),data.getNameResolver());
  assertSameElements(Arrays.asList("foo","bar"),callableNames);
}
