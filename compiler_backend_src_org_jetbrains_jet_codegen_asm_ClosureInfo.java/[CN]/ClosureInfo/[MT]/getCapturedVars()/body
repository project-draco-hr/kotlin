{
  if (capturedVars == null) {
    capturedVars=new ArrayList<EnclosedValueDescriptor>();
    if (closure.getCaptureThis() != null) {
      EnclosedValueDescriptor descriptor=new EnclosedValueDescriptor(AsmUtil.CAPTURED_THIS_FIELD,null,null,typeMapper.mapType(closure.getCaptureThis()));
      capturedVars.add(descriptor);
    }
    if (closure.getCaptureReceiverType() != null) {
      EnclosedValueDescriptor descriptor=new EnclosedValueDescriptor(AsmUtil.CAPTURED_RECEIVER_FIELD,null,null,typeMapper.mapType(closure.getCaptureReceiverType()));
      capturedVars.add(descriptor);
    }
    if (closure != null) {
      capturedVars.addAll(closure.getCaptureVariables().values());
    }
  }
  return capturedVars;
}
