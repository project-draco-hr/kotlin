{
  JetModifierList modifierList=property.getModifierList();
  if (modifierList == null)   return;
  PsiElement modifier=modifierList.getModifier(JetTokens.LATEINIT_KEYWORD);
  if (modifier == null)   return;
  if (!propertyDescriptor.isVar()) {
    trace.report(INAPPLICABLE_LATEINIT_MODIFIER_IMMUTABLE.on(modifier));
    return;
  }
  boolean returnTypeIsNullable=true;
  boolean returnTypeIsPrimitive=true;
  JetType returnType=propertyDescriptor.getReturnType();
  if (returnType != null) {
    returnTypeIsNullable=TypeUtils.isNullableType(returnType);
    returnTypeIsPrimitive=KotlinBuiltIns.isPrimitiveType(returnType);
  }
  if (returnTypeIsNullable) {
    trace.report(INAPPLICABLE_LATEINIT_MODIFIER_NULLABLE.on(modifier));
    return;
  }
  if (returnTypeIsPrimitive) {
    trace.report(INAPPLICABLE_LATEINIT_MODIFIER_PRIMITIVE.on(modifier));
    return;
  }
  if (propertyDescriptor.getModality() == Modality.ABSTRACT) {
    trace.report(INAPPLICABLE_LATEINIT_MODIFIER_ABSTRACT_PROPERTY.on(modifier));
    return;
  }
  if (property instanceof JetParameter) {
    trace.report(INAPPLICABLE_LATEINIT_MODIFIER_PRIMARY_CONSTRUCTOR_PARAMETER.on(modifier));
    return;
  }
  boolean hasBackingField=Boolean.TRUE.equals(trace.getBindingContext().get(BindingContext.BACKING_FIELD_REQUIRED,propertyDescriptor));
  boolean hasDelegateOrInitializer=false;
  if (property instanceof JetProperty) {
    hasDelegateOrInitializer=((JetProperty)property).hasDelegateExpressionOrInitializer();
  }
  PropertyGetterDescriptor getter=propertyDescriptor.getGetter();
  PropertySetterDescriptor setter=propertyDescriptor.getSetter();
  boolean customGetterOrSetter=false;
  if (getter != null) {
    customGetterOrSetter=getter.hasBody();
  }
  if (setter != null) {
    customGetterOrSetter|=setter.hasBody();
  }
  if (!hasBackingField || hasDelegateOrInitializer || customGetterOrSetter|| propertyDescriptor.getExtensionReceiverParameter() != null) {
    trace.report(INAPPLICABLE_LATEINIT_MODIFIER.on(modifier));
  }
}
