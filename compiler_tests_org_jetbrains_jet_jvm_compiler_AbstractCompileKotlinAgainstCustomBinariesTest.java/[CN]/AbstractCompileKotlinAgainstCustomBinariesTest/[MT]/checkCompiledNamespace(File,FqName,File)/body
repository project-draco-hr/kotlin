{
  JetCoreEnvironment environment=getEnvironment(ktFile);
  Project project=environment.getProject();
  List<JetFile> jetFiles=Collections.singletonList(JetTestUtils.loadJetFile(project,ktFile));
  BindingContext bindingContext=AnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(project,jetFiles,Collections.<AnalyzerScriptParameter>emptyList(),Predicates.<PsiFile>alwaysTrue()).getBindingContext();
  NamespaceDescriptor namespaceDescriptor=bindingContext.get(BindingContext.FQNAME_TO_NAMESPACE_DESCRIPTOR,namespaceFqn);
  assertNotNull("Failed to find namespace: " + namespaceFqn,namespaceDescriptor);
  validateAndCompareNamespaceWithFile(namespaceDescriptor,NamespaceComparator.DONT_INCLUDE_METHODS_OF_OBJECT.withValidationStrategy(DescriptorValidator.ValidationVisitor.ALLOW_ERROR_TYPES),expectedFile);
}
