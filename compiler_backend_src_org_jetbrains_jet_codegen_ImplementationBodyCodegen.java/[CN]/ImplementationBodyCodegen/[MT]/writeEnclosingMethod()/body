{
  DeclarationDescriptor parentDescriptor=descriptor.getContainingDeclaration();
  boolean isObjectLiteral=DescriptorUtils.isAnonymousObject(descriptor);
  boolean isLocalOrAnonymousClass=isObjectLiteral || !(parentDescriptor instanceof PackageFragmentDescriptor || parentDescriptor instanceof ClassDescriptor);
  if (isLocalOrAnonymousClass && state.getClassBuilderMode() != ClassBuilderMode.LIGHT_CLASSES) {
    writeOuterClassAndEnclosingMethod(descriptor,descriptor,typeMapper,v);
  }
}
