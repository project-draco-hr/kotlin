{
  DeclarationDescriptor containing=innerClass.getContainingDeclaration();
  String outerClassInternalName=containing instanceof ClassDescriptor ? getInternalNameForImpl((ClassDescriptor)containing) : null;
  String innerClassInternalName;
  String innerName;
  if (isClassObject(innerClass)) {
    innerName=JvmAbi.CLASS_OBJECT_CLASS_NAME;
    innerClassInternalName=outerClassInternalName + JvmAbi.CLASS_OBJECT_SUFFIX;
  }
 else {
    innerName=innerClass.getName().isSpecial() ? null : innerClass.getName().asString();
    innerClassInternalName=getInternalNameForImpl(innerClass);
  }
  v.visitInnerClass(innerClassInternalName,outerClassInternalName,innerName,calculateInnerClassAccessFlags(innerClass));
}
