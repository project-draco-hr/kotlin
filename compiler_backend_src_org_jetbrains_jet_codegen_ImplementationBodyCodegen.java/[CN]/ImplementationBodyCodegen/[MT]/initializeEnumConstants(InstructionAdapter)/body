{
  ExpressionCodegen codegen=new ExpressionCodegen(v,new FrameMap(),Type.VOID_TYPE,context,state);
  for (  JetEnumEntry enumConstant : myEnumConstants) {
    String implClass=typeMapper.mapType(descriptor.getDefaultType(),OwnerKind.IMPLEMENTATION).getInternalName();
    final List<JetDelegationSpecifier> delegationSpecifiers=enumConstant.getDelegationSpecifiers();
    if (delegationSpecifiers.size() > 1) {
      throw new UnsupportedOperationException("multiple delegation specifiers for enum constant not supported");
    }
    v.anew(Type.getObjectType(implClass));
    v.dup();
    if (delegationSpecifiers.size() == 1) {
      final JetDelegationSpecifier specifier=delegationSpecifiers.get(0);
      if (specifier instanceof JetDelegatorToSuperCall) {
        final JetDelegatorToSuperCall superCall=(JetDelegatorToSuperCall)specifier;
        ConstructorDescriptor constructorDescriptor=(ConstructorDescriptor)bindingContext.get(BindingContext.REFERENCE_TARGET,superCall.getCalleeExpression().getConstructorReferenceExpression());
        CallableMethod method=typeMapper.mapToCallableMethod(constructorDescriptor,OwnerKind.IMPLEMENTATION);
        codegen.invokeMethodWithArguments(method,superCall,StackValue.none());
      }
 else {
        throw new UnsupportedOperationException("unsupported type of enum constant initializer: " + specifier);
      }
    }
 else {
      v.invokespecial(implClass,"<init>","()V");
    }
    v.putstatic(implClass,enumConstant.getName(),"L" + implClass + ";");
  }
}
