{
  TypeConstructor originalTypeConstructor=original.getTypeConstructor();
  if (originalSubstitutor.isEmpty()) {
    return originalTypeConstructor;
  }
  if (typeConstructor == null) {
    TypeSubstitutor substitutor=getSubstitutor();
    Collection<JetType> originalSupertypes=originalTypeConstructor.getSupertypes();
    Collection<JetType> supertypes=new ArrayList<JetType>(originalSupertypes.size());
    for (    JetType supertype : originalSupertypes) {
      supertypes.add(substitutor.substitute(supertype,Variance.INVARIANT));
    }
    typeConstructor=TypeConstructorImpl.createForClass(this,originalTypeConstructor.getAnnotations(),originalTypeConstructor.isFinal(),originalTypeConstructor.toString(),typeParameters,supertypes);
  }
  return typeConstructor;
}
