{
  List<JetExpression> result=Lists.newArrayList();
  for (  PsiReference reference : ReferencesSearch.search(val,GlobalSearchScope.allScope(val.getProject()),false).findAll()) {
    JetExpression expression=(JetExpression)reference.getElement();
    PsiElement parent=expression.getParent();
    if (parent instanceof JetQualifiedExpression && ((JetQualifiedExpression)parent).getSelectorExpression() == expression) {
      result.add((JetQualifiedExpression)parent);
    }
 else {
      result.add(expression);
    }
  }
  return result;
}
