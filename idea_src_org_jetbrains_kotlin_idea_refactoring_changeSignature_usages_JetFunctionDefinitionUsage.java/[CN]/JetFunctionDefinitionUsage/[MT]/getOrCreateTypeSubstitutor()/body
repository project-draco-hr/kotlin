{
  if (!isInherited())   return null;
  if (typeSubstitutor == null) {
    if (samCallType == null) {
      typeSubstitutor=ChangeSignaturePackage.getFunctionSubstitutor(baseFunction,this);
    }
 else {
      DeclarationDescriptor currentBaseDescriptor=baseFunction.getCurrentFunctionDescriptor();
      DeclarationDescriptor classDescriptor=currentBaseDescriptor != null ? currentBaseDescriptor.getContainingDeclaration() : null;
      if (!(classDescriptor instanceof ClassDescriptor))       return null;
      typeSubstitutor=ChangeSignaturePackage.getTypeSubstitutor(((ClassDescriptor)classDescriptor).getDefaultType(),samCallType);
    }
  }
  return typeSubstitutor;
}
