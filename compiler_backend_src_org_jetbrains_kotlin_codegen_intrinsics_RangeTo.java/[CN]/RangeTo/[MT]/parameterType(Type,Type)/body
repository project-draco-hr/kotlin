{
  int left=leftType.getSort();
  int right=rightType.getSort();
  if (left == DOUBLE || right == DOUBLE) {
    return DOUBLE_TYPE;
  }
 else   if (left == FLOAT || right == FLOAT) {
    return FLOAT_TYPE;
  }
 else   if (left == LONG || right == LONG) {
    return LONG_TYPE;
  }
 else   if (left == INT || right == INT) {
    return INT_TYPE;
  }
 else   if (left == SHORT || right == SHORT) {
    return SHORT_TYPE;
  }
 else   if (left == CHAR || right == CHAR) {
    return CHAR_TYPE;
  }
 else   if (left == BYTE || right == BYTE) {
    return BYTE_TYPE;
  }
 else {
    throw new IllegalStateException("RangeTo intrinsic can only work for primitive types: " + leftType + ", "+ rightType);
  }
}
