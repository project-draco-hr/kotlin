{
  FqName fqName=PackageClassUtils.getPackageClassFqName(DescriptorUtils.getFQName(descriptor).toSafe());
  PsiClass psiClass=psiClassFinder.findPsiClass(fqName,PsiClassFinder.RuntimeClassesHandleMode.IGNORE);
  if (psiClass == null) {
    throw new IllegalStateException("Psi class is not found for package: " + descriptor);
  }
  VirtualFile virtualFile=psiClass.getContainingFile().getVirtualFile();
  if (virtualFile == null) {
    throw new IllegalStateException("Virtual file is not found for package: " + descriptor);
  }
  return virtualFile;
}
