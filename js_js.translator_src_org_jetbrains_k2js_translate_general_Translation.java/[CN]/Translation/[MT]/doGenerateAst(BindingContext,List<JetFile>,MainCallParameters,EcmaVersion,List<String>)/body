{
  JetStandardLibrary standardLibrary=JetStandardLibrary.getInstance();
  StaticContext staticContext=StaticContext.generateStaticContext(standardLibrary,bindingContext,ecmaVersion);
  JsBlock block=staticContext.getProgram().getFragmentBlock(0);
  TranslationContext context=TranslationContext.rootContext(staticContext);
  block.getStatements().addAll(translateFiles(files,context));
  if (mainCallParameters.shouldBeGenerated()) {
    block.getStatements().add(generateCallToMain(context,files,mainCallParameters.arguments()));
  }
  generateTestCalls(context,files,block,rawStatements);
  JsNamer namer=new JsPrettyNamer();
  namer.exec(context.program());
  return context.program();
}
