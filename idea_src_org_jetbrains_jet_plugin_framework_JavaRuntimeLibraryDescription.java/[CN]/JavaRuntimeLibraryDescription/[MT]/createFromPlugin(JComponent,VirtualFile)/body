{
  File runtimePath=PathUtil.getKotlinPathsForIdeaPlugin().getRuntimePath();
  if (!runtimePath.exists()) {
    Messages.showErrorDialog("Java Runtime library was not found. Make sure plugin is installed properly.",JAVA_RUNTIME_LIBRARY_CREATION);
    return null;
  }
  final VirtualFile directory=FileUIUtils.selectCopyToDirectory("Select folder where bundled Kotlin java runtime library should be copied",parentComponent,contextDirectory);
  if (directory == null) {
    return null;
  }
  final File targetFile;
  try {
    targetFile=FileUIUtils.copyWithOverwriteDialog(directory,runtimePath);
  }
 catch (  IOException e) {
    Messages.showErrorDialog("Error during file copy",JAVA_RUNTIME_LIBRARY_CREATION);
    return null;
  }
  return new NewLibraryConfiguration(KotlinRuntimeLibraryUtil.LIBRARY_NAME,getDownloadableLibraryType(),new LibraryVersionProperties()){
    @Override public void addRoots(    @NotNull LibraryEditor editor){
      editor.addRoot(VfsUtil.getUrlForLibraryRoot(targetFile),OrderRootType.CLASSES);
      editor.addRoot(VfsUtil.getUrlForLibraryRoot(targetFile) + "src",OrderRootType.SOURCES);
    }
  }
;
}
