{
  BindingTrace trace=context.trace;
  TailRecursionKind recursionKind=JetPsiUtil.visitUpwardToRoot(callExpression,new TailRecursionDetectorVisitor(),TailRecursionKind.MIGHT_BE);
  trace.record(BindingContext.TAIL_RECURSION_CALL,callExpression,recursionKind);
switch (recursionKind) {
case NON_TAIL:
    trace.report(Errors.NON_TAIL_RECURSIVE_CALL.on(callExpression));
  break;
case IN_TRY:
trace.report(Errors.TAIL_RECURSION_IN_TRY_IS_NOT_SUPPORTED.on(callExpression));
break;
default :
break;
}
}
