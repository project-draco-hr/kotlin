{
  if (fqName.isRoot())   return Collections.emptyList();
  PackageMemberDeclarationProvider provider=declarationProviderFactory.getPackageMemberDeclarationProvider(fqName.parent());
  if (provider == null)   return Collections.emptyList();
  return ContainerUtil.mapNotNull(provider.getClassOrObjectDeclarations(fqName.shortName()),new Function<JetClassLikeInfo,ClassDescriptor>(){
    @Override public ClassDescriptor fun(    JetClassLikeInfo classLikeInfo){
      if (classLikeInfo instanceof JetClassOrObjectInfo) {
        return getClassDescriptor(((JetClassOrObjectInfo)classLikeInfo).getCorrespondingClassOrObject(),location);
      }
 else       if (classLikeInfo instanceof JetScriptInfo) {
        return getScriptDescriptor(((JetScriptInfo)classLikeInfo).getScript());
      }
 else {
        throw new IllegalStateException("Unexpected " + classLikeInfo + " of type "+ classLikeInfo.getClass().getName());
      }
    }
  }
);
}
