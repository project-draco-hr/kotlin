{
  if (fqName.isRoot())   return Collections.emptyList();
  PackageMemberDeclarationProvider provider=declarationProviderFactory.getPackageMemberDeclarationProvider(fqName.parent());
  if (provider == null)   return Collections.emptyList();
  return ContainerUtil.mapNotNull(provider.getClassOrObjectDeclarations(fqName.shortName()),new Function<JetClassLikeInfo,ClassDescriptor>(){
    @Override public ClassDescriptor fun(    JetClassLikeInfo classLikeInfo){
      if (classLikeInfo instanceof JetScriptInfo) {
        return getClassDescriptorForScript(((JetScriptInfo)classLikeInfo).getScript());
      }
      JetClassOrObject classOrObject=classLikeInfo.getCorrespondingClassOrObject();
      if (classOrObject == null)       return null;
      return getClassDescriptor(classOrObject,location);
    }
  }
);
}
