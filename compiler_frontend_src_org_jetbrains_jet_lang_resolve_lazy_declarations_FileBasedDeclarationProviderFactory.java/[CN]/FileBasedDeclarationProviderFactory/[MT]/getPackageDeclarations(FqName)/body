{
  if (fqName.isRoot()) {
    return Collections.emptyList();
  }
  Collection<NavigatablePsiElement> resultElements=Lists.newArrayList();
  for (  FqName declaredPackage : index.invoke().filesByPackage.keys()) {
    if (QualifiedNamesUtil.isSubpackageOf(declaredPackage,fqName)) {
      Collection<JetFile> files=index.invoke().filesByPackage.get(declaredPackage);
      resultElements.addAll(ContainerUtil.map(files,new Function<JetFile,NavigatablePsiElement>(){
        @Override public NavigatablePsiElement fun(        JetFile file){
          return JetPsiUtil.getPackageReference(file,QualifiedNamesUtil.numberOfSegments(fqName) - 1);
        }
      }
));
    }
  }
  return resultElements;
}
