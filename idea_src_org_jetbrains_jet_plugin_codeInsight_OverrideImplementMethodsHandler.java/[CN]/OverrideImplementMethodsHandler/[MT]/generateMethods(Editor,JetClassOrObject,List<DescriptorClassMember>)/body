{
  JetClassBody body=classOrObject.getBody();
  Project project=classOrObject.getProject();
  if (body == null) {
    body=JetPsiFactory.createEmptyClassBody(project);
  }
  PsiElement afterAnchor=findInsertAfterAnchor(editor,body);
  if (afterAnchor == null) {
    return;
  }
  List<JetElement> elementsToCompact=new ArrayList<JetElement>();
  final JetFile file=(JetFile)classOrObject.getContainingFile();
  for (  JetElement element : generateOverridingMembers(selectedElements,file)) {
    PsiElement added=body.addAfter(element,afterAnchor);
    afterAnchor=added;
    elementsToCompact.add((JetElement)added);
  }
  ReferenceToClassesShortening.compactReferenceToClasses(elementsToCompact);
  if (!body.isPhysical()) {
    classOrObject.add(JetPsiFactory.createWhiteSpace(project));
    classOrObject.add(body);
  }
}
