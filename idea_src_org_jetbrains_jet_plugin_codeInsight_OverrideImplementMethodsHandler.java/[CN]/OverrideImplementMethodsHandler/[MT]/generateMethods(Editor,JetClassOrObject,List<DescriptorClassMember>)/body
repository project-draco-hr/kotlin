{
  JetClassBody body=classOrObject.getBody();
  if (body == null) {
    Project project=classOrObject.getProject();
    classOrObject.add(JetPsiFactory.createWhiteSpace(project));
    body=(JetClassBody)classOrObject.add(JetPsiFactory.createEmptyClassBody(project));
  }
  PsiElement afterAnchor=findInsertAfterAnchor(editor,body);
  if (afterAnchor == null) {
    return;
  }
  List<JetElement> elementsToCompact=new ArrayList<JetElement>();
  JetFile file=(JetFile)classOrObject.getContainingFile();
  for (  JetElement element : generateOverridingMembers(selectedElements,file)) {
    PsiElement added=body.addAfter(element,afterAnchor);
    afterAnchor=added;
    elementsToCompact.add((JetElement)added);
  }
  ReferenceToClassesShortening.compactReferenceToClasses(elementsToCompact);
}
