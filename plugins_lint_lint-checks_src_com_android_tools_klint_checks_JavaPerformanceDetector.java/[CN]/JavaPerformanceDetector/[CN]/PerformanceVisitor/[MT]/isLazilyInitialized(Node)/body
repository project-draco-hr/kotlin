{
  Node curr=node.getParent();
  while (curr != null) {
    if (curr instanceof MethodDeclaration) {
      return false;
    }
 else     if (curr instanceof If) {
      If ifNode=(If)curr;
      List<String> assignments=new ArrayList<String>();
      AssignmentTracker visitor=new AssignmentTracker(assignments);
      ifNode.astStatement().accept(visitor);
      if (!assignments.isEmpty()) {
        List<String> references=new ArrayList<String>();
        addReferencedVariables(references,ifNode.astCondition());
        if (!references.isEmpty()) {
          SetView<String> intersection=Sets.intersection(new HashSet<String>(assignments),new HashSet<String>(references));
          return !intersection.isEmpty();
        }
      }
      return false;
    }
    curr=curr.getParent();
  }
  return false;
}
