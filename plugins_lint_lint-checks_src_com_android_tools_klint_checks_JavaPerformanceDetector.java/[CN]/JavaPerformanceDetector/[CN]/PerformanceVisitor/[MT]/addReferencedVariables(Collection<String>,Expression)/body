{
  if (expression instanceof BinaryExpression) {
    BinaryExpression binary=(BinaryExpression)expression;
    addReferencedVariables(variables,binary.astLeft());
    addReferencedVariables(variables,binary.astRight());
  }
 else   if (expression instanceof UnaryExpression) {
    UnaryExpression unary=(UnaryExpression)expression;
    addReferencedVariables(variables,unary.astOperand());
  }
 else   if (expression instanceof VariableReference) {
    VariableReference reference=(VariableReference)expression;
    variables.add(reference.astIdentifier().astValue());
  }
 else   if (expression instanceof Select) {
    Select select=(Select)expression;
    if (select.astOperand() instanceof This) {
      variables.add(select.astIdentifier().astValue());
    }
  }
}
