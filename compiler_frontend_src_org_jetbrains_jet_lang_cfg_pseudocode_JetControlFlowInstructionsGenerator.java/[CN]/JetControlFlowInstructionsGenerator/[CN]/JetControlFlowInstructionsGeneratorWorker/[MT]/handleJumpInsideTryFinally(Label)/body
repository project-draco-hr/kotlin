{
  List<TryFinallyBlockInfo> finallyBlocks=new ArrayList<TryFinallyBlockInfo>();
  for (int i=allBlocks.size() - 1; i >= 0; i--) {
    BlockInfo blockInfo=allBlocks.get(i);
    if (blockInfo instanceof BreakableBlockInfo) {
      BreakableBlockInfo breakableBlockInfo=(BreakableBlockInfo)blockInfo;
      if (breakableBlockInfo.getReferablePoints().contains(jumpTarget) || jumpTarget == error) {
        for (int j=finallyBlocks.size() - 1; j >= 0; j--) {
          finallyBlocks.get(j).generateFinallyBlock();
        }
        break;
      }
    }
 else     if (blockInfo instanceof TryFinallyBlockInfo) {
      TryFinallyBlockInfo tryFinallyBlockInfo=(TryFinallyBlockInfo)blockInfo;
      finallyBlocks.add(tryFinallyBlockInfo);
    }
  }
}
