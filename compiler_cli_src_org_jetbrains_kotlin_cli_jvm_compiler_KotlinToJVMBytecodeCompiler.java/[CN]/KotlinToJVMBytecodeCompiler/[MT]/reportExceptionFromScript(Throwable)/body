{
  PrintStream stream=System.err;
  Throwable cause=exception.getCause();
  if (!(exception instanceof InvocationTargetException) || cause == null) {
    exception.printStackTrace(stream);
    return;
  }
  stream.println(cause);
  StackTraceElement[] fullTrace=cause.getStackTrace();
  int relevantEntries=fullTrace.length - exception.getStackTrace().length;
  for (int i=0; i < relevantEntries; i++) {
    stream.println("\tat " + fullTrace[i]);
  }
}
