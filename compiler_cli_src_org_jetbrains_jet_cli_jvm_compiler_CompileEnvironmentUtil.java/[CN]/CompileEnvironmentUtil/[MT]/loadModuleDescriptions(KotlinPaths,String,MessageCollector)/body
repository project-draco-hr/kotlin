{
  File file=new File(moduleDefinitionFile);
  if (!file.exists()) {
    messageCollector.report(ERROR,"Module definition file does not exist: " + moduleDefinitionFile,NO_LOCATION);
    return Collections.emptyList();
  }
  String extension=FileUtilRt.getExtension(moduleDefinitionFile);
  if ("ktm".equalsIgnoreCase(extension)) {
    return loadModuleScript(paths,moduleDefinitionFile,messageCollector);
  }
  if ("xml".equalsIgnoreCase(extension)) {
    return ContainerUtil.map(ModuleXmlParser.parse(moduleDefinitionFile,messageCollector),new Function<ModuleDescription,Module>(){
      @Override public Module fun(      ModuleDescription description){
        return new DescriptionToModuleAdapter(description);
      }
    }
);
  }
  messageCollector.report(ERROR,"Unknown module definition type: " + moduleDefinitionFile,NO_LOCATION);
  return Collections.emptyList();
}
