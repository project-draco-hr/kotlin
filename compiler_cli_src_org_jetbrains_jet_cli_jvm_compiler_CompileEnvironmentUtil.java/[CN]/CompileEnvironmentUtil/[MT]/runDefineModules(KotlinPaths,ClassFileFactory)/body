{
  File stdlibJar=paths.getRuntimePath();
  GeneratedClassLoader loader;
  if (stdlibJar.exists()) {
    try {
      loader=new GeneratedClassLoader(factory,new URLClassLoader(new URL[]{stdlibJar.toURI().toURL()},AllModules.class.getClassLoader()));
    }
 catch (    MalformedURLException e) {
      throw new RuntimeException(e);
    }
  }
 else {
    loader=new GeneratedClassLoader(factory,KotlinToJVMBytecodeCompiler.class.getClassLoader());
  }
  try {
    Class<?> packageClass=loader.loadClass(PackageClassUtils.getPackageClassName(FqName.ROOT));
    Method method=packageClass.getDeclaredMethod("project");
    method.setAccessible(true);
    method.invoke(null);
    List<Module> answer=new ArrayList<Module>(AllModules.INSTANCE$.get());
    AllModules.INSTANCE$.get().clear();
    return answer;
  }
 catch (  Exception e) {
    throw new ModuleExecutionException(e);
  }
 finally {
    loader.dispose();
  }
}
