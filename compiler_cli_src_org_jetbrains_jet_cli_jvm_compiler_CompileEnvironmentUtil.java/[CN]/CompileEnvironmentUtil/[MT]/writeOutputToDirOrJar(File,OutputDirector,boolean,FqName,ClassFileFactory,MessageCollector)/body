{
  if (jar != null) {
    writeToJar(jar,includeRuntime,mainClass,factory);
  }
 else   if (outputDir != null) {
    writeToOutputWithDirector(factory,outputDir,messageCollector);
  }
 else {
    throw new CompileEnvironmentException("Output directory or jar file is not specified - no files will be saved to the disk");
  }
}
