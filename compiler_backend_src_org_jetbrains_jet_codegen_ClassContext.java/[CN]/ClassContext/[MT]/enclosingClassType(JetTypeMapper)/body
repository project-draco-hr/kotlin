{
  DeclarationDescriptor descriptor=getContextDescriptor();
  if (descriptor instanceof ClassDescriptor) {
    return Type.getObjectType(mapper.jvmName((ClassDescriptor)descriptor,OwnerKind.IMPLEMENTATION));
  }
  if (descriptor instanceof NamespaceDescriptor) {
    return null;
  }
  if (closure != null) {
    return Type.getObjectType(closure.name);
  }
  final ClassContext parent=getParentContext();
  return parent != null ? parent.enclosingClassType(mapper) : null;
}
