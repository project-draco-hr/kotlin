{
  int api=mApiDatabase.getClassVersion(signature);
  if (api > classMinSdk) {
    String fqcn=ClassContext.getFqcn(signature);
    String message=String.format("Class requires API level %1$d (current min is %2$d): `%3$s`",api,classMinSdk,fqcn);
    String name=signature.substring(signature.lastIndexOf('/') + 1);
    name=name.substring(name.lastIndexOf('$') + 1);
    SearchHints hints=SearchHints.create(BACKWARD).matchJavaSymbol();
    int lineNumber=ClassContext.findLineNumber(classNode);
    Location location=context.getLocationForLine(lineNumber,name,null,hints);
    context.report(UNSUPPORTED,location,message);
  }
}
