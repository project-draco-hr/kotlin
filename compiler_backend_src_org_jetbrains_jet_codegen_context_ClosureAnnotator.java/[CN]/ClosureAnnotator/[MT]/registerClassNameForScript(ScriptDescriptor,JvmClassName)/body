{
  JvmClassName oldName=classNameForScript.put(scriptDescriptor,className);
  if (oldName != null) {
    throw new IllegalStateException("Rewrite at key " + scriptDescriptor + " for name");
  }
  if (!scriptClassNames.add(className)) {
    throw new IllegalStateException("More than one script has class name " + className);
  }
  ClassDescriptorImpl classDescriptor=new ClassDescriptorImpl(scriptDescriptor,Collections.<AnnotationDescriptor>emptyList(),Modality.FINAL,Name.special("<script-" + className + ">"));
  classDescriptor.initialize(false,Collections.<TypeParameterDescriptor>emptyList(),Collections.singletonList(JetStandardClasses.getAnyType()),JetScope.EMPTY,Collections.<ConstructorDescriptor>emptySet(),null);
  recordClosure(null,classDescriptor,null,className,false);
  ClassDescriptorImpl oldDescriptor=classesForFunctions.put(scriptDescriptor,classDescriptor);
  if (oldDescriptor != null) {
    throw new IllegalStateException("Rewrite at key " + scriptDescriptor + " for class");
  }
}
