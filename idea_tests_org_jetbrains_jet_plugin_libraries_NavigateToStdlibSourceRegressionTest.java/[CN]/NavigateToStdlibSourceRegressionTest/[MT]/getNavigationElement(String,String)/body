{
  File file=new File(path);
  PsiFile psiFile=getPsiFileForFileFromSources(file);
  String text=psiFile.getText();
  int index=text.indexOf(element);
  assertNotSame("Cannot find text '" + element + "' in file "+ path,-1,index);
  while (Character.isLetter(text.charAt(index - 1))) {
    index=text.indexOf(element,index + 1);
  }
  PsiReference ref=psiFile.findReferenceAt(index);
  assertNotNull("Cannot find reference at " + index + ",  "+ text.substring(index - 20,index)+ "<caret>"+ text.substring(index,index + 20),ref);
  PsiElement resolvedElement=ref.resolve();
  assertNotNull("Cannot resolve reference: " + ref.getElement().getText(),resolvedElement);
  return resolvedElement.getNavigationElement();
}
