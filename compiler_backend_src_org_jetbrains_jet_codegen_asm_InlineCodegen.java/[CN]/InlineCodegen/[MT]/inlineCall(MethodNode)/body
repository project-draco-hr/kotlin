{
  generateClosuresBodies();
  List<ParameterInfo> realParams=new ArrayList<ParameterInfo>(tempTypes);
  putClosureParametersOnStack();
  List<CapturedParamInfo> captured=getAllCaptured();
  Parameters parameters=new Parameters(realParams,Parameters.addStubs(captured,realParams.size()));
  InliningInfo info=new InliningInfo(expressionMap,null,null,null,state,codegen.getInlineNameGenerator().subGenerator(functionDescriptor.getName().asString()),codegen.getContext(),call,Collections.<String,String>emptyMap());
  MethodInliner inliner=new MethodInliner(node,parameters,info,null,new LambdaFieldRemapper(),isSameModule);
  VarRemapper.ParamRemapper remapper=new VarRemapper.ParamRemapper(parameters,initialFrameSize);
  inliner.doTransformAndMerge(codegen.getInstructionAdapter(),remapper);
}
