{
  for (  JetDelegationSpecifier delegationSpecifier : jetClass.getDelegationSpecifiers()) {
    if (delegationSpecifier instanceof JetDelegatorByExpressionSpecifier) {
      JetDelegatorByExpressionSpecifier specifier=(JetDelegatorByExpressionSpecifier)delegationSpecifier;
      JetType type=trace.get(BindingContext.TYPE,specifier.getTypeReference());
      if (type != null) {
        for (        DeclarationDescriptor declarationDescriptor : type.getMemberScope().getAllDescriptors()) {
          if (declarationDescriptor instanceof PropertyDescriptor) {
            PropertyDescriptor propertyDescriptor=(PropertyDescriptor)declarationDescriptor;
            if (propertyDescriptor.getModality().isOverridable()) {
              Modality modality=DescriptorUtils.convertModality(propertyDescriptor.getModality(),true);
              PropertyDescriptor copy=propertyDescriptor.copy(classDescriptor,modality,false,CallableMemberDescriptor.Kind.DELEGATION,true);
              classDescriptor.getBuilder().addPropertyDescriptor(copy);
              trace.record(DELEGATED,copy);
            }
          }
 else           if (declarationDescriptor instanceof SimpleFunctionDescriptor) {
            SimpleFunctionDescriptor functionDescriptor=(SimpleFunctionDescriptor)declarationDescriptor;
            if (functionDescriptor.getModality().isOverridable()) {
              Modality modality=DescriptorUtils.convertModality(functionDescriptor.getModality(),true);
              SimpleFunctionDescriptor copy=functionDescriptor.copy(classDescriptor,modality,false,CallableMemberDescriptor.Kind.DELEGATION,true);
              classDescriptor.getBuilder().addFunctionDescriptor(copy);
              trace.record(DELEGATED,copy);
            }
          }
        }
      }
    }
  }
}
