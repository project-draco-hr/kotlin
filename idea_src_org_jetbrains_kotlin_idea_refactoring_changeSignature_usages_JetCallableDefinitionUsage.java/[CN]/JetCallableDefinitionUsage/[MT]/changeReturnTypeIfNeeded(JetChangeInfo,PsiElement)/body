{
  if (!(element instanceof JetCallableDeclaration))   return;
  if (element instanceof JetConstructor)   return;
  JetCallableDeclaration callable=(JetCallableDeclaration)element;
  boolean returnTypeIsNeeded;
  if (element instanceof JetFunction) {
    returnTypeIsNeeded=(changeInfo.isRefactoringTarget(originalCallableDescriptor) || !(callable instanceof JetFunctionLiteral) || callable.getTypeReference() != null);
  }
 else {
    returnTypeIsNeeded=element instanceof JetProperty;
  }
  if (changeInfo.isReturnTypeChanged() && returnTypeIsNeeded) {
    callable.setTypeReference(null);
    String returnTypeText=changeInfo.renderReturnType((JetCallableDefinitionUsage<PsiElement>)this);
    if (!KotlinBuiltIns.getInstance().getUnitType().toString().equals(returnTypeText)) {
      ShortenPackage.addToShorteningWaitSet(callable.setTypeReference(JetPsiFactory(callable).createType(returnTypeText)),Options.DEFAULT);
    }
  }
}
