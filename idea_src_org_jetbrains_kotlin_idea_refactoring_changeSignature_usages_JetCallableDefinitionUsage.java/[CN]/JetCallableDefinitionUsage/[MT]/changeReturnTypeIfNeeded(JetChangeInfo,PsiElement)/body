{
  if (!(element instanceof KtCallableDeclaration))   return;
  if (element instanceof KtConstructor)   return;
  KtCallableDeclaration callable=(KtCallableDeclaration)element;
  boolean returnTypeIsNeeded;
  if (element instanceof KtFunction) {
    returnTypeIsNeeded=!(callable instanceof KtFunctionLiteral) && (changeInfo.isRefactoringTarget(originalCallableDescriptor) || callable.getTypeReference() != null);
  }
 else {
    returnTypeIsNeeded=element instanceof KtProperty || element instanceof KtParameter;
  }
  if (changeInfo.isReturnTypeChanged() && returnTypeIsNeeded) {
    callable.setTypeReference(null);
    String returnTypeText=changeInfo.renderReturnType((JetCallableDefinitionUsage<PsiElement>)this);
    if (!(returnTypeText.equals("Unit") || returnTypeText.equals("kotlin.Unit"))) {
      ShortenWaitingSetKt.addToShorteningWaitSet(callable.setTypeReference(KtPsiFactoryKt.KtPsiFactory(callable).createType(returnTypeText)),Options.DEFAULT);
    }
  }
}
