{
  if (memberWrapper instanceof PsiMethodWrapper) {
    PsiMethodWrapper method=(PsiMethodWrapper)memberWrapper;
    if (method.getJetMethodAnnotation().hasForceOpenFlag()) {
      return Modality.OPEN;
    }
    if (method.getJetMethodAnnotation().hasForceFinalFlag()) {
      return Modality.FINAL;
    }
  }
  return Modality.convertFromFlags(memberWrapper.isAbstract(),!isFinal);
}
