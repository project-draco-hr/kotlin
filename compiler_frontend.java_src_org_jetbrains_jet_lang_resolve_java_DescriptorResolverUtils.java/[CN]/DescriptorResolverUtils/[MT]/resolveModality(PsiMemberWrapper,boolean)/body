{
  if (memberWrapper instanceof PsiMethodWrapper) {
    PsiMethodWrapper method=(PsiMethodWrapper)memberWrapper;
    if (method.getJetMethod().hasForceOpenFlag()) {
      return Modality.OPEN;
    }
    if (method.getJetMethod().hasForceFinalFlag()) {
      return Modality.FINAL;
    }
  }
  return Modality.convertFromFlags(memberWrapper.isAbstract(),!isFinal);
}
