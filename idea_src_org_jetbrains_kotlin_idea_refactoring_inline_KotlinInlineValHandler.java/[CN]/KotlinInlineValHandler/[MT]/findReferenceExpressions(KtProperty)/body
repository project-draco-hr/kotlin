{
  List<KtExpression> result=Lists.newArrayList();
  for (  PsiReference reference : ReferencesSearch.search(val,GlobalSearchScope.allScope(val.getProject()),false).findAll()) {
    KtExpression expression=(KtExpression)reference.getElement();
    PsiElement parent=expression.getParent();
    if (parent instanceof KtQualifiedExpression && ((KtQualifiedExpression)parent).getSelectorExpression() == expression) {
      result.add((KtQualifiedExpression)parent);
    }
 else {
      result.add(expression);
    }
  }
  return result;
}
