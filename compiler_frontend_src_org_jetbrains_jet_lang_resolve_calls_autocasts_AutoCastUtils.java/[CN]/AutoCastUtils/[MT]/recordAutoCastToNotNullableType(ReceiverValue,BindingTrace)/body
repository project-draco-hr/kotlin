{
  if (!(receiver instanceof ExpressionReceiver))   return;
  JetType receiverType=receiver.getType();
  if (!receiverType.isNullable())   return;
  JetType notNullableType=TypeUtils.makeNotNullable(receiverType);
  DataFlowValue dataFlowValue=DataFlowValueFactory.createDataFlowValue(receiver,trace.getBindingContext());
  JetExpression expression=((ExpressionReceiver)receiver).getExpression();
  if (dataFlowValue.isStableIdentifier()) {
    trace.record(AUTOCAST,expression,notNullableType);
    trace.record(EXPRESSION_TYPE,expression,notNullableType);
  }
 else {
    trace.report(AUTOCAST_IMPOSSIBLE.on(expression,notNullableType,expression.getText()));
  }
}
