{
  String text=FileUtil.loadFile(ktFile);
  JetFile psiFile=JetTestUtils.createFile(ktFile.getName(),text,jetCoreEnvironment.getProject());
  ClassFileFactory classFileFactory=GenerationUtils.compileFileGetClassFileFactoryForTest(psiFile);
  CompileEnvironmentUtil.writeToOutputDirectory(classFileFactory,tmpdir);
  Disposer.dispose(myTestRootDisposable);
  Expectation expectation=parseExpectations();
  ActualSignature actualSignature=readSignature(expectation.className,expectation.methodName);
  String template="jvm signature:     %s\n" + "generic signature: %s\n" + "kotlin signature:  %s\n"+ "";
  String expected=String.format(template,expectation.jvmSignature,expectation.genericSignature,expectation.kotlinSignature);
  String actual=String.format(template,actualSignature.jvmSignature,actualSignature.genericSignature,actualSignature.kotlinSignature);
  Assert.assertEquals(expected,actual);
}
