{
  KotlinTypeProjectionStub stub=getStub();
  if (stub != null) {
    return stub.getProjectionKind();
  }
  ASTNode projectionNode=getProjectionNode();
  IElementType token=projectionNode != null ? projectionNode.getElementType() : null;
  for (  JetProjectionKind projectionKind : JetProjectionKind.values()) {
    if (projectionKind.getToken() == token) {
      return projectionKind;
    }
  }
  throw new IllegalStateException(projectionNode.getText());
}
