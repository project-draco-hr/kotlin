{
  if (psiElement instanceof KtPackageDirective) {
    return PlatformIcons.PACKAGE_ICON;
  }
  if (psiElement instanceof KotlinLightClassForFacade) {
    return KtIcons.FILE;
  }
  if (psiElement instanceof KotlinLightClassForDecompiledDeclaration) {
    KtClassOrObject origin=((KotlinLightClassForDecompiledDeclaration)psiElement).getOrigin();
    if (origin != null) {
      psiElement=origin;
    }
 else {
      return KtIcons.CLASS;
    }
  }
  if (psiElement instanceof KotlinLightClassForExplicitDeclaration) {
    psiElement=psiElement.getNavigationElement();
  }
  if (psiElement instanceof KtNamedFunction) {
    if (((KtFunction)psiElement).getReceiverTypeReference() != null) {
      return KtIcons.EXTENSION_FUNCTION;
    }
    if (PsiTreeUtil.getParentOfType(psiElement,KtNamedDeclaration.class) instanceof KtClass) {
      if (KtPsiUtil.isAbstract((KtFunction)psiElement)) {
        return PlatformIcons.ABSTRACT_METHOD_ICON;
      }
 else {
        return PlatformIcons.METHOD_ICON;
      }
    }
 else {
      return KtIcons.FUNCTION;
    }
  }
  if (psiElement instanceof KtFunctionLiteral)   return KtIcons.LAMBDA;
  if (psiElement instanceof KtClass) {
    KtClass ktClass=(KtClass)psiElement;
    if (ktClass.isInterface()) {
      return KtIcons.TRAIT;
    }
    Icon icon=ktClass.isEnum() ? KtIcons.ENUM : KtIcons.CLASS;
    if (ktClass instanceof KtEnumEntry) {
      KtEnumEntry enumEntry=(KtEnumEntry)ktClass;
      if (enumEntry.getPrimaryConstructorParameterList() == null) {
        icon=KtIcons.ENUM;
      }
    }
    return icon;
  }
  if (psiElement instanceof KtObjectDeclaration) {
    return KtIcons.OBJECT;
  }
  if (psiElement instanceof KtParameter) {
    KtParameter parameter=(KtParameter)psiElement;
    if (KtPsiUtil.getClassIfParameterIsProperty(parameter) != null) {
      return parameter.isMutable() ? KtIcons.FIELD_VAR : KtIcons.FIELD_VAL;
    }
    return KtIcons.PARAMETER;
  }
  if (psiElement instanceof KtProperty) {
    KtProperty property=(KtProperty)psiElement;
    return property.isVar() ? KtIcons.FIELD_VAR : KtIcons.FIELD_VAL;
  }
  return null;
}
