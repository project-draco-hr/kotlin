{
  VariableDescriptor variableDescriptor=fieldDescriptorCache.get(field);
  if (variableDescriptor != null) {
    return variableDescriptor;
  }
  JetType type=semanticServices.getTypeTransformer().transformToType(field.getType());
  boolean isFinal=field.hasModifierProperty(PsiModifier.FINAL);
  PropertyDescriptor propertyDescriptor=new PropertyDescriptor(containingDeclaration,Collections.<AnnotationDescriptor>emptyList(),Modality.FINAL,resolveVisibilityFromPsiModifiers(semanticServices.getTrace(),field),!isFinal,null,field.getName(),isFinal ? null : type,type);
  semanticServices.getTrace().record(BindingContext.VARIABLE,field,propertyDescriptor);
  fieldDescriptorCache.put(field,propertyDescriptor);
  return propertyDescriptor;
}
