{
  Map<PropertyKey,MembersForProperty> membersMap=Maps.newHashMap();
  if (!kotlin) {
    for (    PsiField field : clazz.getFields()) {
      if (field.getModifierList().hasExplicitModifier(PsiModifier.STATIC) != staticMembers) {
        continue;
      }
      if (field.hasModifierProperty(PsiModifier.PRIVATE)) {
        continue;
      }
      MembersForProperty members=new MembersForProperty();
      members.field=field;
      membersMap.put(new PropertyKey(field.getName(),field.getType(),null),members);
    }
  }
  for (  PsiMethod psiMethod : clazz.getMethods()) {
    PsiMethodWrapper method=new PsiMethodWrapper(psiMethod);
    if (method.isStatic() != staticMembers) {
      continue;
    }
    if (method.isPrivate()) {
      continue;
    }
    if (psiMethod.getName().startsWith(JvmAbi.GETTER_PREFIX)) {
      if (method.getJetProperty().isDefined()) {
        PsiType receiverType;
        if (method.getParameters().size() == 0) {
          receiverType=null;
        }
 else         if (method.getParameters().size() == 1) {
          if (method.getParameter(0).getJetTypeParameter().isDefined()) {
            receiverType=null;
          }
 else {
            receiverType=method.getParameter(0).getPsiParameter().getType();
          }
        }
 else         if (method.getParameters().size() == 2) {
          if (!method.getParameter(1).getJetTypeParameter().isDefined()) {
            throw new IllegalStateException();
          }
          receiverType=psiMethod.getParameterList().getParameters()[0].getType();
        }
 else {
          throw new IllegalStateException();
        }
        if (psiMethod.getName().equals(JvmStdlibNames.JET_OBJECT_GET_TYPEINFO_METHOD)) {
          continue;
        }
        String propertyName=StringUtil.decapitalize(psiMethod.getName().substring(JvmAbi.GETTER_PREFIX.length()));
        PropertyKey key=new PropertyKey(propertyName,psiMethod.getReturnType(),receiverType);
        MembersForProperty members=membersMap.get(key);
        if (members == null) {
          members=new MembersForProperty();
          membersMap.put(key,members);
        }
        members.getter=psiMethod;
      }
    }
 else     if (psiMethod.getName().startsWith(JvmAbi.SETTER_PREFIX)) {
      if (method.getJetProperty().isDefined()) {
        if (psiMethod.getParameterList().getParametersCount() == 0) {
          throw new IllegalStateException();
        }
        int i=0;
        PsiType receiverType=null;
        PsiParameterWrapper p1=method.getParameter(0);
        if (p1.getJetValueParameter().receiver()) {
          receiverType=p1.getPsiParameter().getType();
          ++i;
        }
        while (i < method.getParameters().size() && method.getParameter(i).getJetTypeParameter().isDefined()) {
          ++i;
        }
        if (i + 1 != psiMethod.getParameterList().getParametersCount()) {
          throw new IllegalStateException();
        }
        PsiType propertyType=psiMethod.getParameterList().getParameters()[i].getType();
        String propertyName=StringUtil.decapitalize(psiMethod.getName().substring(JvmAbi.SETTER_PREFIX.length()));
        PropertyKey key=new PropertyKey(propertyName,propertyType,receiverType);
        MembersForProperty members=membersMap.get(key);
        if (members == null) {
          members=new MembersForProperty();
          membersMap.put(key,members);
        }
        members.setter=psiMethod;
      }
    }
  }
  return membersMap;
}
