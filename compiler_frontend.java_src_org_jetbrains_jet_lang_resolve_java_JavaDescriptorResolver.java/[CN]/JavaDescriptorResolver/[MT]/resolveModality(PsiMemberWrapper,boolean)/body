{
  if (memberWrapper instanceof PsiMethodWrapper) {
    PsiMethodWrapper method=(PsiMethodWrapper)memberWrapper;
    if (method.getJetMethod().flags().get(JvmStdlibNames.JET_METHOD_FLAG_FORCE_OPEN_BIT)) {
      return Modality.OPEN;
    }
    if (method.getJetMethod().flags().get(JvmStdlibNames.JET_METHOD_FLAG_FORCE_FINAL_BIT)) {
      return Modality.FINAL;
    }
  }
  return Modality.convertFromFlags(memberWrapper.isAbstract(),!isFinal);
}
