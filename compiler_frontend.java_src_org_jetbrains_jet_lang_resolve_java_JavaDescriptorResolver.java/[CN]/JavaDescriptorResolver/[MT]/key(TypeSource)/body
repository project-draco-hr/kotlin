{
  if (typeSource == null) {
    return "";
  }
 else   if (typeSource.getTypeString().length() > 0) {
    return typeSource.getTypeString();
  }
 else {
    if (typeSource.getPsiType() instanceof PsiClassType) {
      return ((PsiClassType)typeSource.getPsiType()).getClassName();
    }
 else     if (typeSource.getPsiType() instanceof PsiPrimitiveType) {
      return typeSource.getPsiType().getPresentableText();
    }
 else {
      throw new IllegalStateException("" + typeSource.getPsiType().getClass());
    }
  }
}
