{
  if (psiType instanceof PsiClassType) {
    return ((PsiClassType)psiType).getClassName();
  }
 else   if (psiType instanceof PsiPrimitiveType) {
    return psiType.getPresentableText();
  }
 else   if (psiType instanceof PsiArrayType) {
    return Pair.create("[",psiTypeToKey(((PsiArrayType)psiType).getComponentType()));
  }
 else {
    throw new IllegalStateException("" + psiType.getClass());
  }
}
