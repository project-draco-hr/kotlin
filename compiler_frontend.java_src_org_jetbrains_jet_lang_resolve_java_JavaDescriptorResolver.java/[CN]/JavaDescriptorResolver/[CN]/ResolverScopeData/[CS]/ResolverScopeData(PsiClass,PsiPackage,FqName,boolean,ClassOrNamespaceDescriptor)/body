{
  checkPsiClassIsNotJet(psiClass);
  this.psiClass=psiClass;
  this.psiPackage=psiPackage;
  this.fqName=fqName;
  if (psiClass == null && psiPackage == null) {
    throw new IllegalStateException("both psiClass and psiPackage cannot be null");
  }
  this.staticMembers=staticMembers;
  this.kotlin=psiClass != null && (new PsiClassWrapper(psiClass).getJetClass().isDefined() || psiClass.getName().equals(JvmAbi.PACKAGE_CLASS));
  classOrNamespaceDescriptor=descriptor;
  if (fqName.lastSegmentIs(JvmAbi.PACKAGE_CLASS) && psiClass != null && kotlin) {
    throw new IllegalStateException("Kotlin namespace cannot have last segment " + JvmAbi.PACKAGE_CLASS + ": "+ fqName);
  }
}
