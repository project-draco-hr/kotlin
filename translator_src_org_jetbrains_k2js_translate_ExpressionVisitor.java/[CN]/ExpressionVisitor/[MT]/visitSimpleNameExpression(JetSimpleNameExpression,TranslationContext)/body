{
  JsName referencedName=getReferencedName(expression,context);
  if (referencedName != null) {
    if (requiresNamespaceQualifier(context,referencedName)) {
      return context.getNamespaceQualifiedReference(referencedName);
    }
    JsNameRef nameRef=referencedName.makeRef();
    if (requiresThisQualifier(expression,context)) {
      nameRef.setQualifier(new JsThisRef());
    }
    return nameRef;
  }
  JsInvocation getterCall=Translation.propertyAccessTranslator(context).resolveAsPropertyGet(expression);
  if (getterCall != null) {
    return getterCall;
  }
  throw new AssertionError("Undefined name in this scope: " + expression.getReferencedName());
}
