{
  GlobalSearchScope scope=GlobalSearchScope.allScope(psiPackage.getProject());
  LinkedHashSet<PsiPackage> result=new LinkedHashSet<PsiPackage>();
  for (  PsiElementFinder finder : extensionPsiElementFinders) {
    PsiPackage[] packages=finder.getSubPackages(psiPackage,scope);
    ContainerUtil.addAll(result,packages);
  }
  ContainerUtil.addAll(result,getDefaultSubPackages(psiPackage,scope));
  return result.toArray(new PsiPackage[result.size()]);
}
