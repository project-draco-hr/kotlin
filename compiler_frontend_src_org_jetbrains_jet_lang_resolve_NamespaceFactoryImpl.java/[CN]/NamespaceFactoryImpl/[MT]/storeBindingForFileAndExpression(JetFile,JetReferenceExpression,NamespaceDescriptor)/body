{
  if (expression != null) {
    trace.record(REFERENCE_TARGET,expression,namespaceDescriptor);
  }
  if (file != null) {
    trace.record(BindingContext.FILE_TO_NAMESPACE,file,namespaceDescriptor);
    Collection<JetFile> files=trace.get(NAMESPACE_TO_FILES,namespaceDescriptor);
    if (files == null) {
      files=Sets.newIdentityHashSet();
    }
    files.add(file);
    trace.record(BindingContext.NAMESPACE_TO_FILES,namespaceDescriptor,files);
  }
}
