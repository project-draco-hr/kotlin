{
  NamespaceDescriptorParent owner=moduleDescriptor;
  for (  FqName pathElement : fqName.path()) {
    boolean needDeclaration=pathElement.equals(fqName);
    owner=createNamespaceDescriptorIfNeeded(null,needDeclaration ? declaration : null,owner,pathElement.isRoot() ? "<root>" : pathElement.shortName(),pathElement.isRoot());
  }
  return (NamespaceDescriptorImpl)owner;
}
