{
  if (tasks == null) {
    tasks=Lists.newArrayList();
    List<Collection<ResolutionCandidate<D>>> candidateList=Lists.newArrayList();
    if (TaskPrioritizer.getReceiverSuper(basicCallResolutionContext.call.getExplicitReceiver()) != null) {
      candidateList.addAll(members);
      candidateList.addAll(localExtensions);
    }
 else {
      candidateList.addAll(localExtensions);
      candidateList.addAll(members);
    }
    candidateList.addAll(nonLocalExtensions);
    for (int priority=priorityProvider.getMaxPriority(); priority >= 0; priority--) {
      final int finalPriority=priority;
      for (      Collection<ResolutionCandidate<D>> candidates : candidateList) {
        Collection<ResolutionCandidate<D>> filteredCandidates=Collections2.filter(candidates,new Predicate<ResolutionCandidate<D>>(){
          @Override public boolean apply(          @Nullable ResolutionCandidate<D> input){
            return finalPriority == priorityProvider.getPriority(input);
          }
        }
);
        if (!filteredCandidates.isEmpty()) {
          tasks.add(new ResolutionTask<D,F>(filteredCandidates,reference,basicCallResolutionContext));
        }
      }
    }
  }
  return tasks;
}
