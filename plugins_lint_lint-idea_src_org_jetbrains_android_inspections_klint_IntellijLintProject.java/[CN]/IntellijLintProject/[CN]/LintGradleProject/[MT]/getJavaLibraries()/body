{
  if (SUPPORT_CLASS_FILES) {
    if (mJavaLibraries == null) {
      if (myFacet.isGradleProject() && myFacet.getIdeaAndroidProject() != null) {
        IdeaAndroidProject gradleProject=myFacet.getIdeaAndroidProject();
        Collection<JavaLibrary> libs=gradleProject.getSelectedVariant().getMainArtifact().getDependencies().getJavaLibraries();
        mJavaLibraries=Lists.newArrayListWithExpectedSize(libs.size());
        for (        JavaLibrary lib : libs) {
          File jar=lib.getJarFile();
          if (jar.exists()) {
            mJavaLibraries.add(jar);
          }
        }
      }
 else {
        mJavaLibraries=super.getJavaLibraries();
      }
    }
    return mJavaLibraries;
  }
  return Collections.emptyList();
}
