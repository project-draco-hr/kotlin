{
  AnalysisResult analysisResult=TopDownAnalyzerFacadeForJS.analyzeFiles(filesToTranslate,Predicates.<PsiFile>alwaysTrue(),config);
  BindingContext bindingContext=analysisResult.getBindingContext();
  TopDownAnalyzerFacadeForJS.checkForErrors(Config.withJsLibAdded(filesToTranslate,config),bindingContext);
  ModuleDescriptor moduleDescriptor=analysisResult.getModuleDescriptor();
  return Translation.generateAst(bindingContext,filesToTranslate,mainCallParameters,moduleDescriptor,config);
}
