{
  for (PsiClass current=clz.getSuperClass(); current != null; current=current.getSuperClass()) {
    if (clz.hasModifierProperty(PsiModifier.ABSTRACT) || clz instanceof PsiAnonymousClass) {
      continue;
    }
    String fqcn=current.getQualifiedName();
    if (fqcn == null) {
      continue;
    }
    if (CLASS_ACTIVITY.equals(fqcn) || CLASS_SERVICE.equals(fqcn) || CLASS_CONTENTPROVIDER.equals(fqcn)) {
      String internalName=IntellijLintUtils.getInternalName(clz);
      if (internalName == null) {
        continue;
      }
      String frameworkClass=ClassContext.getInternalName(fqcn);
      Collection<String> registered=mManifestRegistrations != null ? mManifestRegistrations.get(frameworkClass) : null;
      if (registered == null || !registered.contains(internalName)) {
        report(context,clz,frameworkClass);
      }
      break;
    }
  }
  for (  PsiClass innerClass : clz.getInnerClasses()) {
    check(context,innerClass);
  }
}
