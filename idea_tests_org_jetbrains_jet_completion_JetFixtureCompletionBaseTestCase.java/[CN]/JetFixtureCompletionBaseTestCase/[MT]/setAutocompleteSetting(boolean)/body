{
  CodeInsightSettings settings=CodeInsightSettings.getInstance();
  boolean oldValue;
  if (completionType() == CompletionType.SMART) {
    oldValue=settings.AUTOCOMPLETE_ON_SMART_TYPE_COMPLETION;
    settings.AUTOCOMPLETE_ON_SMART_TYPE_COMPLETION=value;
  }
 else {
    oldValue=settings.AUTOCOMPLETE_COMMON_PREFIX;
    settings.AUTOCOMPLETE_ON_CODE_COMPLETION=value;
  }
  return oldValue;
}
