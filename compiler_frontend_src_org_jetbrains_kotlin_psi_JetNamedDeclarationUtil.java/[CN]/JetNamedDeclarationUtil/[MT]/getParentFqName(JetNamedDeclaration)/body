{
  PsiElement parent=namedDeclaration.getParent();
  if (parent instanceof JetClassBody) {
    parent=parent.getParent();
  }
  if (parent instanceof JetFile) {
    return ((JetFile)parent).getPackageFqName();
  }
 else   if (parent instanceof JetNamedFunction || parent instanceof JetClass) {
    return getFQName((JetNamedDeclaration)parent);
  }
 else   if (namedDeclaration instanceof JetParameter) {
    JetClass constructorClass=JetPsiUtil.getClassIfParameterIsProperty((JetParameter)namedDeclaration);
    if (constructorClass != null) {
      return getFQName(constructorClass);
    }
  }
 else   if (parent instanceof JetObjectDeclaration) {
    return getFQName((JetNamedDeclaration)parent);
  }
  return null;
}
