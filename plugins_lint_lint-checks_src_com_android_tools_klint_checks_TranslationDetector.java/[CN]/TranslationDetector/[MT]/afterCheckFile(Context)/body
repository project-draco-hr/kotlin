{
  if (context.getPhase() == 1) {
    if (context.getProject().getReportIssues() && mNames != null && !mNames.isEmpty()) {
      mFileToNames.put(context.file,mNames);
      Element root=((XmlContext)context).document.getDocumentElement();
      if (root != null) {
        String locale=root.getAttributeNS(TOOLS_URI,ATTR_LOCALE);
        if (locale != null && !locale.isEmpty()) {
          if (mFileToLocale == null) {
            mFileToLocale=Maps.newHashMap();
          }
          mFileToLocale.put(context.file,locale);
        }
      }
    }
    mNames=null;
  }
}
