{
  ASTNode childParent=child.getTreeParent();
  IElementType childType=child.getElementType();
  if (childParent != null && childParent.getTreeParent() != null) {
    if (childParent.getElementType() == BLOCK && childParent.getTreeParent().getElementType() == SCRIPT) {
      return Indent.getNoneIndent();
    }
  }
  if (childParent != null && childParent.getPsi() instanceof KtDeclaration) {
    ASTNode prev=getPrevWithoutWhitespace(child);
    if (prev != null && KtTokens.COMMENTS.contains(prev.getElementType()) && getPrevWithoutWhitespaceAndComments(prev) == null) {
      return Indent.getNoneIndent();
    }
  }
  for (  NodeIndentStrategy strategy : INDENT_RULES) {
    Indent indent=strategy.getIndent(child);
    if (indent != null) {
      return indent;
    }
  }
  if (childParent != null) {
    IElementType parentType=childParent.getElementType();
    if (parentType == VALUE_PARAMETER_LIST || parentType == VALUE_ARGUMENT_LIST) {
      ASTNode prev=getPrevWithoutWhitespace(child);
      if (childType == RPAR && (prev == null || prev.getElementType() != TokenType.ERROR_ELEMENT)) {
        return Indent.getNoneIndent();
      }
      return Indent.getContinuationWithoutFirstIndent();
    }
    if (parentType == TYPE_PARAMETER_LIST || parentType == TYPE_ARGUMENT_LIST) {
      return Indent.getContinuationWithoutFirstIndent();
    }
  }
  return Indent.getNoneIndent();
}
