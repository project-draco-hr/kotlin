{
  ModuleDescriptorImpl moduleDescriptor=TopDownAnalyzerFacadeForJS.createJsModule("<" + metadata.getModuleName() + ">");
  PackageFragmentProvider provider=KotlinJavascriptSerializationUtil.createPackageFragmentProvider(moduleDescriptor,metadata.getBody(),new LockBasedStorageManager());
  moduleDescriptor.initialize(provider != null ? provider : PackageFragmentProvider.Empty.INSTANCE$);
  moduleDescriptor.addDependencyOnModule(KotlinBuiltIns.getInstance().getBuiltInsModule());
  return moduleDescriptor;
}
