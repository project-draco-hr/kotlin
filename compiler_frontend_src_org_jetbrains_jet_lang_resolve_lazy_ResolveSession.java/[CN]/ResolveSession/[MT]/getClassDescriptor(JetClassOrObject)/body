{
  if (classOrObject.getParent() instanceof JetClassObject) {
    return getClassObjectDescriptor((JetClassObject)classOrObject.getParent());
  }
  JetScope resolutionScope=getScopeProvider().getResolutionScopeForDeclaration(classOrObject);
  Name name=safeNameForLazyResolve(classOrObject.getNameAsName());
  ClassifierDescriptor scopeDescriptor=resolutionScope.getClassifier(name);
  DeclarationDescriptor descriptor=getBindingContext().get(BindingContext.DECLARATION_TO_DESCRIPTOR,classOrObject);
  if (descriptor == null) {
    throw new IllegalArgumentException(String.format("Could not find a classifier for %s.\n" + "Found descriptor: %s (%s).\n",JetPsiUtil.getElementTextWithContext(classOrObject),scopeDescriptor != null ? DescriptorRenderer.DEBUG_TEXT.render(scopeDescriptor) : "null",scopeDescriptor != null ? (scopeDescriptor.getContainingDeclaration().getClass()) : null));
  }
  return (ClassDescriptor)descriptor;
}
