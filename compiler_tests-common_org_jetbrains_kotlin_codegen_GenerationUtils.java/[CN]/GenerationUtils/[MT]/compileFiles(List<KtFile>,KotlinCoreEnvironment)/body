{
  PackagePartProvider packagePartProvider=environment == null ? PackagePartProvider.Companion.getEMPTY() : new JvmPackagePartProvider(environment);
  CompilerConfiguration configuration=environment == null ? CompilerConfiguration.EMPTY : environment.getConfiguration();
  AnalysisResult analysisResult=JvmResolveUtil.analyzeAndCheckForErrors(CollectionsKt.first(files).getProject(),files,configuration,packagePartProvider);
  return compileFiles(analysisResult,files,false,configuration);
}
