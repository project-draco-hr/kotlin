{
  if (foundType == null) {
    return null;
  }
  if (!AbiVersionUtil.isAbiVersionCompatible(version)) {
    return new IncompatibleAnnotationHeader(version);
  }
switch (foundType) {
case CLASS:
    return serializedDataHeader(SerializedDataHeader.Kind.CLASS);
case PACKAGE:
  return serializedDataHeader(SerializedDataHeader.Kind.PACKAGE);
case PACKAGE_FRAGMENT:
return new PackageFragmentClassHeader(version);
case TRAIT_IMPL:
return new TraitImplClassHeader(version);
default :
throw new UnsupportedOperationException("Unknown compatible HeaderType: " + foundType);
}
}
