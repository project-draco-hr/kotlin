{
  if (declaration.getParent() instanceof JetObjectLiteralExpression || declaration.getParent() instanceof JetClassObject) {
    super.visitObjectDeclaration(declaration);
  }
 else {
    if (!filter.shouldProcessClass(declaration))     return;
    ClassDescriptor classDescriptor=bindingContext.get(CLASS,declaration);
    if (classDescriptor == null)     return;
    String name=getName(classDescriptor);
    recordClosure(classDescriptor,name);
    pushClassDescriptor(classDescriptor);
    nameStack.push(name);
    super.visitObjectDeclaration(declaration);
    nameStack.pop();
    popClassDescriptor();
  }
}
