{
  this.declarationProvider=memberDeclarationProvider;
  this.resolveSession=resolveSession;
  this.name=name;
  this.containingDeclaration=containingDeclaration;
  this.unsubstitutedMemberScope=new LazyClassMemberScope(resolveSession,memberDeclarationProvider,this);
  this.unsubstitutedInnerClassesScope=new InnerClassesScopeWrapper(unsubstitutedMemberScope);
  this.typeConstructor=new LazyClassTypeConstructor();
  JetClassLikeInfo classInfo=memberDeclarationProvider.getOwnerInfo();
  this.kind=classInfo.getClassKind();
  Modality defaultModality=kind == ClassKind.TRAIT ? Modality.ABSTRACT : Modality.FINAL;
  JetModifierList modifierList=classInfo.getModifierList();
  this.modality=DescriptorResolver.resolveModalityFromModifiers(modifierList,defaultModality);
  this.visibility=DescriptorResolver.resolveVisibilityFromModifiers(modifierList);
}
