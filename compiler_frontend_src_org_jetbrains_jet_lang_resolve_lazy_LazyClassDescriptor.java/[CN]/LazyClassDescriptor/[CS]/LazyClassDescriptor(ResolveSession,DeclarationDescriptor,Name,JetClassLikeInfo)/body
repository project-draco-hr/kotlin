{
  this.resolveSession=resolveSession;
  this.name=name;
  if (classLikeInfo.getCorrespondingClassOrObject() != null) {
    this.resolveSession.getTrace().record(BindingContext.CLASS,classLikeInfo.getCorrespondingClassOrObject(),this);
  }
  this.originalClassInfo=classLikeInfo;
  JetClassLikeInfo classLikeInfoForMembers=classLikeInfo.getClassKind() != ClassKind.ENUM_CLASS ? classLikeInfo : noEnumEntries(classLikeInfo);
  this.declarationProvider=resolveSession.getDeclarationProviderFactory().getClassMemberDeclarationProvider(classLikeInfoForMembers);
  this.containingDeclaration=containingDeclaration;
  this.unsubstitutedMemberScope=new LazyClassMemberScope(resolveSession,declarationProvider,this);
  this.unsubstitutedInnerClassesScope=new InnerClassesScopeWrapper(unsubstitutedMemberScope);
  this.typeConstructor=new LazyClassTypeConstructor();
  JetModifierList modifierList=classLikeInfo.getModifierList();
  this.kind=classLikeInfo.getClassKind();
  if (kind.isObject()) {
    this.modality=Modality.FINAL;
  }
 else {
    Modality defaultModality=kind == ClassKind.TRAIT ? Modality.ABSTRACT : Modality.FINAL;
    this.modality=resolveModalityFromModifiers(modifierList,defaultModality);
  }
  this.visibility=resolveVisibilityFromModifiers(modifierList,getDefaultClassVisibility(this));
  this.isInner=isInnerClass(modifierList);
  StorageManager storageManager=resolveSession.getStorageManager();
  this.thisAsReceiverParameter=storageManager.createLazyValue(new Computable<ReceiverParameterDescriptor>(){
    @Override public ReceiverParameterDescriptor compute(){
      return DescriptorResolver.createLazyReceiverParameterDescriptor(LazyClassDescriptor.this);
    }
  }
);
  this.annotations=storageManager.createLazyValue(new Computable<List<AnnotationDescriptor>>(){
    @Override public List<AnnotationDescriptor> compute(){
      return resolveAnnotations();
    }
  }
);
  this.classObjectDescriptor=storageManager.createLazyValue(new Computable<Optional<ClassDescriptor>>(){
    @Override public Optional<ClassDescriptor> compute(){
      return Optional.fromNullable(computeClassObjectDescriptor());
    }
  }
);
  this.scopeForClassHeaderResolution=storageManager.createLazyValue(new Computable<JetScope>(){
    @Override public JetScope compute(){
      return computeScopeForClassHeaderResolution();
    }
  }
);
  this.scopeForMemberDeclarationResolution=storageManager.createLazyValue(new Computable<JetScope>(){
    @Override public JetScope compute(){
      return computeScopeForMemberDeclarationResolution();
    }
  }
);
  this.scopeForPropertyInitializerResolution=storageManager.createLazyValue(new Computable<JetScope>(){
    @Override public JetScope compute(){
      return computeScopeForPropertyInitializerResolution();
    }
  }
);
}
