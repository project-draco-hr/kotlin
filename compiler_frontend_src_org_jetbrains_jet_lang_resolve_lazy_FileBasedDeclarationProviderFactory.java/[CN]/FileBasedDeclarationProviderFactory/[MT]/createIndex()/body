{
  if (indexed)   return;
  indexed=true;
  for (  JetFile file : allFiles) {
    JetNamespaceHeader header=file.getNamespaceHeader();
    if (header == null) {
      throw new IllegalArgumentException("Scripts are not supported");
    }
    FqName packageFqName=new FqName(header.getQualifiedName());
    addMeAndParentPackages(packageFqName);
    filesByPackage.put(packageFqName,file);
  }
}
