{
  createIndex();
  PackageMemberDeclarationProvider declarationProvider=packageDeclarationProviders.get(packageFqName);
  if (declarationProvider != null) {
    return declarationProvider;
  }
  if (!isPackageDeclaredExplicitly(packageFqName)) {
    if (isPackageDeclaredExternally.apply(packageFqName)) {
      return EmptyPackageMemberDeclarationProvider.INSTANCE;
    }
    return null;
  }
  FileBasedPackageMemberDeclarationProvider provider=new FileBasedPackageMemberDeclarationProvider(packageFqName,this,filesByPackage.get(packageFqName));
  packageDeclarationProviders.put(packageFqName,provider);
  return provider;
}
