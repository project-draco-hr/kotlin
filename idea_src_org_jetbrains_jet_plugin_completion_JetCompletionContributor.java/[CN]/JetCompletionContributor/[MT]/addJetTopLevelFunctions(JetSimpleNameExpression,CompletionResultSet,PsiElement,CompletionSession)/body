{
  String actualPrefix=result.getPrefixMatcher().getPrefix();
  Project project=position.getProject();
  JetShortNamesCache namesCache=JetCacheManager.getInstance(position.getProject()).getNamesCache();
  GlobalSearchScope scope=GlobalSearchScope.allScope(project);
  Collection<String> functionNames=namesCache.getAllTopLevelFunctionNames();
  for (  String name : functionNames) {
    if (name.contains(actualPrefix)) {
      for (      FunctionDescriptor function : namesCache.getTopLevelFunctionDescriptorsByName(name,expression,session.resolveSession,scope)) {
        addCompletionToResult(result,DescriptorLookupConverter.createLookupElement(session.resolveSession,session.expressionBindingContext,function),session);
      }
    }
  }
}
