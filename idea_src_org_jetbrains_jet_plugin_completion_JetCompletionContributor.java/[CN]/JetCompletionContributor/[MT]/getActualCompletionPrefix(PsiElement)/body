{
  if (position.getParent() instanceof JetSimpleNameExpression) {
    final JetSimpleNameExpression nameExpression=(JetSimpleNameExpression)position.getParent();
    assert(PsiTreeUtil.getParentOfType(nameExpression,JetQualifiedExpression.class) == null);
    final String referencedName=nameExpression.getReferencedName();
    if (referencedName != null && referencedName.endsWith(CompletionInitializationContext.DUMMY_IDENTIFIER_TRIMMED)) {
      int lastPrefixIndex=referencedName.length() - CompletionInitializationContext.DUMMY_IDENTIFIER_TRIMMED.length();
      return referencedName.substring(0,lastPrefixIndex);
    }
  }
  return null;
}
