{
  String actualPrefix=result.getPrefixMatcher().getPrefix();
  final Project project=position.getProject();
  final JetShortNamesCache namesCache=JetCacheManager.getInstance(position.getProject()).getNamesCache();
  final GlobalSearchScope scope=GlobalSearchScope.allScope(project);
  final Collection<String> functionNames=namesCache.getAllTopLevelFunctionNames();
  BindingContext resolutionContext=namesCache.getResolutionContext(scope);
  for (  String name : functionNames) {
    if (name.contains(actualPrefix)) {
      for (      FunctionDescriptor function : namesCache.getTopLevelFunctionDescriptorsByName(name,scope)) {
        addCompletionToResult(result,DescriptorLookupConverter.createLookupElement(resolutionContext,function),positions,project);
      }
    }
  }
}
