{
  String shortName=name.substring(name.lastIndexOf('/') + 1);
  shortName=shortName.substring(shortName.lastIndexOf('\\') + 1);
  LightVirtualFile virtualFile=new LightVirtualFile(shortName,JetLanguage.INSTANCE,text){
    @NotNull @Override public String getPath(){
      return "/" + name;
    }
  }
;
  virtualFile.setCharset(CharsetToolkit.UTF8_CHARSET);
  PsiFileFactoryImpl factory=(PsiFileFactoryImpl)PsiFileFactory.getInstance(project);
  return (JetFile)factory.trySetupPsiForFile(virtualFile,JetLanguage.INSTANCE,true,false);
}
