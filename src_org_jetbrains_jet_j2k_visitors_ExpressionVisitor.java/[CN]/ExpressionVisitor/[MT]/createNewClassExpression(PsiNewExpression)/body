{
  final PsiAnonymousClass anonymousClass=expression.getAnonymousClass();
  final PsiMethod constructor=expression.resolveMethod();
  PsiJavaCodeReferenceElement classReference=expression.getClassOrAnonymousClassReference();
  final boolean isNotConvertedClass=classReference != null && !Converter.getClassIdentifiers().contains(classReference.getQualifiedName());
  if (constructor == null || isConstructorPrimary(constructor) || isNotConvertedClass) {
    return new NewClassExpression(expressionToExpression(expression.getQualifier()),elementToElement(classReference),elementToElement(expression.getArgumentList()),anonymousClass != null ? anonymousClassToAnonymousClass(anonymousClass) : null);
  }
  final PsiJavaCodeReferenceElement reference=expression.getClassReference();
  final List<Type> typeParameters=reference != null ? typesToTypeList(reference.getTypeParameters()) : Collections.<Type>emptyList();
  return new CallChainExpression(new IdentifierImpl(constructor.getName(),false),new MethodCallExpression(new IdentifierImpl("init"),elementToElement(expression.getArgumentList()),false,typeParameters));
}
