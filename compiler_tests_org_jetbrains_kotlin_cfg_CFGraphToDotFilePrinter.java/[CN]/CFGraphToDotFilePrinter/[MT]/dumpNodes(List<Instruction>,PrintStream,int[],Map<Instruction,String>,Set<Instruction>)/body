{
  for (  Instruction node : instructions) {
    String name="n" + count[0]++;
    nodeToName.put(node,name);
    String text=node.toString();
    int newline=text.indexOf("\n");
    if (newline >= 0) {
      text=text.substring(0,newline);
    }
    String shape="box";
    if (node instanceof ConditionalJumpInstruction || node instanceof UnconditionalJumpInstruction) {
      shape="diamond";
    }
 else     if (node instanceof NondeterministicJumpInstruction) {
      shape="Mdiamond";
    }
 else     if (node instanceof MagicInstruction && ((MagicInstruction)node).getKind() == MagicKind.UNSUPPORTED_ELEMENT) {
      shape="box, fillcolor=red, style=filled";
    }
 else     if (node instanceof LocalFunctionDeclarationInstruction) {
      shape="Mcircle";
    }
 else     if (node instanceof SubroutineEnterInstruction || node instanceof SubroutineExitInstruction) {
      shape="roundrect, style=rounded";
    }
    if (!remainedAfterPostProcessInstructions.contains(node)) {
      shape+="box, fillcolor=grey, style=filled";
    }
    out.println(name + "[label=\"" + text+ "\", shape="+ shape+ "];");
  }
}
