{
  doTestWithKotlinRename(new Function<PsiFile,PsiElement>(){
    @Override public PsiElement fun(    PsiFile file){
      BindingContext bindingContext=AnalyzerFacadeWithCache.analyzeFileWithCache((JetFile)file).getBindingContext();
      ClassDescriptor classDescriptor=bindingContext.get(BindingContext.FQNAME_TO_CLASS_DESCRIPTOR,qClassName);
      assertNotNull(classDescriptor);
      return BindingContextUtils.classDescriptorToDeclaration(bindingContext,classDescriptor);
    }
  }
,newName,mainFile);
}
