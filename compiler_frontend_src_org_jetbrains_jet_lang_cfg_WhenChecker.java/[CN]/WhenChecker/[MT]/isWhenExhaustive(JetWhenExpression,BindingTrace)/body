{
  ClassDescriptor classDescriptor=getSubjectClassDescriptorIfEnum(expression,trace.getBindingContext());
  if (classDescriptor == null)   return false;
  boolean isExhaust=true;
  boolean notEmpty=false;
  for (  DeclarationDescriptor descriptor : classDescriptor.getUnsubstitutedInnerClassesScope().getAllDescriptors()) {
    if (isEnumEntry(descriptor)) {
      notEmpty=true;
      if (!containsEnumEntryCase(expression,(ClassDescriptor)descriptor,trace)) {
        isExhaust=false;
      }
    }
  }
  boolean exhaustive=isExhaust && notEmpty;
  if (exhaustive) {
    trace.record(BindingContext.EXHAUSTIVE_WHEN,expression);
  }
  return exhaustive;
}
