{
  JetExpression subjectExpression=expression.getSubjectExpression();
  if (subjectExpression == null)   return null;
  JetType type=context.get(BindingContext.EXPRESSION_TYPE,subjectExpression);
  if (type == null)   return null;
  DeclarationDescriptor declarationDescriptor=type.getConstructor().getDeclarationDescriptor();
  if (!(declarationDescriptor instanceof ClassDescriptor))   return null;
  ClassDescriptor classDescriptor=(ClassDescriptor)declarationDescriptor;
  if (classDescriptor.getKind() != ClassKind.ENUM_CLASS || classDescriptor.getModality().isOverridable())   return null;
  return classDescriptor;
}
