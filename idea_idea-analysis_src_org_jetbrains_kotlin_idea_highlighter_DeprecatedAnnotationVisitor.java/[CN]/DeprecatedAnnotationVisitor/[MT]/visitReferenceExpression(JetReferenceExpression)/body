{
  super.visitReferenceExpression(expression);
  if (expression.getParent() instanceof JetThisExpression) {
    return;
  }
  ResolvedCall resolvedCall=CallUtilPackage.getResolvedCall(expression,bindingContext);
  if (resolvedCall != null && resolvedCall instanceof VariableAsFunctionResolvedCall) {
    JetCallExpression parent=PsiTreeUtil.getParentOfType(expression,JetCallExpression.class);
    if (parent != null) {
      reportAnnotationIfNeeded(parent,resolvedCall.getResultingDescriptor(),true);
    }
  }
  if (expression.getNode().getElementType() == JetNodeTypes.OPERATION_REFERENCE) {
    checkDeprecatedForOperations(expression);
  }
 else {
    checkDeprecatedForReferenceExpression(expression);
  }
}
