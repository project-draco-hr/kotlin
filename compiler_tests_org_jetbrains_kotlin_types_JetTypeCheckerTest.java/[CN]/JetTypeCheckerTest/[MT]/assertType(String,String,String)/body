{
  final KtType thisType=makeType(contextType);
  KtScope scope=new AbstractScopeAdapter(){
    @NotNull @Override protected KtScope getWorkerScope(){
      return scopeWithImports;
    }
    @NotNull @Override public List<ReceiverParameterDescriptor> getImplicitReceiversHierarchy(){
      return Lists.<ReceiverParameterDescriptor>newArrayList(new ReceiverParameterDescriptorImpl(getContainingDeclaration(),new ExpressionReceiver(KtPsiFactoryKt.KtPsiFactory(getProject()).createExpression(expression),thisType)));
    }
  }
;
  assertType(scope,expression,expectedType);
}
