{
  Map<PsiTypeParameter,PsiType> substMap=new HashMap<PsiTypeParameter,PsiType>();
  for (  Map.Entry<JavaTypeParameter,JavaType> entry : substitutor.getSubstitutionMap().entrySet()) {
    PsiTypeParameter key=((JavaTypeParameterImpl)entry.getKey()).getPsi();
    if (entry.getValue() == null) {
      substMap.put(key,null);
    }
 else {
      substMap.put(key,((JavaTypeImpl)entry.getValue()).getPsi());
    }
  }
  return PsiSubstitutorImpl.createSubstitutor(substMap);
}
