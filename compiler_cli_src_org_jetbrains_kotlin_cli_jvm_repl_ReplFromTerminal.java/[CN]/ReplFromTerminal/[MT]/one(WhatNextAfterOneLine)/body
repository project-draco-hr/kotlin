{
  try {
    String line=commandReader.readLine(next);
    if (line == null) {
      return WhatNextAfterOneLine.QUIT;
    }
    line=UnescapeUtilsKt.unescapeLineBreaks(line);
    if (line.startsWith(":") && (line.length() == 1 || line.charAt(1) != ':')) {
      boolean notQuit=oneCommand(line.substring(1));
      return notQuit ? WhatNextAfterOneLine.READ_LINE : WhatNextAfterOneLine.QUIT;
    }
    ReplInterpreter.LineResultType lineResultType=eval(line);
    if (lineResultType == ReplInterpreter.LineResultType.INCOMPLETE) {
      return WhatNextAfterOneLine.INCOMPLETE;
    }
 else {
      return WhatNextAfterOneLine.READ_LINE;
    }
  }
 catch (  Exception e) {
    throw UtilsPackage.rethrow(e);
  }
}
