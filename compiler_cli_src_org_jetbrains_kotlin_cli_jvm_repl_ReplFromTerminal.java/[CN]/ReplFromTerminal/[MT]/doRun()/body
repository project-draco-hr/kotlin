{
  try {
    replWriter.println("Welcome to Kotlin version " + KotlinVersion.VERSION + " (JRE "+ System.getProperty("java.runtime.version")+ ")");
    replWriter.println("Type :help for help, :quit for quit");
    WhatNextAfterOneLine next=WhatNextAfterOneLine.READ_LINE;
    while (true) {
      next=one(next);
      if (next == WhatNextAfterOneLine.QUIT) {
        break;
      }
    }
  }
 catch (  Exception e) {
    throw UtilsPackage.rethrow(e);
  }
 finally {
    try {
      ((FileHistory)consoleReader.getHistory()).flush();
    }
 catch (    Exception e) {
      System.err.println("failed to flush history: " + e);
    }
  }
}
