{
  TranslationContext classDeclarationContext=getClassDeclarationContext();
  JsObjectLiteral properties=new JsObjectLiteral();
  List<JsPropertyInitializer> propertyList=properties.getPropertyInitializers();
  if (!isTrait()) {
    JsFunction initializer=Translation.generateClassInitializerMethod(classDeclaration,classDeclarationContext);
    if (context().isEcma5()) {
      jsClassDeclaration.getArguments().add(initializer.getName() == null ? initializer : JsAstUtils.encloseFunction(initializer));
    }
 else {
      propertyList.add(InitializerUtils.generateInitializeMethod(initializer));
    }
  }
 else   if (context().isEcma5()) {
    jsClassDeclaration.getArguments().add(JsLiteral.NULL);
  }
  propertyList.addAll(translatePropertiesAsConstructorParameters(classDeclarationContext));
  propertyList.addAll(declarationBodyVisitor.traverseClass(classDeclaration,classDeclarationContext));
  if (!propertyList.isEmpty() || !context().isEcma5()) {
    jsClassDeclaration.getArguments().add(properties);
  }
}
