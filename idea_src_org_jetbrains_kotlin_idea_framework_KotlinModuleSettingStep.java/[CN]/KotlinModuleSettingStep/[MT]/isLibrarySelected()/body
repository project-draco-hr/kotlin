{
  try {
    LibraryOptionsPanel panel=getLibraryPanel();
    Field modelField=panel.getClass().getDeclaredField("myButtonEnumModel");
    modelField.setAccessible(true);
    RadioButtonEnumModel enumModel=(RadioButtonEnumModel)modelField.get(panel);
    int ordinal=enumModel.getSelected().ordinal();
    if (ordinal == 0) {
      Field libComboboxField=panel.getClass().getDeclaredField("myExistingLibraryComboBox");
      libComboboxField.setAccessible(true);
      JComboBox combobox=(JComboBox)libComboboxField.get(panel);
      return combobox.getSelectedItem() != null;
    }
    return ordinal != 2;
  }
 catch (  Exception e) {
    LOG.warn("Error in reflection",e);
  }
  return null;
}
