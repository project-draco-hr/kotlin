{
  JavaDescriptorResolver.checkPsiClassIsNotJet(psiClass);
  this.psiClass=psiClass;
  this.psiPackage=psiPackage;
  this.fqName=fqName;
  if (psiClass == null && psiPackage == null) {
    throw new IllegalStateException("both psiClass and psiPackage cannot be null");
  }
  this.staticMembers=staticMembers;
  this.kotlin=psiClass != null && DescriptorResolverUtils.isKotlinClass(psiClass);
  classOrNamespaceDescriptor=descriptor;
  if (fqName != null && fqName.lastSegmentIs(Name.identifier(JvmAbi.PACKAGE_CLASS)) && psiClass != null && kotlin) {
    throw new IllegalStateException("Kotlin namespace cannot have last segment " + JvmAbi.PACKAGE_CLASS + ": "+ fqName);
  }
}
