{
  if (location == null) {
    throw new NoDataException();
  }
  PsiFile psiFile=getPsiFileByLocation(location);
  if (psiFile == null) {
    throw new NoDataException();
  }
  int lineNumber;
  try {
    lineNumber=location.lineNumber() - 1;
  }
 catch (  InternalError e) {
    lineNumber=-1;
  }
  if (lineNumber >= 0) {
    return SourcePosition.createFromLine(psiFile,lineNumber);
  }
  throw new NoDataException();
}
