{
  ModuleDescriptorImpl module=TopDownAnalyzerFacadeForJVM.createJavaModule("<module>");
  module.addDependencyOnModule(module);
  module.addDependencyOnModule(KotlinBuiltIns.getInstance().getBuiltInsModule());
  module.seal();
  CliLightClassGenerationSupport lightClassGenerationSupport=CliLightClassGenerationSupport.getInstanceForCli(project);
  BindingTrace trace=lightClassGenerationSupport != null ? CliLightClassGenerationSupport.createTrace() : new BindingTraceContext();
  return TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(project,files,trace,filesToAnalyzeCompletely,module,null,null);
}
