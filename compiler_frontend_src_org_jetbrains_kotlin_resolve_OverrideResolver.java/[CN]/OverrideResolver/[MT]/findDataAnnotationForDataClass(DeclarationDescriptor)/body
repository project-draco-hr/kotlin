{
  AnnotationDescriptor annotation=dataClass.getAnnotations().findAnnotation(KotlinBuiltIns.FQ_NAMES.data);
  if (annotation != null) {
    JetAnnotationEntry entry=DescriptorToSourceUtils.getSourceFromAnnotation(annotation);
    if (entry != null) {
      return entry;
    }
  }
  JetClass classDeclaration=(JetClass)DescriptorToSourceUtils.getSourceFromDescriptor(dataClass);
  if (classDeclaration != null && classDeclaration.getModifierList() != null) {
    PsiElement modifier=classDeclaration.getModifierList().getModifier(JetTokens.DATA_KEYWORD);
    if (modifier != null) {
      return modifier;
    }
  }
  throw new IllegalStateException("No data annotation is found for data class " + dataClass);
}
