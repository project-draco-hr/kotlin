{
  PsiElement parent=getParent();
  if (parent instanceof JetQualifiedExpression && !isImportDirectiveExpression()) {
    JetExpression receiverExpression=((JetQualifiedExpression)parent).getReceiverExpression();
    if (receiverExpression != this) {
      return receiverExpression;
    }
  }
 else   if (parent instanceof JetCallExpression) {
    JetCallExpression callExpression=(JetCallExpression)parent;
    parent=callExpression.getParent();
    if (parent instanceof JetQualifiedExpression) {
      JetQualifiedExpression qualifiedExpression=(JetQualifiedExpression)parent;
      JetExpression parentsReceiver=qualifiedExpression.getReceiverExpression();
      if (parentsReceiver != callExpression) {
        return parentsReceiver;
      }
    }
  }
 else   if (parent instanceof JetBinaryExpression && ((JetBinaryExpression)parent).getOperationReference() == this) {
    JetBinaryExpression expr=(JetBinaryExpression)parent;
    return OperatorConventions.IN_OPERATIONS.contains(expr.getOperationToken()) ? expr.getRight() : expr.getLeft();
  }
 else   if (parent instanceof JetUnaryExpression && ((JetUnaryExpression)parent).getOperationReference() == this) {
    return ((JetUnaryExpression)parent).getBaseExpression();
  }
 else   if (parent instanceof JetUserType) {
    JetUserType qualifier=((JetUserType)parent).getQualifier();
    if (qualifier != null) {
      return qualifier.getReferenceExpression();
    }
  }
  return null;
}
