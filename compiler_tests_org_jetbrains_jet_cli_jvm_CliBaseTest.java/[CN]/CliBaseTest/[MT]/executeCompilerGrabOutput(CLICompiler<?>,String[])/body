{
  ByteArrayOutputStream bytes=new ByteArrayOutputStream();
  PrintStream origOut=System.out;
  try {
    System.setOut(new PrintStream(bytes));
    ExitCode exitCode=CLICompiler.doMainNoExit(compiler,args);
    return bytes.toString("utf-8") + exitCode + "\n";
  }
 catch (  Exception e) {
    throw ExceptionUtils.rethrow(e);
  }
 finally {
    System.setOut(origOut);
  }
}
