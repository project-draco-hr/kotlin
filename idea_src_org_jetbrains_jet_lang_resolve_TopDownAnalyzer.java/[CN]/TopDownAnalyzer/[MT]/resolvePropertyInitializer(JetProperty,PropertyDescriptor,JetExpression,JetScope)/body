{
  JetFlowInformationProvider flowInformationProvider=classDescriptorResolver.computeFlowData(property,initializer);
  JetTypeInferrer typeInferrer=semanticServices.getTypeInferrer(traceForConstructors,flowInformationProvider);
  JetType type=typeInferrer.getType(getPropertyDeclarationInnerScope(scope,propertyDescriptor),initializer,false,null);
  JetType expectedType;
  PropertySetterDescriptor setter=propertyDescriptor.getSetter();
  if (setter != null) {
    expectedType=setter.getUnsubstitutedReturnType();
  }
 else {
    expectedType=propertyDescriptor.getInType();
    if (expectedType == null) {
      expectedType=propertyDescriptor.getOutType();
    }
  }
  if (type != null && expectedType != null && !semanticServices.getTypeChecker().isConvertibleTo(type,expectedType)) {
    trace.getErrorHandler().typeMismatch(initializer,expectedType,type);
  }
}
