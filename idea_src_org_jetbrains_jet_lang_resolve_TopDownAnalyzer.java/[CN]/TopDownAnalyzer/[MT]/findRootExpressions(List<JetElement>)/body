{
  Set<JetElement> rootElements=new HashSet<JetElement>();
  final Set<JetElement> shadowedElements=new HashSet<JetElement>();
  JetVisitor shadowAllChildren=new JetVisitor(){
    @Override public void visitJetElement(    JetElement elem){
      if (shadowedElements.add(elem)) {
        elem.acceptChildren(this);
      }
    }
  }
;
  for (  JetElement element : unreachableElements) {
    if (shadowedElements.contains(element))     continue;
    element.acceptChildren(shadowAllChildren);
    rootElements.removeAll(shadowedElements);
    rootElements.add(element);
  }
  return rootElements;
}
