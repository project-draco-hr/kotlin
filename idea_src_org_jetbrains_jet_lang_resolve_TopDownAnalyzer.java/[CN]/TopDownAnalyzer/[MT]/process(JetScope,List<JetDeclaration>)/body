{
  final WritableScope toplevelScope=new WritableScopeImpl(outerScope,outerScope.getContainingDeclaration(),trace.getErrorHandler(),null);
  trace.setToplevelScope(toplevelScope);
  collectTypeDeclarators(toplevelScope,declarations);
  resolveTypeDeclarations();
  processBehaviorDeclarators(toplevelScope,declarations);
  readyToProcessExpressions=true;
  resolveBehaviorDeclarationBodies();
}
