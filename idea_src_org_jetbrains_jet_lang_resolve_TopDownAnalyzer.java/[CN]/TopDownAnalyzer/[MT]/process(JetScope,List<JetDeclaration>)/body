{
  final WritableScope toplevelScope=semanticServices.createWritableScope(outerScope,outerScope.getContainingDeclaration());
  trace.setToplevelScope(toplevelScope);
  collectTypeDeclarators(toplevelScope,declarations);
  resolveTypeDeclarations();
  collectBehaviorDeclarators(toplevelScope,declarations);
  resolveBehaviorDeclarationBodies();
}
