{
  if (project.isDisposed()) {
    return Collections.emptyList();
  }
  if (!FileTypeIndex.containsFileOfType(JetFileType.INSTANCE,GlobalSearchScope.projectScope(project))) {
    return Collections.emptyList();
  }
  List<Module> modulesWithKotlin=Lists.newArrayList();
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    if (FileTypeIndex.containsFileOfType(JetFileType.INSTANCE,module.getModuleScope(true))) {
      modulesWithKotlin.add(module);
    }
  }
  return modulesWithKotlin;
}
