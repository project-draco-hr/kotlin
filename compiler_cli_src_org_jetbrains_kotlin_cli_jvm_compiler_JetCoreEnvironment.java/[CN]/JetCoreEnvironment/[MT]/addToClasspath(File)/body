{
  if (path.isFile()) {
    VirtualFile jarFile=getMyApplicationEnvironment().getJarFileSystem().findFileByPath(path + "!/");
    if (jarFile == null) {
      report(WARNING,"Classpath entry points to a file that is not a JAR archive: " + path);
      return;
    }
    projectEnvironment.addJarToClassPath(path);
    classPath.add(jarFile);
  }
 else {
    VirtualFile root=getMyApplicationEnvironment().getLocalFileSystem().findFileByPath(path.getAbsolutePath());
    if (root == null) {
      report(WARNING,"Classpath entry points to a non-existent location: " + path);
      return;
    }
    projectEnvironment.addSourcesToClasspath(root);
    classPath.add(root);
  }
}
