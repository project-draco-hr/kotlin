{
synchronized (APPLICATION_LOCK) {
    if (ourApplicationEnvironment != null)     return ourApplicationEnvironment;
    Disposable parentDisposable=Disposer.newDisposable();
    ourApplicationEnvironment=createApplicationEnvironment(parentDisposable,configuration,configFilePaths);
    ourProjectCount=0;
    Disposer.register(parentDisposable,new Disposable(){
      @Override public void dispose(){
synchronized (APPLICATION_LOCK) {
          ourApplicationEnvironment=null;
        }
      }
    }
);
    return ourApplicationEnvironment;
  }
}
