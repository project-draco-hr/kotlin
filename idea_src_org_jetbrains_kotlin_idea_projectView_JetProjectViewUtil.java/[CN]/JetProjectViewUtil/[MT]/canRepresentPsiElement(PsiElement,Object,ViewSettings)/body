{
  if (value == null || !value.isValid()) {
    return false;
  }
  PsiFile file=value.getContainingFile();
  if (file != null && (file == element || file.getVirtualFile() == element)) {
    return true;
  }
  if (value == element) {
    return true;
  }
  if (!settings.isShowMembers()) {
    if (element instanceof PsiElement && ((PsiElement)element).getContainingFile() != null) {
      PsiFile elementFile=((PsiElement)element).getContainingFile();
      if (elementFile != null && file != null) {
        return elementFile.equals(file);
      }
    }
  }
  return false;
}
