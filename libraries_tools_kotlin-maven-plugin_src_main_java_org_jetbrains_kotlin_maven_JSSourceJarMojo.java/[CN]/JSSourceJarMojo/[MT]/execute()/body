{
  if (!librarySourceDir.exists()) {
    getLog().warn("Source directory does not exist: " + librarySourceDir);
  }
 else {
    try {
      File metaInfFile=new File(outputDir,"META-INF/services/org.jetbrains.kotlin.js.librarySource");
      metaInfFile.getParentFile().mkdirs();
      FileUtils.copyDirectoryStructure(librarySourceDir,outputDir);
      PrintWriter writer=new PrintWriter(new FileWriter(metaInfFile));
      appendSourceFiles(writer,outputDir.getCanonicalPath(),outputDir);
      writer.close();
    }
 catch (    IOException e) {
      throw new MojoFailureException(e.getMessage(),e);
    }
  }
}
