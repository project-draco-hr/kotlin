{
  for (  OrderEntry orderEntry : model.getOrderEntries()) {
    if (orderEntry instanceof LibraryOrderEntry) {
      LibraryOrderEntry libraryOrderEntry=(LibraryOrderEntry)orderEntry;
      Library library=libraryOrderEntry.getLibrary();
      if (library != null) {
        String libraryName=library.getName();
        if (libraryName != null && libraryName.equals(this.libraryName)) {
          Library.ModifiableModel modifiableModel=library.getModifiableModel();
          for (          String rootUrl : library.getRootProvider().getUrls(OrderRootType.CLASSES)) {
            modifiableModel.removeRoot(rootUrl,OrderRootType.CLASSES);
          }
          modifiableModel.commit();
          model.getModuleLibraryTable().removeLibrary(library);
          break;
        }
      }
    }
  }
}
