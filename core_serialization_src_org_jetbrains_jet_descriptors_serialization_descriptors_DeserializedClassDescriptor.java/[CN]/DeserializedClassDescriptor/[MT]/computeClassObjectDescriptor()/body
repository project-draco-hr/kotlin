{
  if (!classProto.hasClassObject()) {
    return null;
  }
  if (getKind() == ClassKind.ENUM_CLASS) {
    return new EnumClassObjectDescriptor(context.getStorageManager(),this);
  }
  if (getKind() == ClassKind.OBJECT) {
    ProtoBuf.Class.ClassObject classObjectProto=classProto.getClassObject();
    if (!classObjectProto.hasData()) {
      throw new IllegalStateException("Object should have a serialized class object: " + classId);
    }
    return new DeserializedClassDescriptor(context,classObjectProto.getData());
  }
  return ContextPackage.deserializeClass(context,classId.createNestedClassId(getClassObjectName(getName())));
}
