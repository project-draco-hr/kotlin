{
  if (!classProto.hasClassObject()) {
    return null;
  }
  if (getKind() == ClassKind.ENUM_CLASS) {
    return createEnumClassObject();
  }
  if (getKind() == ClassKind.OBJECT) {
    ProtoBuf.Class.ClassObject classObjectProto=classProto.getClassObject();
    if (!classObjectProto.hasData()) {
      throw new IllegalStateException("Object should have a serialized class object: " + classId);
    }
    return new DeserializedClassDescriptor(storageManager,deserializers,descriptorFinder,packageFragmentProvider,deserializer.getNameResolver(),classObjectProto.getData());
  }
  return descriptorFinder.findClass(classId.createNestedClassId(getClassObjectName(getName())));
}
