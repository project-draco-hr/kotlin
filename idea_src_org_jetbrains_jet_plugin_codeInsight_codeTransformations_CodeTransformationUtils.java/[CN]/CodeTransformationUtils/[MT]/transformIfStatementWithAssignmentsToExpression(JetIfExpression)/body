{
  Project project=ifExpression.getProject();
  List<JetExpression> outcomes=getIfExpressionOutcomes(ifExpression);
  JetExpression lhs=((JetBinaryExpression)outcomes.get(0)).getLeft();
  JetBinaryExpression assignment=(JetBinaryExpression)JetPsiFactory.createExpression(project,"a = b");
  assignment=(JetBinaryExpression)assignment.getLeft().replace(lhs).getParent();
  assignment=(JetBinaryExpression)assignment.getRight().replace(ifExpression).getParent();
  assignment=(JetBinaryExpression)ifExpression.replace(assignment);
  ifExpression=(JetIfExpression)assignment.getRight();
  for (  JetExpression outcome : getIfExpressionOutcomes(ifExpression)) {
    outcome.replace(((JetBinaryExpression)outcome).getRight());
  }
}
