{
  Project project=assignment.getProject();
  String varName=assignment.getLeft().getText();
  JetIfExpression ifExpression=(JetIfExpression)assignment.getRight();
  ifExpression=(JetIfExpression)assignment.replace(ifExpression);
  for (  JetExpression outcome : getIfExpressionOutcomes(ifExpression)) {
    JetBinaryExpression localAssignment=(JetBinaryExpression)JetPsiFactory.createExpression(project,"a = b");
    localAssignment=(JetBinaryExpression)localAssignment.getLeft().replace(JetPsiFactory.createExpression(project,varName)).getParent();
    localAssignment=(JetBinaryExpression)localAssignment.getRight().replace(outcome).getParent();
    outcome.replace(localAssignment);
  }
}
