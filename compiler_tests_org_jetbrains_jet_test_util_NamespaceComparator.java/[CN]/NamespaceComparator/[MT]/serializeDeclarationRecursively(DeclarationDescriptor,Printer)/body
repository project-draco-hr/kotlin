{
  if (descriptor instanceof ClassDescriptor) {
    printer.println();
  }
  boolean isPrimaryConstructor=descriptor instanceof ConstructorDescriptor && ((ConstructorDescriptor)descriptor).isPrimary();
  printer.print(isPrimaryConstructor && conf.checkPrimaryConstructors ? "/*primary*/ " : "",RENDERER.render(descriptor));
  if (descriptor instanceof ClassDescriptor) {
    printer.printlnWithNoIndent(" {");
    printer.pushIndent();
    ClassDescriptor klass=(ClassDescriptor)descriptor;
    JetScope memberScope=klass.getDefaultType().getMemberScope();
    List<DeclarationDescriptor> subDescriptors=Lists.newArrayList();
    subDescriptors.addAll(klass.getConstructors());
    subDescriptors.addAll(memberScope.getAllDescriptors());
    subDescriptors.addAll(memberScope.getObjectDescriptors());
    ContainerUtil.addIfNotNull(subDescriptors,klass.getClassObjectDescriptor());
    Collections.sort(subDescriptors,MemberComparator.INSTANCE);
    for (    DeclarationDescriptor subDescriptor : subDescriptors) {
      if (!conf.includeObject) {
        if (subDescriptor.getName().getName().matches("equals|hashCode|finalize|wait|notify(All)?|toString|clone|getClass")) {
          continue;
        }
      }
      serializeDeclarationRecursively(subDescriptor,printer);
    }
    printer.popIndent();
    printer.println("}");
  }
 else {
    printer.printlnWithNoIndent();
  }
}
