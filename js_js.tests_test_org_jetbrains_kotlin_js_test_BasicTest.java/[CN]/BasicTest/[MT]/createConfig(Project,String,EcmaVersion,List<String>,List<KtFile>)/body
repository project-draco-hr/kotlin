{
  CompilerConfiguration configuration=getEnvironment().getConfiguration().copy();
  for (  KtFile file : files) {
    String text=file.getText();
    if (isDirectiveDefined(text,NO_INLINE_DIRECTIVE)) {
      configuration.put(CommonConfigurationKeys.DISABLE_INLINE,true);
      break;
    }
  }
  List<String> librariesWithStdlib=new ArrayList<String>(LibrarySourcesConfig.JS_STDLIB);
  if (libraries != null) {
    librariesWithStdlib.addAll(libraries);
  }
  return new LibrarySourcesConfig.Builder(project,configuration,moduleId,librariesWithStdlib).ecmaVersion(ecmaVersion).sourceMap(shouldGenerateSourceMap()).isUnitTestConfig(shouldBeTranslateAsUnitTestClass()).metaInfo(shouldGenerateMetaInfo()).build();
}
