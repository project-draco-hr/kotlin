{
  TypeInferenceContext context=contextWithExpectedType.replaceExpectedType(NO_EXPECTED_TYPE);
  JetExpression arrayExpression=expression.getArrayExpression();
  JetType receiverType=getType(arrayExpression,context.replaceScope(context.scope));
  if (receiverType != null) {
    FunctionDescriptor functionDescriptor=callResolver.resolveCallWithGivenName(context.trace,context.scope,CallMaker.makeCall(expression,expression.getIndexExpressions()),expression,"get",receiverType,context.expectedType);
    if (functionDescriptor != null) {
      return context.services.checkType(functionDescriptor.getReturnType(),expression,contextWithExpectedType);
    }
  }
  return null;
}
