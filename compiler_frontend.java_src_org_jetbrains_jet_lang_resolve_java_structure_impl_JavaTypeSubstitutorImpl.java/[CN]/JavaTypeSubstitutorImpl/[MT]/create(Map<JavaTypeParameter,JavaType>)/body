{
  Map<PsiTypeParameter,PsiType> psiMap=new HashMap<PsiTypeParameter,PsiType>();
  for (  Map.Entry<JavaTypeParameter,JavaType> entry : substitutionMap.entrySet()) {
    JavaTypeImpl value=((JavaTypeImpl)entry.getValue());
    psiMap.put(((JavaTypeParameterImpl)entry.getKey()).getPsi(),value == null ? null : value.getPsi());
  }
  PsiSubstitutor psiSubstitutor=PsiSubstitutorImpl.createSubstitutor(psiMap);
  return new JavaTypeSubstitutorImpl(psiSubstitutor,substitutionMap);
}
