{
  Map<PsiTypeParameter,PsiType> psiMap=new HashMap<PsiTypeParameter,PsiType>();
  for (  Map.Entry<JavaTypeParameter,JavaType> entry : substitutionMap.entrySet()) {
    JavaType value=entry.getValue();
    psiMap.put(entry.getKey().getPsi(),value == null ? null : value.getPsi());
  }
  PsiSubstitutor psiSubstitutor=PsiSubstitutorImpl.createSubstitutor(psiMap);
  return new JavaTypeSubstitutorImpl(psiSubstitutor,substitutionMap);
}
