{
  JetExpression importedReference=importDirective.getImportedReference();
  if (importedReference == null || !resolvedDirectives.containsKey(importDirective)) {
    return;
  }
  Name aliasName=JetPsiUtil.getAliasName(importDirective);
  if (aliasName == null) {
    return;
  }
  boolean uselessHiddenImport=true;
  for (  DeclarationDescriptor wasResolved : resolvedDirectives.get(importDirective)) {
    DeclarationDescriptor isResolved=null;
    if (wasResolved instanceof ClassDescriptor) {
      isResolved=namespaceScope.getClassifier(aliasName);
    }
 else     if (wasResolved instanceof VariableDescriptor) {
      isResolved=namespaceScope.getLocalVariable(aliasName);
    }
 else     if (wasResolved instanceof PackageViewDescriptor) {
      isResolved=namespaceScope.getPackage(aliasName);
    }
    if (isResolved == null || isResolved.equals(wasResolved)) {
      uselessHiddenImport=false;
    }
  }
  if (uselessHiddenImport) {
    trace.report(USELESS_HIDDEN_IMPORT.on(importedReference));
  }
  if (!importDirective.isAllUnder() && importedReference instanceof JetSimpleNameExpression && importDirective.getAliasName() == null) {
    trace.report(USELESS_SIMPLE_IMPORT.on(importedReference));
  }
}
