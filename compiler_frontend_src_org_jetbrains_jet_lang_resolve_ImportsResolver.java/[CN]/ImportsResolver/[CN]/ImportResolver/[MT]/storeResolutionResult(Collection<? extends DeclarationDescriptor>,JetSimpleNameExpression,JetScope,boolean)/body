{
  if (firstPhase)   return;
  if (descriptors.size() == 1 && !(isLastPart && descriptors.iterator().next() instanceof NamespaceDescriptor)) {
    trace.record(BindingContext.REFERENCE_TARGET,referenceExpression,descriptors.iterator().next());
  }
 else   if (descriptors.size() > 1) {
    trace.record(BindingContext.AMBIGUOUS_REFERENCE_TARGET,referenceExpression,descriptors);
  }
 else {
    trace.report(UNRESOLVED_REFERENCE.on(referenceExpression));
  }
  if (descriptors.size() <= 1) {
    trace.record(BindingContext.RESOLUTION_SCOPE,referenceExpression,resolutionScope);
  }
}
