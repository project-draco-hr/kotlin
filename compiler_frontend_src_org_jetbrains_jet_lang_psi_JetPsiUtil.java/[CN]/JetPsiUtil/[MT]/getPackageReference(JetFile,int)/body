{
  JetPackageDirective directive=file.getPackageDirective();
  if (directive == null) {
    throw new IllegalArgumentException("Should be called only for files with package directive: " + file);
  }
  List<JetSimpleNameExpression> names=directive.getPackageNames();
  if (!(0 <= partIndex && partIndex < names.size())) {
    throw new IndexOutOfBoundsException(String.format("%s index for file with directive %s is out of range",partIndex,directive.getText()));
  }
  return names.get(partIndex);
}
