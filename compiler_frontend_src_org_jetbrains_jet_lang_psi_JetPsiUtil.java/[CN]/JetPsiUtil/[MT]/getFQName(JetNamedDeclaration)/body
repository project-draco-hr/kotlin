{
  if (namedDeclaration instanceof JetObjectDeclarationName) {
    JetObjectDeclaration objectDeclaration=PsiTreeUtil.getParentOfType(namedDeclaration,JetObjectDeclaration.class);
    if (objectDeclaration == null) {
      return null;
    }
    return getFQName(objectDeclaration);
  }
  Name functionName=namedDeclaration.getNameAsName();
  if (functionName == null) {
    return null;
  }
  PsiElement parent=namedDeclaration.getParent();
  if (parent instanceof JetClassBody) {
    parent=parent.getParent();
  }
  FqName firstPart=null;
  if (parent instanceof JetFile) {
    firstPart=getFQName((JetFile)parent);
  }
 else   if (parent instanceof JetNotStubbedNamedDeclaration) {
    firstPart=getFQName((JetNamedDeclaration)parent);
  }
  if (firstPart == null) {
    return null;
  }
  return firstPart.child(functionName);
}
