{
  configureByFile(path);
  String expectedResultText=KotlinTestUtils.getLastCommentInFile((KtFile)getFile());
  List<KtElement> elements=KotlinRefactoringUtil.getSmartSelectSuggestions(getFile(),getEditor().getCaretModel().getOffset(),CodeInsightUtils.ElementKind.EXPRESSION);
  List<String> textualExpressions=new ArrayList<String>();
  for (  KtElement element : elements) {
    textualExpressions.add(KotlinRefactoringUtil.getExpressionShortText(element));
  }
  assertEquals(expectedResultText,StringUtil.join(textualExpressions,"\n"));
}
