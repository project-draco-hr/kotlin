{
  if (classDescriptor.getKind() == ClassKind.ANNOTATION_CLASS) {
    return Modality.FINAL;
  }
  return Modality.convertFromFlags(psiClass.hasModifierProperty(PsiModifier.ABSTRACT) || psiClass.isInterface(),!psiClass.hasModifierProperty(PsiModifier.FINAL));
}
