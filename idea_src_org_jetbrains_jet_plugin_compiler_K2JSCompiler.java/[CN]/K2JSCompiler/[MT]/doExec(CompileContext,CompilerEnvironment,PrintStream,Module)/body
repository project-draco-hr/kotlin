{
  VirtualFile[] roots=ModuleRootManager.getInstance(module).getSourceRoots();
  if (roots.length != 1) {
    context.addMessage(CompilerMessageCategory.ERROR,"K2JSCompiler does not support multiple module source roots.",null,-1,-1);
    return -1;
  }
  String[] commandLineArgs=constructArguments(context.getProject(),context.getModuleOutputDirectory(module),roots[0]);
  Object rc=invokeExecMethod(environment,out,context,commandLineArgs,"org.jetbrains.jet.cli.js.K2JSCompiler");
  return CompilerUtils.getReturnCodeFromObject(rc);
}
