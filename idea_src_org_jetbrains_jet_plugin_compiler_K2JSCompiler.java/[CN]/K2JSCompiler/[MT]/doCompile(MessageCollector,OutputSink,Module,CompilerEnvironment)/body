{
  OutputItemsCollectorImpl collector=new OutputItemsCollectorImpl();
  outputCompilerMessagesAndHandleExitCode(messageCollector,collector,new Function<PrintStream,Integer>(){
    @Override public Integer fun(    PrintStream stream){
      return execInProcess(messageCollector,environment,stream,module);
    }
  }
);
  TranslatingCompilerUtils.reportOutputs(sink,environment.getOutput(),collector);
}
