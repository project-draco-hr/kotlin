{
  if (files.length == 0) {
    return;
  }
  Module module=getModule(context,moduleChunk);
  if (module == null) {
    return;
  }
  MessageCollector messageCollector=new MessageCollectorAdapter(context);
  CompilerEnvironment environment=CompilerUtils.getEnvironmentFor(context,module,false);
  if (!environment.success()) {
    environment.reportErrorsTo(messageCollector);
    return;
  }
  doCompile(messageCollector,sink,module,environment);
}
