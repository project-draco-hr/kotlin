{
  try {
    VirtualFile[] roots=ModuleRootManager.getInstance(module).getSourceRoots();
    if (roots.length != 1) {
      context.addMessage(CompilerMessageCategory.ERROR,"K2JSCompiler does not support module source roots.",null,-1,-1);
      return -1;
    }
    String[] commandLineArgs={"-tags","-verbose","-version","-srcdir",roots[0].getPath()};
    Object rc=invokeExecMethod(environment,out,context,commandLineArgs,"org.jetbrains.jet.cli.js.K2JSCompiler");
    return CompilerUtils.getReturnCodeFromObject(rc);
  }
 catch (  Throwable e) {
    context.addMessage(CompilerMessageCategory.ERROR,"Fail!",null,-1,-1);
  }
  return -1;
}
