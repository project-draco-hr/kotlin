{
  Map<VariableDescriptor,NullabilityFlags> builder=Maps.newHashMap(nullabilityInfo);
  builder.keySet().retainAll(other.nullabilityInfo.keySet());
  for (  Map.Entry<VariableDescriptor,NullabilityFlags> entry : builder.entrySet()) {
    VariableDescriptor variableDescriptor=entry.getKey();
    NullabilityFlags thisFlags=entry.getValue();
    NullabilityFlags otherFlags=other.nullabilityInfo.get(variableDescriptor);
    assert(otherFlags != null);
    builder.put(variableDescriptor,thisFlags.or(otherFlags));
  }
  ListMultimap<VariableDescriptor,JetType> newTypeInfo=Multimaps.newListMultimap(Maps.<VariableDescriptor,Collection<JetType>>newHashMap(),CommonSuppliers.<JetType>getArrayListSupplier());
  Set<VariableDescriptor> keys=newTypeInfo.keySet();
  keys.retainAll(other.typeInfo.keySet());
  for (  VariableDescriptor variableDescriptor : keys) {
    Collection<JetType> thisTypes=typeInfo.get(variableDescriptor);
    Collection<JetType> otherTypes=other.typeInfo.get(variableDescriptor);
    Collection<JetType> newTypes=Sets.newHashSet(thisTypes);
    newTypes.retainAll(otherTypes);
    newTypeInfo.putAll(variableDescriptor,newTypes);
  }
  return new DataFlowInfo(ImmutableMap.copyOf(builder),newTypeInfo);
}
