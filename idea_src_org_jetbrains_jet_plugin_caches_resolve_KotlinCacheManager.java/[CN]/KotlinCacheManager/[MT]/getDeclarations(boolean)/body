{
  ApplicationManager.getApplication().assertReadAccessAllowed();
synchronized (declarationAnalysisLock) {
    if (allowIncomplete) {
      if (incompleteTrace != null) {
        return new KotlinDeclarationsCache(){
          @NotNull @Override public BindingContext getBindingContext(){
            return incompleteTrace.getBindingContext();
          }
        }
;
      }
    }
    return CachedValuesManager.getManager(project).getCachedValue(project,KOTLIN_DECLARATIONS_CACHE,new KotlinDeclarationsCacheProvider(),false);
  }
}
