{
  if (TypesPackage.sameTypeConstructors(subtype,supertype)) {
    return !subtype.isMarkedNullable() || supertype.isMarkedNullable();
  }
  JetType subtypeRepresentative=TypesPackage.getSubtypeRepresentative(subtype);
  JetType supertypeRepresentative=TypesPackage.getSupertypeRepresentative(supertype);
  if (subtypeRepresentative != subtype || supertypeRepresentative != supertype) {
    return isSubtypeOf(subtypeRepresentative,supertypeRepresentative);
  }
  return isSubtypeOfForRepresentatives(subtype,supertype);
}
