{
  if (TypeCapabilitiesKt.sameTypeConstructors(subtype,supertype)) {
    return !subtype.isMarkedNullable() || supertype.isMarkedNullable();
  }
  JetType subtypeRepresentative=TypeCapabilitiesKt.getSubtypeRepresentative(subtype);
  JetType supertypeRepresentative=TypeCapabilitiesKt.getSupertypeRepresentative(supertype);
  if (subtypeRepresentative != subtype || supertypeRepresentative != supertype) {
    return isSubtypeOf(subtypeRepresentative,supertypeRepresentative);
  }
  return isSubtypeOfForRepresentatives(subtype,supertype);
}
