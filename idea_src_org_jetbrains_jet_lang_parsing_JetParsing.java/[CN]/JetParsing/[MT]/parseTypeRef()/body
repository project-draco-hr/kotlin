{
  PsiBuilder.Marker type=mark();
  parseAttributeList();
  if (at(IDENTIFIER) || at(NAMESPACE_KEYWORD)) {
    parseUserType();
  }
 else   if (at(LBRACE)) {
    parseFunctionType();
  }
 else   if (at(LPAR)) {
    parseTupleType();
  }
 else   if (at(CAPITALIZED_THIS_KEYWORD)) {
    parseSelfType();
  }
 else {
    errorWithRecovery("Type expected",TokenSet.orSet(TOPLEVEL_OBJECT_FIRST,TokenSet.create(EQ,COMMA,GT,RBRACKET,DOT,RPAR,RBRACE,LBRACE,SEMICOLON)));
  }
  while (at(QUEST)) {
    PsiBuilder.Marker precede=type.precede();
    advance();
    type.done(NULLABLE_TYPE);
    type=precede;
  }
  type.done(TYPE_REFERENCE);
}
