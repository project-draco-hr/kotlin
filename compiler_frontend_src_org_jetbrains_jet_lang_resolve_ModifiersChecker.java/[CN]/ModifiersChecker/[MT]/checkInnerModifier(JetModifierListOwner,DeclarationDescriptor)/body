{
  JetModifierList modifierList=modifierListOwner.getModifierList();
  if (modifierList != null && modifierList.hasModifier(INNER_KEYWORD)) {
    if (isIllegalInner(descriptor)) {
      checkIllegalInThisContextModifiers(modifierList,Collections.singletonList(INNER_KEYWORD));
    }
  }
 else {
    if (modifierListOwner instanceof JetClass && !(modifierListOwner instanceof JetEnumEntry) && isIllegalNestedClass(descriptor)) {
      PsiElement name=((JetClass)modifierListOwner).getNameIdentifier();
      if (name != null) {
        trace.report(Errors.NESTED_CLASS_NOT_ALLOWED.on(name));
      }
    }
  }
}
