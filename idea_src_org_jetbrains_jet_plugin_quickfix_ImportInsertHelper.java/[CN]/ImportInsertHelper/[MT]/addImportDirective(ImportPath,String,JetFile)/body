{
  if (!doNeedImport(importPath,aliasName,file)) {
    return;
  }
  JetImportDirective newDirective=JetPsiFactory.createImportDirective(file.getProject(),importPath,aliasName);
  List<JetImportDirective> importDirectives=file.getImportDirectives();
  if (!importDirectives.isEmpty()) {
    JetImportDirective lastDirective=importDirectives.get(importDirectives.size() - 1);
    lastDirective.getParent().addAfter(newDirective,lastDirective);
  }
 else {
    file.getNamespaceHeader().getParent().addAfter(newDirective,file.getNamespaceHeader());
  }
}
