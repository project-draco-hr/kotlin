{
  if (JetPluginUtil.checkTypeIsStandard(type,file.getProject()) || ErrorUtils.isErrorType(type)) {
    return;
  }
  BindingContext bindingContext=AnalyzerFacadeWithCache.analyzeFileWithCache(file).getBindingContext();
  PsiElement element=BindingContextUtils.descriptorToDeclaration(bindingContext,type.getMemberScope().getContainingDeclaration());
  if (element != null && element.getContainingFile() == file) {
    return;
  }
  for (  ClassDescriptor clazz : TypeUtils.getAllClassDescriptors(type)) {
    addImportDirectiveIfNeeded(DescriptorUtils.getFQName(getTopLevelClass(clazz)).toSafe(),file);
  }
}
