{
  KtSimpleNameExpression reference=expression.getCallableReference();
  boolean[] resolved=new boolean[1];
  CallableDescriptor descriptor=CallableReferencesResolutionUtilsKt.resolveCallableReferenceTarget(expression,lhsType,context,resolved,components.callResolver);
  if (!resolved[0]) {
    context.trace.report(UNRESOLVED_REFERENCE.on(reference,reference));
  }
  if (descriptor == null)   return null;
  if (expression.getTypeReference() == null && (descriptor.getDispatchReceiverParameter() != null || descriptor.getExtensionReceiverParameter() != null)) {
    context.trace.report(CALLABLE_REFERENCE_TO_MEMBER_OR_EXTENSION_WITH_EMPTY_LHS.on(reference));
  }
  DeclarationDescriptor containingDeclaration=descriptor.getContainingDeclaration();
  if (DescriptorUtils.isObject(containingDeclaration)) {
    context.trace.report(CALLABLE_REFERENCE_TO_OBJECT_MEMBER.on(reference));
  }
  if (descriptor instanceof ConstructorDescriptor && DescriptorUtils.isAnnotationClass(containingDeclaration)) {
    context.trace.report(CALLABLE_REFERENCE_TO_ANNOTATION_CONSTRUCTOR.on(reference));
  }
  return CallableReferencesResolutionUtilsKt.createReflectionTypeForResolvedCallableReference(expression,lhsType,descriptor,context,components.reflectionTypes);
}
