{
  JetType type=components.reflectionTypes.getKFunctionType(Annotations.EMPTY,receiverType,getValueParametersTypes(descriptor.getValueParameters()),descriptor.getReturnType(),isExtension);
  AnonymousFunctionDescriptor functionDescriptor=new AnonymousFunctionDescriptor(context.scope.getContainingDeclaration(),Annotations.EMPTY,CallableMemberDescriptor.Kind.DECLARATION,toSourceElement(expression));
  FunctionDescriptorUtil.initializeFromFunctionType(functionDescriptor,type,null,Modality.FINAL,Visibilities.PUBLIC);
  context.trace.record(FUNCTION,expression,functionDescriptor);
  return type;
}
