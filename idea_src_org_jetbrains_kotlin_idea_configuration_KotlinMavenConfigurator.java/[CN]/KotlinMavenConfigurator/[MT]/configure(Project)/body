{
  List<Module> nonConfiguredModules=ConfigureKotlinInProjectUtilsKt.getNonConfiguredModules(project,this);
  ConfigureDialogWithModulesAndVersion dialog=new ConfigureDialogWithModulesAndVersion(project,nonConfiguredModules,KOTLIN_VERSIONS);
  dialog.show();
  if (!dialog.isOK())   return;
  for (  Module module : dialog.getModulesToConfigure()) {
    PsiFile file=findModulePomFile(module);
    if (file != null && canConfigureFile(file)) {
      changePomFile(module,file,dialog.getKotlinVersion());
      OpenFileAction.openFile(file.getVirtualFile(),project);
    }
 else {
      showErrorMessage(project,"Cannot find pom.xml for module " + module.getName());
    }
  }
}
