{
  JetPositionManager positionManager=(JetPositionManager)jetPositionManagerFactory.createPositionManager(process);
  assertNotNull(positionManager);
  final DelegatingBindingTrace bindingTrace=new DelegatingBindingTrace(state.getBindingContext());
  JetTypeMapper typeMapper=new JetTypeMapper(bindingTrace,true,ClassBuilderMode.FULL);
  CodegenBinding.initTrace(bindingTrace,files);
  for (  JetFile file : files) {
    positionManager.addTypeMapper(file,typeMapper);
  }
  return positionManager;
}
