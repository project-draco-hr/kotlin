{
  final KotlinCoreEnvironment environment=createEnvironmentWithMockJdkAndIdeaAnnotations(disposable,configurationKind);
  List<KtFile> ktFiles=ContainerUtil.map(kotlinFiles,new Function<File,KtFile>(){
    @Override public KtFile fun(    File kotlinFile){
      try {
        return KotlinTestUtils.createFile(kotlinFile.getName(),FileUtil.loadFile(kotlinFile,true),environment.getProject());
      }
 catch (      IOException e) {
        throw new AssertionError(e);
      }
    }
  }
);
  AnalysisResult result=JvmResolveUtil.analyzeAndCheckForErrors(ktFiles,environment);
  return new KtFilesAndAnalysisResult(ktFiles,result);
}
