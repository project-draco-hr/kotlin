{
  KtFilesAndAnalysisResult filesAndResult=KtFilesAndAnalysisResult.createJetFilesAndAnalyze(kotlinFiles,disposable,configurationKind);
  AnalysisResult result=filesAndResult.getAnalysisResult();
  GenerationState state=GenerationUtils.compileFiles(result,filesAndResult.getKtFiles(),useTypeTableInSerializer,CompilerConfiguration.EMPTY);
  OutputUtilsKt.writeAllTo(state.getFactory(),outDir);
  return result;
}
