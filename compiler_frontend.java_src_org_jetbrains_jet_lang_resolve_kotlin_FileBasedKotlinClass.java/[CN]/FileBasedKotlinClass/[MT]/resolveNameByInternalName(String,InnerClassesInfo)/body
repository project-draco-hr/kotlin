{
  List<String> classes=new ArrayList<String>(1);
  while (true) {
    OuterAndInnerName outer=innerClasses.get(name);
    if (outer == null)     break;
    classes.add(outer.innerSimpleName);
    name=outer.outerInternalName;
  }
  FqName outermostClassFqName=new FqName(name.replace('/','.'));
  classes.add(outermostClassFqName.shortName().asString());
  Collections.reverse(classes);
  FqName packageFqName=outermostClassFqName.parent();
  FqNameUnsafe relativeClassName=FqNameUnsafe.fromSegments(classes);
  return new ClassId(packageFqName,relativeClassName);
}
