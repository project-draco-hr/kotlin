{
  return ContainerUtil.indexOf(blocks,new Condition<Block>(){
    @Override public boolean value(    Block block){
      if (!(block instanceof ASTBlock))       return false;
      ASTNode node=((ASTBlock)block).getNode();
      return node != null && tokenSet.contains(node.getElementType());
    }
  }
);
}
