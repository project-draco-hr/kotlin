{
  final Ref<RunResult> resultRef=new Ref<RunResult>();
  Thread t=new Thread(new Runnable(){
    @Override public void run(){
      resultRef.set(RunUtils.run(commandLine,input));
    }
  }
);
  t.start();
  if (waitForEnd) {
    ThreadUtils.wait(t,600);
    return resultRef.get();
  }
  return new RunResult(true,"OK");
}
