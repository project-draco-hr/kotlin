{
  loadText("package " + PACKAGE_NAME + "\n\nfun foo() = 42\n");
  String facadeFileName=JvmClassName.byFqNameWithoutInnerClasses(PackageClassUtils.getPackageClassFqName(PACKAGE_NAME)).getInternalName() + ".class";
  OutputFileCollection outputFiles=generateClassesInFile();
  for (  OutputFile outputFile : outputFiles.asList()) {
    String filePath=outputFile.getRelativePath();
    if (!filePath.equals(facadeFileName)) {
      String fqName=filePath.substring(0,filePath.length() - ".class".length()).replace('/','.');
      Class aClass=generateClass(fqName);
      Class<? extends Annotation> annotationClass=loadAnnotationClassQuietly(JvmAnnotationNames.KOTLIN_PACKAGE_FRAGMENT.asString());
      assertTrue("No KotlinPackageFragment annotation on a package fragment",aClass.isAnnotationPresent(annotationClass));
      Annotation kotlinPackageFragment=aClass.getAnnotation(annotationClass);
      Integer version=(Integer)CodegenTestUtil.getAnnotationAttribute(kotlinPackageFragment,"abiVersion");
      assertNotNull(version);
      assertTrue("KotlinPackageFragment annotation is written with an unsupported format",AbiVersionUtil.isAbiVersionCompatible(version));
      return;
    }
  }
  fail("No package fragment was found: " + outputFiles.asList());
}
