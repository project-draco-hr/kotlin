{
  loadText("package " + NAMESPACE_NAME + "\n\nfun foo() = 42\n");
  String facadeFileName=JvmClassName.byFqNameWithoutInnerClasses(PackageClassUtils.getPackageClassFqName(NAMESPACE_NAME)).getInternalName() + ".class";
  OutputFileCollection outputFiles=generateClassesInFile();
  for (  OutputFile outputFile : outputFiles.asList()) {
    String filePath=outputFile.getRelativePath();
    if (!filePath.equals(facadeFileName)) {
      String fqName=filePath.substring(0,filePath.length() - ".class".length()).replace('/','.');
      Class aClass=generateClass(fqName);
      Class<? extends Annotation> annotationClass=getCorrespondingAnnotationClass(KotlinPackageFragment.class);
      assertTrue("No KotlinPackageFragment annotation on a package fragment",aClass.isAnnotationPresent(annotationClass));
      Annotation kotlinPackageFragment=aClass.getAnnotation(annotationClass);
      assertTrue("KotlinPackageFragment annotation is written with an unsupported format",AbiVersionUtil.isAbiVersionCompatible((Integer)ClassLoaderIsolationUtil.getAnnotationAttribute(kotlinPackageFragment,"abiVersion")));
      return;
    }
  }
  fail("No package fragment was found: " + outputFiles.asList());
}
