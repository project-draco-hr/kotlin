{
  if ((descriptor instanceof PropertyDescriptor || descriptor instanceof PropertyAccessorDescriptor)) {
    checkOuterClass(descriptor);
  }
 else   if (descriptor instanceof VariableDescriptor) {
    VariableDescriptor variableDescriptor=(VariableDescriptor)descriptor;
    if ((capturedVariables == null || !capturedVariables.contains(variableDescriptor)) && !isAncestor(memberDescriptor,variableDescriptor)) {
      addCapturedMember(variableDescriptor);
    }
  }
 else   if (descriptor instanceof SimpleFunctionDescriptor) {
    CallableDescriptor callableDescriptor=(CallableDescriptor)descriptor;
    if (JsDescriptorUtils.isExtension(callableDescriptor)) {
      return;
    }
    DeclarationDescriptor containingDeclaration=descriptor.getContainingDeclaration();
    if (containingDeclaration instanceof ClassDescriptor) {
      if (outerClassDescriptor == null && (callableDescriptor.getExpectedThisObject() == null || isAncestor(containingDeclaration,memberDescriptor))) {
        outerClassDescriptor=(ClassDescriptor)containingDeclaration;
      }
      return;
    }
    if (!(containingDeclaration instanceof ClassOrPackageFragmentDescriptor) && !isAncestor(memberDescriptor,descriptor)) {
      addCapturedMember(callableDescriptor);
    }
  }
 else   if (descriptor instanceof ClassDescriptor && trackedClassDescriptor == descriptor) {
    used=true;
  }
}
