{
  JsBlock block=program().getFragmentBlock(0);
  JsName namespaceName=translationContext().enclosingScope().declareName(Namer.getNameForNamespace(namespace.getName()));
  block.addStatement(namespaceInitStatement(namespaceName));
  TranslationContext newContext=translationContext().newNamespace(namespace);
  JsFunction dummyFunction=JsFunction.getAnonymousFunctionWithScope(translationContext().getScopeForElement(namespace));
  JsBlock namespaceDeclarations=translateDeclarations(namespace,newContext);
  JsInvocation namespaceExpression=newNamespace(namespaceName,namespaceDeclarations,dummyFunction);
  block.addStatement(AstUtil.convertToStatement(namespaceExpression));
  return block;
}
