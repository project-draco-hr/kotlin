{
  PsiElement sibling=down ? sourceRange.lastElement.getNextSibling() : sourceRange.firstElement.getPrevSibling();
  if (sibling instanceof PsiWhiteSpace) {
    Document doc=editor.getDocument();
    TextRange spaceRange=sibling.getTextRange();
    int startLine=doc.getLineNumber(spaceRange.getStartOffset());
    int endLine=doc.getLineNumber(spaceRange.getEndOffset());
    if (endLine - startLine > 1) {
      int nearLine=down ? sourceRange.endLine : sourceRange.startLine - 1;
      info.toMove=sourceRange;
      info.toMove2=new LineRange(nearLine,nearLine + 1);
      return null;
    }
    sibling=firstNonWhiteElement(sibling,down);
  }
  if (sibling == null) {
    info.toMove2=null;
    return null;
  }
  return sibling;
}
