{
  int lineY=getLineY(mainEditor,psiElementInEditor);
  EditorGutterComponentEx gutter=(EditorGutterComponentEx)mainEditor.getGutter();
  Point adjustedPoint;
  if (point == null) {
    adjustedPoint=new Point(gutter.getIconsAreaWidth() + gutter.getLineMarkerAreaOffset(),lineY);
  }
 else {
    adjustedPoint=new Point(point.x,Math.min(lineY,point.y));
  }
  balloon.show(new RelativePoint(gutter,adjustedPoint),Balloon.Position.above);
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      IdeFocusManager.getInstance(mainEditor.getProject()).requestFocus(editor.getContentComponent(),false);
    }
  }
);
}
