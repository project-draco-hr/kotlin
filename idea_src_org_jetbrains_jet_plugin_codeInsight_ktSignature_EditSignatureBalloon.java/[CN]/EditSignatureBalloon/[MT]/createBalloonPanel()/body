{
  JPanel panel=new JPanel(new BorderLayout()){
    @Override public Dimension getPreferredSize(){
      Dimension preferredSize=super.getPreferredSize();
      return new Dimension((int)(preferredSize.width * 1.4),preferredSize.height);
    }
  }
;
  panel.add(editor.getComponent(),BorderLayout.CENTER);
  if (editable) {
    JPanel toolbar=new JPanel(new FlowLayout(FlowLayout.RIGHT));
    JButton saveButton=new JButton("Save"){
      @Override public boolean isDefaultButton(){
        return true;
      }
    }
;
    JButton deleteButton=new JButton("Delete");
    toolbar.add(saveButton);
    toolbar.add(deleteButton);
    panel.add(toolbar,BorderLayout.SOUTH);
    ActionListener saveAndHideListener=new ActionListener(){
      @Override public void actionPerformed(      ActionEvent e){
        saveAndHide();
      }
    }
;
    saveButton.addActionListener(saveAndHideListener);
    deleteButton.addActionListener(new ActionListener(){
      @Override public void actionPerformed(      ActionEvent e){
        deleteAndHide();
      }
    }
);
    panel.registerKeyboardAction(saveAndHideListener,KeyStroke.getKeyStroke(KeyEvent.VK_ENTER,InputEvent.CTRL_DOWN_MASK),JComponent.WHEN_IN_FOCUSED_WINDOW);
  }
  panel.registerKeyboardAction(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      balloon.hide();
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),JComponent.WHEN_IN_FOCUSED_WINDOW);
  return panel;
}
