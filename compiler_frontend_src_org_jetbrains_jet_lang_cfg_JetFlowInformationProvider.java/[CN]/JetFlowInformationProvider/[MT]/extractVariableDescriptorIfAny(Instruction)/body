{
  LocalVariableDescriptor variableDescriptor=null;
  if (instruction instanceof ReadValueInstruction) {
    JetElement element=((ReadValueInstruction)instruction).getElement();
    if (element instanceof JetSimpleNameExpression) {
      DeclarationDescriptor descriptor=trace.get(BindingContext.REFERENCE_TARGET,(JetSimpleNameExpression)element);
      if (descriptor instanceof LocalVariableDescriptor) {
        variableDescriptor=(LocalVariableDescriptor)descriptor;
      }
    }
  }
 else   if (instruction instanceof WriteValueInstruction) {
    DeclarationDescriptor descriptor=null;
    JetElement lValue=((WriteValueInstruction)instruction).getlValue();
    if (lValue instanceof JetProperty || lValue instanceof JetParameter) {
      descriptor=trace.get(BindingContext.DECLARATION_TO_DESCRIPTOR,lValue);
    }
 else     if (lValue instanceof JetSimpleNameExpression) {
      descriptor=trace.get(BindingContext.REFERENCE_TARGET,(JetSimpleNameExpression)lValue);
    }
    if (descriptor instanceof LocalVariableDescriptor) {
      variableDescriptor=(LocalVariableDescriptor)descriptor;
    }
  }
  return variableDescriptor;
}
