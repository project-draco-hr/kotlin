{
  ReceiverParameterDescriptor dispatchReceiverParameter=resolvedCall.getResultingDescriptor().getDispatchReceiverParameter();
  ReceiverValue dispatchReceiverValue=resolvedCall.getDispatchReceiver();
  if (dispatchReceiverParameter == null || !dispatchReceiverValue.exists())   return true;
  DeclarationDescriptor classDescriptor=null;
  if (dispatchReceiverValue instanceof ThisReceiver) {
    classDescriptor=((ThisReceiver)dispatchReceiverValue).getDeclarationDescriptor();
  }
 else   if (dispatchReceiverValue instanceof ExpressionReceiver) {
    JetExpression expression=JetPsiUtil.deparenthesize(((ExpressionReceiver)dispatchReceiverValue).getExpression());
    if (expression instanceof JetThisExpression) {
      JetThisExpression thisExpression=(JetThisExpression)expression;
      classDescriptor=trace.get(BindingContext.REFERENCE_TARGET,thisExpression.getInstanceReference());
    }
  }
  return dispatchReceiverParameter.getContainingDeclaration() == classDescriptor;
}
