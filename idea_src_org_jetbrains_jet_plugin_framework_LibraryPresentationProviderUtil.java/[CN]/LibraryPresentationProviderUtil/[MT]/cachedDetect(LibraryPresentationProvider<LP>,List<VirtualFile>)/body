{
  final Ref<LP> propertiesRef=new Ref<LP>();
  LibraryDetectionManager.getInstance().processProperties(classesRoots,new LibraryDetectionManager.LibraryPropertiesProcessor(){
    @Override public <P extends LibraryProperties>boolean processProperties(    @NotNull LibraryKind processedKind,    @NotNull P properties){
      if (provider.getKind().equals(processedKind)) {
        propertiesRef.set((LP)properties);
        return false;
      }
      return true;
    }
  }
);
  return propertiesRef.get();
}
