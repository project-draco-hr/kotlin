{
  String methodText="    public void allTestsPresent(String testDataDir) {\n" + "        Set<String> methodNames = new HashSet<String>();\n" + "        for (Method method : " + testClassName + ".class.getDeclaredMethods()) {\n"+ "            if (method.isAnnotationPresent(Test.class)) {\n"+ "                methodNames.add(method.getName().toLowerCase() + \"."+ testDataFileExtension+ "\");\n"+ "            }\n"+ "        }\n"+ "        File[] testDataFiles = new File(\"testDataDi\").listFiles(new FileFilter() {\n"+ "            @Override\n"+ "            public boolean accept(File pathname) {\n"+ "                return pathname.getName().endsWith(\"."+ testDataFileExtension+ "\");\n"+ "            }\n"+ "        });\n"+ "        for (File testDataFile : testDataFiles) {\n"+ "            if (!methodNames.contains(\"test\" + testDataFile.getName().toLowerCase())) {\n"+ "                Assert.fail(\"Test data file missing from the generated test class: \" + testDataFile + \"\\nPlease re-run the generator: "+ testClassName+ "\");\n"+ "            }\n"+ "        }\n"+ "    }\n";
  p.println(methodText);
}
