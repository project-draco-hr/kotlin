{
  String[] methodText=new String[]{"public static void allTestsPresent(File testDataDir, boolean recursive) {","    Set<String> methodNames = new HashSet<String>();","    for (Method method : " + testClassName + ".class.getDeclaredMethods()) {","        if (method.isAnnotationPresent(Test.class)) {","            methodNames.add(method.getName().toLowerCase() + \"." + testDataFileExtension + "\");","        }","    }","    for (File file : testDataDir.listFiles()) {","        if (file.isDirectory()) {","            if (recursive) {","                allTestsPresent(file, recursive);","            }","        }","        else {","            String name = file.getName();","            if (name.endsWith(\"." + testDataFileExtension + "\") && !methodNames.contains(\"test\" + name.toLowerCase())) {","                Assert.fail(\"Test data file missing from the generated test class: \" + file + \"\\nPlease re-run the generator: " + generatorName + "\");","            }","        }","    }","}"};
  for (  String s : methodText) {
    p.println(s);
  }
}
