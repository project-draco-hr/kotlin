{
  final Ref<DeclarationDescriptor> resultingDescriptor=Ref.create();
  DelegatingBindingTrace trace=new DelegatingBindingTrace(context,"trace in PsiCodegenPredictor"){
    @Override public <K,V>void record(    WritableSlice<K,V> slice,    K key,    V value){
      super.record(slice,key,value);
      if (slice == CodegenBinding.ASM_TYPE && key instanceof DeclarationDescriptor && value instanceof Type) {
        if (classInternalName.equals(((Type)value).getInternalName())) {
          resultingDescriptor.set((DeclarationDescriptor)key);
        }
      }
    }
  }
;
  CodegenBinding.initTrace(trace,allPackageFiles,GenerationState.GenerateClassFilter.GENERATE_ALL);
  return resultingDescriptor.isNull() ? null : BindingContextUtils.getContainingFile(trace.getBindingContext(),resultingDescriptor.get());
}
