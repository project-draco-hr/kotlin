{
  MethodVisitor mv=cv.newMethod(fun,ACC_STATIC | ACC_SYNTHETIC,"<clinit>","()V",null,ArrayUtil.EMPTY_STRING_ARRAY);
  InstructionAdapter iv=new InstructionAdapter(mv);
  cv.newField(fun,ACC_STATIC | ACC_FINAL,JvmAbi.INSTANCE_FIELD,name.getDescriptor(),null,null);
  if (state.getClassBuilderMode() == ClassBuilderMode.STUBS) {
    genStubCode(mv);
  }
 else   if (state.getClassBuilderMode() == ClassBuilderMode.FULL) {
    mv.visitCode();
    genInitSingletonField(name.getAsmType(),iv);
    mv.visitInsn(RETURN);
    FunctionCodegen.endVisit(mv,"<clinit>",fun);
  }
}
