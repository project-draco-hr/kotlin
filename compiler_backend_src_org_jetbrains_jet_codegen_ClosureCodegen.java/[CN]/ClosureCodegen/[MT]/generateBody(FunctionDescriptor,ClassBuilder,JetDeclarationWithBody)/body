{
  ClassDescriptor function=state.getTypeMapper().getClosureAnnotator().classDescriptorForFunctionDescriptor(funDescriptor,name);
  final CodegenContext.ClosureContext closureContext=context.intoClosure(funDescriptor,function,name,this,state.getTypeMapper());
  FunctionCodegen fc=new FunctionCodegen(closureContext,cv,state);
  JvmMethodSignature jvmMethodSignature=invokeSignature(funDescriptor);
  fc.generateMethod(body,jvmMethodSignature,false,null,funDescriptor);
  return closureContext.outerWasUsed;
}
