{
  ClassDescriptor function=closureAnnotator.classDescriptorForFunctionDescriptor(funDescriptor);
  final CodegenContexts.ClosureContext closureContext=context.intoClosure(funDescriptor,function,name,this,typeMapper);
  FunctionCodegen fc=new FunctionCodegen(closureContext,cv,state);
  JvmMethodSignature jvmMethodSignature=invokeSignature(funDescriptor);
  fc.generateMethod(body,jvmMethodSignature,false,null,funDescriptor);
  return closureContext.outerWasUsed;
}
