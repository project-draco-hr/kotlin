{
  ClassDescriptor function=state.getInjector().getJetTypeMapper().getClosureAnnotator().classDescriptorForFunctionDescriptor(funDescriptor,name);
  final CodegenContexts.ClosureContext closureContext=context.intoClosure(funDescriptor,function,name,this,state.getInjector().getJetTypeMapper());
  FunctionCodegen fc=new FunctionCodegen(closureContext,cv,state);
  JvmMethodSignature jvmMethodSignature=invokeSignature(funDescriptor);
  fc.generateMethod(body,jvmMethodSignature,false,null,funDescriptor);
  return closureContext.outerWasUsed;
}
