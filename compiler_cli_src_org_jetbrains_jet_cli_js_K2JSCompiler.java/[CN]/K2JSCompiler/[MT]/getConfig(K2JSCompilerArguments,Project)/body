{
  EcmaVersion ecmaVersion=EcmaVersion.fromString(arguments.target);
  String moduleId=FileUtil.getNameWithoutExtension(new File(arguments.outputFile));
  if (arguments.libraryFiles != null) {
    return new LibrarySourcesConfig(project,moduleId,Arrays.asList(arguments.libraryFiles),ecmaVersion);
  }
  if (arguments.libraryDirectories != null) {
    return new LibrarySourceDirectoriesConfig(project,moduleId,arguments.libraryDirectories,ecmaVersion);
  }
 else {
    return new ClassPathLibraryDefintionsConfig(project,moduleId,ecmaVersion);
  }
}
