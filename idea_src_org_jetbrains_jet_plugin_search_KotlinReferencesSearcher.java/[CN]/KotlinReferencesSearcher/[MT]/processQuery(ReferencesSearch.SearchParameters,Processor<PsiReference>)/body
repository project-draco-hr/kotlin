{
  final PsiElement element=queryParameters.getElementToSearch();
  if (element instanceof JetClass) {
    String className=((JetClass)element).getName();
    if (className != null) {
      JetLightClass lightClass=ApplicationManager.getApplication().runReadAction(new Computable<JetLightClass>(){
        @Override public JetLightClass compute(){
          return JetLightClass.wrapDelegate((JetClass)element);
        }
      }
);
      if (lightClass != null) {
        queryParameters.getOptimizer().searchWord(className,queryParameters.getScope(),true,lightClass);
      }
    }
  }
 else   if (element instanceof JetNamedFunction) {
    final JetNamedFunction function=(JetNamedFunction)element;
    final String name=function.getName();
    if (name != null) {
      final PsiMethod method=ApplicationManager.getApplication().runReadAction(new Computable<PsiMethod>(){
        @Override public PsiMethod compute(){
          return JetLightClass.wrapMethod(function);
        }
      }
);
      if (method != null) {
        queryParameters.getOptimizer().searchWord(name,queryParameters.getScope(),true,method);
      }
    }
  }
}
