{
  PsiElement element=queryParameters.getElementToSearch();
  if (element instanceof JetClass) {
    String className=((JetClass)element).getName();
    if (className != null) {
      queryParameters.getOptimizer().searchWord(className,queryParameters.getScope(),true,JetLightClass.wrapDelegate((JetClass)element));
    }
  }
 else   if (element instanceof JetFunction) {
    final JetFunction function=(JetFunction)element;
    final String name=function.getName();
    if (function.getParent() instanceof JetClassBody && name != null) {
      final PsiMethod method=ApplicationManager.getApplication().runReadAction(new Computable<PsiMethod>(){
        @Override public PsiMethod compute(){
          return JetLightClass.wrapMethod(function);
        }
      }
);
      if (method != null) {
        queryParameters.getOptimizer().searchWord(name,queryParameters.getScope(),true,JetLightClass.wrapMethod((JetFunction)element));
      }
    }
  }
}
