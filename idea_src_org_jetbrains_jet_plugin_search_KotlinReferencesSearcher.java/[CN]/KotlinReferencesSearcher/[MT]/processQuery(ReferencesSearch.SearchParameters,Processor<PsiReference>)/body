{
  final PsiElement element=queryParameters.getElementToSearch();
  if (element instanceof JetClass) {
    String className=((JetClass)element).getName();
    if (className != null) {
      PsiClass lightClass=ApplicationManager.getApplication().runReadAction(new Computable<PsiClass>(){
        @Override public PsiClass compute(){
          return LightClassUtil.createLightClass((JetClass)element);
        }
      }
);
      if (lightClass != null) {
        queryParameters.getOptimizer().searchWord(className,queryParameters.getEffectiveSearchScope(),true,lightClass);
      }
    }
  }
 else   if (element instanceof JetNamedFunction) {
    final JetNamedFunction function=(JetNamedFunction)element;
    String name=function.getName();
    if (name != null) {
      PsiMethod method=ApplicationManager.getApplication().runReadAction(new Computable<PsiMethod>(){
        @Override public PsiMethod compute(){
          return LightClassUtil.getLightClassMethod(function);
        }
      }
);
      if (method != null) {
        queryParameters.getOptimizer().searchWord(name,queryParameters.getEffectiveSearchScope(),true,method);
      }
    }
  }
}
