{
  return DeferredType.createRecursionIntolerant(storageManager,trace,new Function0<KotlinType>(){
    @Override public KotlinType invoke(){
      PreliminaryDeclarationVisitor.Companion.createForDeclaration(function,trace);
      KotlinType type=expressionTypingServices.getBodyExpressionType(trace,scope,dataFlowInfo,function,functionDescriptor);
      return transformAnonymousTypeIfNeeded(functionDescriptor,function,type,trace);
    }
  }
);
}
