{
  FunctionExpressionDescriptor functionDescriptor=new FunctionExpressionDescriptor(containingDescriptor,annotationResolver.resolveAnnotationsWithArguments(scope,function.getModifierList(),trace),function.getNameAsSafeName(),CallableMemberDescriptor.Kind.DECLARATION,toSourceElement(function));
  initializeFunctionDescriptorAndExplicitReturnType(containingDescriptor,scope,function,functionDescriptor,trace);
  initializeFunctionReturnTypeBasedOnFunctionBody(scope,function,functionDescriptor,trace,dataFlowInfo);
  BindingContextUtils.recordFunctionDeclarationToDescriptor(trace,function,functionDescriptor);
  return functionDescriptor;
}
