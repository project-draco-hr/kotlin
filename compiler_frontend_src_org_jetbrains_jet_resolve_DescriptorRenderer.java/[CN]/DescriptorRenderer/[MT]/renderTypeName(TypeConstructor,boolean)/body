{
  ClassifierDescriptor cd=typeConstructor.getDeclarationDescriptor();
  if (cd == null || cd instanceof TypeParameterDescriptor) {
    return typeConstructor.toString();
  }
 else {
    if (shortNamesOnly) {
      Object typeNameObject;
      typeNameObject=cd.getName();
      DeclarationDescriptor parent=cd.getContainingDeclaration();
      while (parent instanceof ClassDescriptor) {
        typeNameObject=parent.getName() + "." + typeNameObject;
        parent=parent.getContainingDeclaration();
      }
      return typeNameObject.toString();
    }
 else {
      return DescriptorUtils.getFQName(cd).getFqName();
    }
  }
}
