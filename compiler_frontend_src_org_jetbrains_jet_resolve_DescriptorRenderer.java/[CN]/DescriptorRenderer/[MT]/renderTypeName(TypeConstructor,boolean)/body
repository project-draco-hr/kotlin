{
  ClassifierDescriptor cd=typeConstructor.getDeclarationDescriptor();
  if (cd == null) {
    return typeConstructor.toString();
  }
 else   if (cd instanceof TypeParameterDescriptor) {
    return renderName(cd.getName());
  }
 else {
    if (shortNamesOnly) {
      List<Name> qualifiedNameElements=Lists.newArrayList();
      DeclarationDescriptor current=cd;
      do {
        qualifiedNameElements.add(current.getName());
        current=current.getContainingDeclaration();
      }
 while (current instanceof ClassDescriptor);
      Collections.reverse(qualifiedNameElements);
      return renderFqName(qualifiedNameElements);
    }
 else {
      return renderFqName(DescriptorUtils.getFQName(cd));
    }
  }
}
