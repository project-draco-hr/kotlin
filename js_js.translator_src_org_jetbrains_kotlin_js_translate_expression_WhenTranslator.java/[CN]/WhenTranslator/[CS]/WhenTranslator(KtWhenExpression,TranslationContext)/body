{
  super(context);
  whenExpression=expression;
  KtExpression subject=expression.getSubjectExpression();
  if (subject != null) {
    JsExpression subjectExpression=Translation.translateAsExpression(subject,context);
    TemporaryVariable subjectVar=context.declareTemporary(null);
    context.addStatementToCurrentBlock(asSyntheticStatement(JsAstUtils.assignment(subjectVar.reference(),subjectExpression)));
    subjectExpression=subjectVar.reference();
    expressionToMatch=subjectExpression;
  }
 else {
    expressionToMatch=null;
  }
}
