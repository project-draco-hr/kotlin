{
  if (annotation == null) {
    return null;
  }
  Collection<JetIntentionActionFactory> intentionActionFactories=QuickFixes.getActionFactories(diagnostic.getFactory());
  for (  JetIntentionActionFactory intentionActionFactory : intentionActionFactories) {
    IntentionAction action=null;
    if (intentionActionFactory != null) {
      action=intentionActionFactory.createAction(diagnostic);
    }
    if (action != null) {
      annotation.registerFix(action);
    }
  }
  Collection<IntentionAction> actions=QuickFixes.getActions(diagnostic.getFactory());
  for (  IntentionAction action : actions) {
    annotation.registerFix(action);
  }
  return annotation;
}
