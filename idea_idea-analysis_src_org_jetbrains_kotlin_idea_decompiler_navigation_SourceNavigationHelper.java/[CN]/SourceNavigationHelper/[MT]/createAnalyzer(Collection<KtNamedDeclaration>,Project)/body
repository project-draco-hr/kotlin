{
  TargetPlatform platform=TargetPlatform.Default.INSTANCE;
  MutableModuleContext newModuleContext=ContextKt.ContextForNewModule(project,Name.special("<library module>"),ModuleDescriptorKt.ModuleParameters(JvmPlatform.INSTANCE.getDefaultModuleParameters().getDefaultImports(),PlatformToKotlinClassMap.EMPTY),DefaultBuiltIns.getInstance());
  newModuleContext.setDependencies(newModuleContext.getModule(),newModuleContext.getModule().getBuiltIns().getBuiltInsModule());
  FileBasedDeclarationProviderFactory providerFactory=new FileBasedDeclarationProviderFactory(newModuleContext.getStorageManager(),getContainingFiles(candidates));
  ResolveSession resolveSession=InjectionKt.createLazyResolveSession(newModuleContext,providerFactory,new BindingTraceContext(),platform,LanguageFeatureSettings.LATEST);
  newModuleContext.initializeModuleContents(resolveSession.getPackageFragmentProvider());
  return resolveSession;
}
