{
  Set<ValueParameterDescriptor> parameters=new HashSet<ValueParameterDescriptor>();
  if (call instanceof ResolvedCallImpl) {
    Collection<Diagnostic> diagnostics=((ResolvedCallImpl)call).getTrace().getBindingContext().getDiagnostics();
    for (    Diagnostic diagnostic : diagnostics) {
      if (diagnostic.getFactory() == Errors.TOO_MANY_ARGUMENTS) {
        parameters.add(null);
      }
 else       if (diagnostic.getFactory() == Errors.NO_VALUE_FOR_PARAMETER) {
        ValueParameterDescriptor parameter=((DiagnosticWithParameters1<PsiElement,ValueParameterDescriptor>)diagnostic).getA();
        parameters.add(parameter);
      }
 else {
        JetValueArgument argument=PsiTreeUtil.getParentOfType(diagnostic.getPsiElement(),JetValueArgument.class,false);
        if (argument != null) {
          ValueParameterDescriptor parameter=findParameterByArgumentExpression(call,argument);
          if (parameter != null) {
            parameters.add(parameter);
          }
        }
      }
    }
  }
  return parameters;
}
