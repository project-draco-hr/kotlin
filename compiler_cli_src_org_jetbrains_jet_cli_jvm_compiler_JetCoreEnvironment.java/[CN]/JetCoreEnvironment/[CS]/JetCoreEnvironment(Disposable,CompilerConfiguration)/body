{
  super(parentDisposable);
  registerFileType(JetFileType.INSTANCE,"kt");
  registerFileType(JetFileType.INSTANCE,"kts");
  registerFileType(JetFileType.INSTANCE,"ktm");
  registerFileType(JetFileType.INSTANCE,JetParser.KTSCRIPT_FILE_SUFFIX);
  registerFileType(JetFileType.INSTANCE,"jet");
  registerParserDefinition(new JavaParserDefinition());
  registerParserDefinition(new JetParserDefinition());
  myProject.registerService(JetFilesProvider.class,new CliJetFilesProvider(this));
  Extensions.getArea(myProject).getExtensionPoint(PsiElementFinder.EP_NAME).registerExtension(new JavaElementFinder(myProject));
  annotationsProvider=new CoreAnnotationsProvider();
  myProject.registerService(ExternalAnnotationsProvider.class,annotationsProvider);
  for (  File path : configuration.getList(JVMConfigurationKeys.CLASSPATH_KEY)) {
    addToClasspath(path);
  }
  for (  File path : configuration.getList(JVMConfigurationKeys.ANNOTATIONS_PATH_KEY)) {
    addExternalAnnotationsRoot(PathUtil.jarFileOrDirectoryToVirtualFile(path));
  }
  JetStandardLibrary.initialize(getProject());
}
