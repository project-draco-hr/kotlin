{
  JetElement enclosingBlock=JetPsiUtil.getEnclosingElementForLocalDeclaration(this,false);
  if (enclosingBlock != null)   return new LocalSearchScope(enclosingBlock);
  if (hasModifier(JetTokens.PRIVATE_KEYWORD)) {
    JetElement containingClass=PsiTreeUtil.getParentOfType(this,JetClassOrObject.class);
    if (containingClass instanceof JetObjectDeclaration && ((JetObjectDeclaration)containingClass).isCompanion()) {
      JetElement companionObjectClass=PsiTreeUtil.getParentOfType(containingClass,JetClassOrObject.class);
      if (companionObjectClass != null) {
        containingClass=companionObjectClass;
      }
    }
    if (containingClass != null) {
      return new LocalSearchScope(containingClass);
    }
  }
  return super.getUseScope();
}
