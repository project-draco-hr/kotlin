{
  JsExpression alias=getAliasForDescriptor(descriptor);
  if (alias != null) {
    return alias;
  }
  if (DescriptorUtils.isObject(descriptor.getContainingDeclaration())) {
    if (isConstructorOrDirectScope(descriptor.getContainingDeclaration())) {
      return JsLiteral.THIS;
    }
 else {
      return getQualifiedReference(descriptor.getContainingDeclaration());
    }
  }
  if (descriptor.getValue() instanceof ExtensionReceiver)   return JsLiteral.THIS;
  ClassifierDescriptor classifier=descriptor.getValue().getType().getConstructor().getDeclarationDescriptor();
  if (!(classifier instanceof ClassDescriptor))   return JsLiteral.THIS;
  ClassDescriptor cls=(ClassDescriptor)classifier;
  JsExpression receiver=getAliasForDescriptor(cls.getThisAsReceiverParameter());
  if (receiver == null) {
    receiver=JsLiteral.THIS;
  }
  return getDispatchReceiverPath(cls,receiver);
}
