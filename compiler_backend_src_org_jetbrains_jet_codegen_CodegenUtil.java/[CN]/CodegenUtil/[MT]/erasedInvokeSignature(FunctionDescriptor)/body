{
  BothSignatureWriter signatureWriter=new BothSignatureWriter(BothSignatureWriter.Mode.METHOD);
  boolean isExtensionFunction=fd.getReceiverParameter() != null;
  int paramCount=fd.getValueParameters().size();
  if (isExtensionFunction) {
    paramCount++;
  }
  signatureWriter.writeParametersStart();
  for (int i=0; i < paramCount; ++i) {
    signatureWriter.writeParameterType(JvmMethodParameterKind.VALUE);
    signatureWriter.writeAsmType(OBJECT_TYPE);
    signatureWriter.writeParameterTypeEnd();
  }
  signatureWriter.writeReturnType();
  signatureWriter.writeAsmType(OBJECT_TYPE);
  signatureWriter.writeReturnTypeEnd();
  return signatureWriter.makeJvmMethodSignature("invoke");
}
