{
  String defaultPathToJar=getDefaultPathToJarFile(project);
  String defaultPathToJsFile=getDefaultPathToJsFile(project);
  boolean showPathToJarPanel=needToChooseJarPath(project);
  boolean showPathToJsFilePanel=needToChooseJsFilePath(project);
  List<Module> nonConfiguredModules=ConfigureKotlinInProjectUtils.getNonConfiguredModules(project,this);
  if (nonConfiguredModules.size() > 1 || showPathToJarPanel || showPathToJsFilePanel) {
    CreateJavaScriptLibraryDialogWithModules dialog=new CreateJavaScriptLibraryDialogWithModules(project,nonConfiguredModules,defaultPathToJar,defaultPathToJsFile,showPathToJarPanel,showPathToJsFilePanel);
    dialog.show();
    if (!dialog.isOK())     return;
    for (    Module module : dialog.getModulesToConfigure()) {
      configureModuleWithLibrary(module,defaultPathToJar,dialog.getCopyLibraryIntoPath());
    }
    configureModuleWithJsFile(defaultPathToJsFile,dialog.getCopyJsIntoPath());
  }
 else {
    for (    Module module : nonConfiguredModules) {
      configureModuleWithLibrary(module,defaultPathToJar,null);
    }
    configureModuleWithJsFile(defaultPathToJsFile,null);
  }
}
