{
  if (options.isUsages) {
    boolean success=ReferencesSearch.search(new ReferencesSearch.SearchParameters(element,options.searchScope,false,options.fastTrack)).forEach(new ReadActionProcessor<PsiReference>(){
      @Override public boolean processInReadAction(      PsiReference ref){
        TextRange rangeInElement=ref.getRangeInElement();
        return processor.process(new UsageInfo(ref.getElement(),rangeInElement.getStartOffset(),rangeInElement.getEndOffset(),false));
      }
    }
);
    if (!success)     return false;
  }
  return true;
}
