{
  if (state.getClassBuilderMode() == ClassBuilderMode.LIGHT_CLASSES) {
    return;
  }
  if (isAnonymousObject(descriptor) || !(descriptor.getContainingDeclaration() instanceof ClassOrPackageFragmentDescriptor)) {
    writeOuterClassAndEnclosingMethod();
  }
}
