{
  int componentIndex=1;
  for (  JetMultiDeclarationEntry entry : multiDeclaration.getEntries()) {
    Name componentName=DataClassUtilsPackage.createComponentName(componentIndex);
    componentIndex++;
    JetType expectedType=getExpectedTypeForComponent(context,entry);
    OverloadResolutionResults<FunctionDescriptor> results=resolveFakeCall(context.replaceExpectedType(expectedType),receiver,componentName,entry);
    JetType componentType=null;
    if (results.isSuccess()) {
      context.trace.record(COMPONENT_RESOLVED_CALL,entry,results.getResultingCall());
      FunctionDescriptor componentFunction=results.getResultingDescriptor();
      expressionTypingServices.getSymbolUsageValidator().validateCall(componentFunction,context.trace,entry);
      componentType=componentFunction.getReturnType();
      if (componentType != null && !noExpectedType(expectedType) && !JetTypeChecker.DEFAULT.isSubtypeOf(componentType,expectedType)) {
        context.trace.report(COMPONENT_FUNCTION_RETURN_TYPE_MISMATCH.on(reportErrorsOn,componentName,componentType,expectedType));
      }
    }
 else     if (results.isAmbiguity()) {
      context.trace.report(COMPONENT_FUNCTION_AMBIGUITY.on(reportErrorsOn,componentName,results.getResultingCalls()));
    }
 else {
      context.trace.report(COMPONENT_FUNCTION_MISSING.on(reportErrorsOn,componentName,receiver.getType()));
    }
    if (componentType == null) {
      componentType=ErrorUtils.createErrorType(componentName + "() return type");
    }
    VariableDescriptor variableDescriptor=expressionTypingServices.getDescriptorResolver().resolveLocalVariableDescriptorWithType(writableScope,entry,componentType,context.trace);
    VariableDescriptor olderVariable=writableScope.getLocalVariable(variableDescriptor.getName());
    checkVariableShadowing(context,variableDescriptor,olderVariable);
    writableScope.addVariableDescriptor(variableDescriptor);
  }
}
