{
  return new ObservableBindingTrace(trace){
    @Override public void report(    @NotNull Diagnostic diagnostic){
      DiagnosticFactory<?> factory=diagnostic.getFactory();
      if ((factory == TYPE_MISMATCH || factory == CONSTANT_EXPECTED_TYPE_MISMATCH || factory == NULL_FOR_NONNULL_TYPE) && diagnostic.getPsiElement() == expressionToWatch) {
        mismatchFound[0]=true;
      }
      if (TYPE_INFERENCE_ERRORS.contains(factory) && PsiTreeUtil.isAncestor(expressionToWatch,diagnostic.getPsiElement(),false)) {
        mismatchFound[0]=true;
      }
      super.report(diagnostic);
    }
  }
;
}
