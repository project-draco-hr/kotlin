{
  if (receiverValue instanceof ExpressionReceiver) {
    KtExpression expression=((ExpressionReceiver)receiverValue).getExpression();
    KtReferenceExpression referenceExpression=null;
    if (expression instanceof KtThisExpression) {
      referenceExpression=((KtThisExpression)expression).getInstanceReference();
    }
 else     if (expression instanceof KtConstructorDelegationReferenceExpression) {
      referenceExpression=(KtReferenceExpression)expression;
    }
    if (referenceExpression != null) {
      DeclarationDescriptor descriptor=trace.get(BindingContext.REFERENCE_TARGET,referenceExpression);
      if (descriptor instanceof ClassDescriptor) {
        return new ClassReceiver((ClassDescriptor)descriptor.getOriginal());
      }
    }
  }
  return receiverValue;
}
