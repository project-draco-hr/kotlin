{
  SMAPAndMethodNode nodeAndSmap=null;
  if (!state.getInlineCycleReporter().enterIntoInlining(resolvedCall)) {
    generateStub(resolvedCall,codegen);
    return;
  }
  try {
    nodeAndSmap=createMethodNode(callDefault);
    if (isDefaultMethodCompilation) {
      nodeAndSmap.getNode().accept(new MethodBodyVisitor(codegen.v));
    }
 else {
      endCall(inlineCall(nodeAndSmap));
    }
  }
 catch (  CompilationException e) {
    throw e;
  }
catch (  Exception e) {
    boolean generateNodeText=!(e instanceof InlineException);
    PsiElement element=DescriptorToSourceUtils.descriptorToDeclaration(this.codegen.getContext().getContextDescriptor());
    throw new CompilationException("Couldn't inline method call '" + functionDescriptor.getName() + "' into \n"+ (element != null ? element.getText() : "null psi element " + this.codegen.getContext().getContextDescriptor())+ (generateNodeText ? ("\ncause: " + InlineCodegenUtil.getNodeText(nodeAndSmap != null ? nodeAndSmap.getNode() : null)) : ""),e,callElement);
  }
 finally {
    state.getInlineCycleReporter().exitFromInliningOf(resolvedCall);
  }
}
