{
  JetFunctionLiteral functionLiteral=expression.getFunctionLiteral();
  FunctionDescriptor functionDescriptor=(FunctionDescriptor)bindingContext.get(DECLARATION_TO_DESCRIPTOR,functionLiteral);
  if (functionDescriptor == null)   return;
  String name=inventAnonymousClassName(expression);
  Collection<JetType> supertypes=functionImplTypes.getSupertypesForClosure(functionDescriptor);
  ClassDescriptor classDescriptor=recordClassForFunction(functionDescriptor,supertypes);
  recordClosure(functionLiteral,classDescriptor,name);
  pushClassDescriptor(classDescriptor);
  nameStack.push(name);
  super.visitFunctionLiteralExpression(expression);
  nameStack.pop();
  popClassDescriptor();
}
