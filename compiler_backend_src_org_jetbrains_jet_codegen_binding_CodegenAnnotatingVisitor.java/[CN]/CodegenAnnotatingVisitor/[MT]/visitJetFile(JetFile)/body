{
  if (file.isScript()) {
    ClassDescriptor classDescriptor=bindingContext.get(CLASS_FOR_SCRIPT,bindingContext.get(SCRIPT,file.getScript()));
    classStack.push(classDescriptor);
    nameStack.push(asmTypeForScriptPsi(bindingContext,file.getScript()).getInternalName());
  }
 else {
    nameStack.push(JvmClassName.byFqNameWithoutInnerClasses(JetPsiUtil.getFQName(file)).getInternalName());
  }
  file.acceptChildren(this);
  nameStack.pop();
  if (file.isScript()) {
    classStack.pop();
  }
}
