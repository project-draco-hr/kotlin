{
  if (file.isScript()) {
    ClassDescriptor classDescriptor=bindingContext.get(CLASS_FOR_SCRIPT,bindingContext.get(SCRIPT,file.getScript()));
    pushClassDescriptor(classDescriptor);
    nameStack.push(asmTypeForScriptPsi(bindingContext,file.getScript()).getInternalName());
  }
 else {
    nameStack.push(JvmClassName.byFqNameWithoutInnerClasses(file.getPackageFqName()).getInternalName());
  }
  file.acceptChildren(this);
  nameStack.pop();
  if (file.isScript()) {
    popClassDescriptor();
  }
}
