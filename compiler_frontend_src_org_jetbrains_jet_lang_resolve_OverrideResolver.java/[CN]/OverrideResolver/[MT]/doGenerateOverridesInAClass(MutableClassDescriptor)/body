{
  List<CallableMemberDescriptor> functionsFromSupertypes=getCallableMembersFromSupertypes(classDescriptor);
  MultiMap<Name,CallableMemberDescriptor> functionsFromSupertypesByName=groupDescriptorsByName(functionsFromSupertypes);
  MultiMap<Name,CallableMemberDescriptor> functionsFromCurrentByName=groupDescriptorsByName(classDescriptor.getDeclaredCallableMembers());
  Set<Name> functionNames=new LinkedHashSet<Name>();
  functionNames.addAll(functionsFromSupertypesByName.keySet());
  functionNames.addAll(functionsFromCurrentByName.keySet());
  for (  Name functionName : functionNames) {
    Collection<CallableMemberDescriptor> fromSupertypes=functionsFromSupertypesByName.get(functionName);
    Collection<CallableMemberDescriptor> fromCurrent=functionsFromCurrentByName.get(functionName);
    generateOverridesInFunctionGroup(functionName,fromSupertypes,fromCurrent,classDescriptor,new DescriptorSink(){
      @Override public void addToScope(      @NotNull CallableMemberDescriptor fakeOverride){
        if (fakeOverride instanceof PropertyDescriptor) {
          classDescriptor.getBuilder().addPropertyDescriptor((PropertyDescriptor)fakeOverride);
        }
 else         if (fakeOverride instanceof SimpleFunctionDescriptor) {
          classDescriptor.getBuilder().addFunctionDescriptor((SimpleFunctionDescriptor)fakeOverride);
        }
 else {
          throw new IllegalStateException(fakeOverride.getClass().getName());
        }
      }
      @Override public void conflict(      @NotNull CallableMemberDescriptor fromSuper,      @NotNull CallableMemberDescriptor fromCurrent){
        JetDeclaration jetProperty=(JetDeclaration)BindingContextUtils.descriptorToDeclaration(trace.getBindingContext(),fromCurrent);
        trace.report(Errors.CONFLICTING_OVERLOADS.on(jetProperty,fromCurrent,fromCurrent.getContainingDeclaration().getName().getName()));
      }
    }
);
  }
  for (  CallableMemberDescriptor memberDescriptor : classDescriptor.getAllCallableMembers()) {
    JetDeclaration declaration=null;
    if (memberDescriptor.getKind() != CallableMemberDescriptor.Kind.FAKE_OVERRIDE) {
      PsiElement element=BindingContextUtils.descriptorToDeclaration(trace.getBindingContext(),memberDescriptor);
      if (element instanceof JetDeclaration) {
        declaration=(JetDeclaration)element;
      }
    }
    resolveUnknownVisibilityForMember(declaration,memberDescriptor);
  }
}
