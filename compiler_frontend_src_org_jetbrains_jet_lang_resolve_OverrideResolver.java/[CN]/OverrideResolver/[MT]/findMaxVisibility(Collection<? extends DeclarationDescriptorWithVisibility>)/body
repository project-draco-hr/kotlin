{
  Visibility maxVisibility=null;
  for (  DeclarationDescriptorWithVisibility descriptor : descriptors) {
    Visibility visibility=descriptor.getVisibility();
    if (maxVisibility == null) {
      maxVisibility=visibility;
      continue;
    }
    Integer compare=Visibilities.compare(visibility,maxVisibility);
    if (compare == null) {
      maxVisibility=Visibilities.PUBLIC;
      continue;
    }
    if (compare > 0) {
      maxVisibility=visibility;
    }
  }
  return maxVisibility != null ? maxVisibility : Visibilities.INTERNAL;
}
