{
  Map<TestModule,ModuleDescriptorImpl> modules=new HashMap<TestModule,ModuleDescriptorImpl>();
  for (  TestModule testModule : groupedByModule.keySet()) {
    if (testModule == null)     continue;
    ModuleDescriptorImpl module=AnalyzerFacadeForJVM.createJavaModule("<" + testModule.getName() + ">");
    modules.put(testModule,module);
  }
  for (  TestModule testModule : groupedByModule.keySet()) {
    if (testModule == null)     continue;
    ModuleDescriptorImpl module=modules.get(testModule);
    for (    TestModule dependency : testModule.getDependencies()) {
      module.addFragmentProvider(DependencyKind.BINARIES,modules.get(dependency).getPackageFragmentProvider());
    }
  }
  return modules;
}
