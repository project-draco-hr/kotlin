{
  ClassOrPackageFragmentDescriptor containerDescriptor=DescriptorUtils.getParentOfType(referencedDescriptor,ClassOrPackageFragmentDescriptor.class,false);
  if (containerDescriptor instanceof PackageFragmentDescriptor) {
    return PackageClassUtils.getPackageClassFqName(getFqName(containerDescriptor).toSafe());
  }
  if (containerDescriptor instanceof ClassDescriptor) {
    FqName fqName=DeserializedResolverUtils.kotlinFqNameToJavaFqName(getFqName(containerDescriptor));
    if (isTrait(containerDescriptor)) {
      return fqName.parent().child(Name.identifier(fqName.shortName() + JvmAbi.TRAIT_IMPL_SUFFIX));
    }
    return fqName;
  }
  return null;
}
