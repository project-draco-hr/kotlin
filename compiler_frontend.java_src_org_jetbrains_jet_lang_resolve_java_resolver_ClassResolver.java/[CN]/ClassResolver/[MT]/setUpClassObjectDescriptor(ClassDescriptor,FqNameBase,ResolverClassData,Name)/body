{
  ClassDescriptorFromJvmBytecode classDescriptor=data.getClassDescriptor();
  classDescriptorCache.put(fqName,data);
  classDescriptor.setName(classObjectName);
  classDescriptor.setModality(Modality.FINAL);
  classDescriptor.setVisibility(containing.getVisibility());
  classDescriptor.setTypeParameterDescriptors(Collections.<TypeParameterDescriptor>emptyList());
  classDescriptor.createTypeConstructor();
  JavaClassMembersScope classMembersScope=new JavaClassMembersScope(javaDescriptorResolver.getSemanticServices(),data);
  WritableScopeImpl writableScope=new WritableScopeImpl(classMembersScope,classDescriptor,RedeclarationHandler.THROW_EXCEPTION,fqName.toString());
  writableScope.changeLockLevel(WritableScope.LockLevel.BOTH);
  classDescriptor.setScopeForMemberLookup(writableScope);
}
