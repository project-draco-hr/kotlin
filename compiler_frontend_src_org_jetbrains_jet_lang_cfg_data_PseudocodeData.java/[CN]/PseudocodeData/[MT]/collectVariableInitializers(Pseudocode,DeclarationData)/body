{
  JetControlFlowGraphTraverser<Map<VariableDescriptor,VariableInitializers>> traverser=JetControlFlowGraphTraverser.create(pseudocode,false,true);
  final Map<VariableDescriptor,VariableInitializers> initialMapForStartInstruction=prepareInitialMapForStartInstruction(data.usedVariables,data.declaredVariables);
  traverser.collectInformationFromInstructionGraph(Collections.<VariableDescriptor,VariableInitializers>emptyMap(),initialMapForStartInstruction,new JetControlFlowGraphTraverser.InstructionDataMergeStrategy<Map<VariableDescriptor,VariableInitializers>>(){
    @Override public Pair<Map<VariableDescriptor,VariableInitializers>,Map<VariableDescriptor,VariableInitializers>> execute(    @NotNull Instruction instruction,    @NotNull Collection<Map<VariableDescriptor,VariableInitializers>> incomingEdgesData){
      Map<VariableDescriptor,VariableInitializers> enterInstructionData=mergeIncomingEdgesData(incomingEdgesData);
      Map<VariableDescriptor,VariableInitializers> exitInstructionData=addVariableInitializerFromCurrentInstructionIfAny(instruction,enterInstructionData);
      return Pair.create(enterInstructionData,exitInstructionData);
    }
  }
);
  Map<Instruction,Pair<Map<VariableDescriptor,VariableInitializers>,Map<VariableDescriptor,VariableInitializers>>> result=traverser.getDataMap();
  for (  Pseudocode localPseudocode : pseudocode.getLocalDeclarations()) {
    Map<Instruction,Pair<Map<VariableDescriptor,VariableInitializers>,Map<VariableDescriptor,VariableInitializers>>> initializersForLocalDeclaration=collectVariableInitializers(localPseudocode,declarationDataMap.get(localPseudocode));
    for (    Instruction instruction : initializersForLocalDeclaration.keySet()) {
      if (!result.containsKey(instruction)) {
        result.put(instruction,initializersForLocalDeclaration.get(instruction));
      }
    }
    result.putAll(initializersForLocalDeclaration);
  }
  return result;
}
