{
  IElementType elementType=astNode.getElementType();
  if (elementType instanceof JetStubElementType) {
    return ((JetStubElementType)elementType).createPsiFromAst(astNode);
  }
 else   if (elementType == JetNodeTypes.TYPE_CODE_FRAGMENT || elementType == JetNodeTypes.EXPRESSION_CODE_FRAGMENT || elementType == JetNodeTypes.BLOCK_CODE_FRAGMENT) {
    return new ASTWrapperPsiElement(astNode);
  }
 else   if (elementType instanceof KDocElementType) {
    return ((KDocElementType)elementType).createPsi(astNode);
  }
 else   if (elementType == KDocTokens.MARKDOWN_LINK) {
    return new KDocLink(astNode);
  }
 else {
    return ((JetNodeType)elementType).createPsi(astNode);
  }
}
