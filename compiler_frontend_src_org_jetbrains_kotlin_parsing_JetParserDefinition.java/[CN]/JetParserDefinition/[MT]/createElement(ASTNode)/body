{
  IElementType elementType=astNode.getElementType();
  if (elementType instanceof KtStubElementType) {
    return ((KtStubElementType)elementType).createPsiFromAst(astNode);
  }
 else   if (elementType == KtNodeTypes.TYPE_CODE_FRAGMENT || elementType == KtNodeTypes.EXPRESSION_CODE_FRAGMENT || elementType == KtNodeTypes.BLOCK_CODE_FRAGMENT) {
    return new ASTWrapperPsiElement(astNode);
  }
 else   if (elementType instanceof KDocElementType) {
    return ((KDocElementType)elementType).createPsi(astNode);
  }
 else   if (elementType == KDocTokens.MARKDOWN_LINK) {
    return new KDocLink(astNode);
  }
 else {
    return ((KtNodeType)elementType).createPsi(astNode);
  }
}
