{
  this.project=project;
  this.bindingTrace=bindingTrace;
  this.javaClassFinder=new JavaClassFinderImpl();
  this.traceBasedExternalSignatureResolver=new TraceBasedExternalSignatureResolver();
  this.traceBasedJavaResolverCache=new TraceBasedJavaResolverCache();
  this.traceBasedErrorReporter=new TraceBasedErrorReporter();
  this.psiBasedMethodSignatureChecker=new PsiBasedMethodSignatureChecker();
  this.psiBasedExternalAnnotationResolver=new PsiBasedExternalAnnotationResolver();
  this.javaDescriptorResolver=new JavaDescriptorResolver();
  this.virtualFileKotlinClassFinder=new VirtualFileKotlinClassFinder();
  this.virtualFileFinder=com.intellij.openapi.components.ServiceManager.getService(project,VirtualFileFinder.class);
  this.module=org.jetbrains.jet.lang.resolve.java.AnalyzerFacadeForJVM.createJavaModule("<fake-jdr-module>");
  this.javaAnnotationResolver=new JavaAnnotationResolver();
  this.javaAnnotationArgumentResolver=new JavaAnnotationArgumentResolver();
  this.javaClassResolver=new JavaClassResolver();
  this.deserializedDescriptorResolver=new DeserializedDescriptorResolver();
  this.annotationDescriptorDeserializer=new AnnotationDescriptorDeserializer();
  this.javaPackageFragmentProvider=new JavaPackageFragmentProvider();
  this.javaMemberResolver=new JavaMemberResolver();
  this.javaConstructorResolver=new JavaConstructorResolver();
  this.javaTypeTransformer=new JavaTypeTransformer();
  this.javaValueParameterResolver=new JavaValueParameterResolver();
  this.javaFunctionResolver=new JavaFunctionResolver();
  this.javaTypeParameterResolver=new JavaTypeParameterResolver();
  this.javaPropertyResolver=new JavaPropertyResolver();
  this.javaSupertypeResolver=new JavaSupertypeResolver();
  this.javaClassFinder.setProject(project);
  traceBasedExternalSignatureResolver.setAnnotationResolver(javaAnnotationResolver);
  traceBasedExternalSignatureResolver.setTrace(bindingTrace);
  traceBasedJavaResolverCache.setTrace(bindingTrace);
  traceBasedErrorReporter.setTrace(bindingTrace);
  psiBasedMethodSignatureChecker.setAnnotationResolver(javaAnnotationResolver);
  psiBasedMethodSignatureChecker.setExternalSignatureResolver(traceBasedExternalSignatureResolver);
  this.javaDescriptorResolver.setClassResolver(javaClassResolver);
  this.javaDescriptorResolver.setPackageFragmentProvider(javaPackageFragmentProvider);
  virtualFileKotlinClassFinder.setVirtualFileFinder(virtualFileFinder);
  javaAnnotationResolver.setArgumentResolver(javaAnnotationArgumentResolver);
  javaAnnotationResolver.setClassResolver(javaClassResolver);
  javaAnnotationResolver.setExternalAnnotationResolver(psiBasedExternalAnnotationResolver);
  javaAnnotationArgumentResolver.setAnnotationResolver(javaAnnotationResolver);
  javaAnnotationArgumentResolver.setClassResolver(javaClassResolver);
  javaAnnotationArgumentResolver.setTypeTransformer(javaTypeTransformer);
  javaClassResolver.setAnnotationResolver(javaAnnotationResolver);
  javaClassResolver.setCache(traceBasedJavaResolverCache);
  javaClassResolver.setDeserializedDescriptorResolver(deserializedDescriptorResolver);
  javaClassResolver.setFunctionResolver(javaFunctionResolver);
  javaClassResolver.setJavaClassFinder(javaClassFinder);
  javaClassResolver.setKotlinClassFinder(virtualFileKotlinClassFinder);
  javaClassResolver.setMemberResolver(javaMemberResolver);
  javaClassResolver.setPackageFragmentProvider(javaPackageFragmentProvider);
  javaClassResolver.setSupertypesResolver(javaSupertypeResolver);
  javaClassResolver.setTypeParameterResolver(javaTypeParameterResolver);
  deserializedDescriptorResolver.setAnnotationDeserializer(annotationDescriptorDeserializer);
  deserializedDescriptorResolver.setErrorReporter(traceBasedErrorReporter);
  deserializedDescriptorResolver.setJavaClassResolver(javaClassResolver);
  deserializedDescriptorResolver.setJavaPackageFragmentProvider(javaPackageFragmentProvider);
  annotationDescriptorDeserializer.setErrorReporter(traceBasedErrorReporter);
  annotationDescriptorDeserializer.setJavaClassResolver(javaClassResolver);
  annotationDescriptorDeserializer.setKotlinClassFinder(virtualFileKotlinClassFinder);
  javaPackageFragmentProvider.setCache(traceBasedJavaResolverCache);
  javaPackageFragmentProvider.setDeserializedDescriptorResolver(deserializedDescriptorResolver);
  javaPackageFragmentProvider.setJavaClassFinder(javaClassFinder);
  javaPackageFragmentProvider.setJavaDescriptorResolver(javaDescriptorResolver);
  javaPackageFragmentProvider.setKotlinClassFinder(virtualFileKotlinClassFinder);
  javaPackageFragmentProvider.setMemberResolver(javaMemberResolver);
  javaPackageFragmentProvider.setModule(module);
  javaMemberResolver.setClassResolver(javaClassResolver);
  javaMemberResolver.setConstructorResolver(javaConstructorResolver);
  javaMemberResolver.setFunctionResolver(javaFunctionResolver);
  javaMemberResolver.setPropertyResolver(javaPropertyResolver);
  javaConstructorResolver.setCache(traceBasedJavaResolverCache);
  javaConstructorResolver.setExternalSignatureResolver(traceBasedExternalSignatureResolver);
  javaConstructorResolver.setTypeTransformer(javaTypeTransformer);
  javaConstructorResolver.setValueParameterResolver(javaValueParameterResolver);
  javaTypeTransformer.setClassResolver(javaClassResolver);
  javaValueParameterResolver.setAnnotationResolver(javaAnnotationResolver);
  javaValueParameterResolver.setTypeTransformer(javaTypeTransformer);
  javaFunctionResolver.setAnnotationResolver(javaAnnotationResolver);
  javaFunctionResolver.setCache(traceBasedJavaResolverCache);
  javaFunctionResolver.setErrorReporter(traceBasedErrorReporter);
  javaFunctionResolver.setExternalSignatureResolver(traceBasedExternalSignatureResolver);
  javaFunctionResolver.setSignatureChecker(psiBasedMethodSignatureChecker);
  javaFunctionResolver.setTypeParameterResolver(javaTypeParameterResolver);
  javaFunctionResolver.setTypeTransformer(javaTypeTransformer);
  javaFunctionResolver.setValueParameterResolver(javaValueParameterResolver);
  javaTypeParameterResolver.setTypeTransformer(javaTypeTransformer);
  javaPropertyResolver.setAnnotationResolver(javaAnnotationResolver);
  javaPropertyResolver.setCache(traceBasedJavaResolverCache);
  javaPropertyResolver.setErrorReporter(traceBasedErrorReporter);
  javaPropertyResolver.setExternalSignatureResolver(traceBasedExternalSignatureResolver);
  javaPropertyResolver.setTypeTransformer(javaTypeTransformer);
  javaSupertypeResolver.setClassResolver(javaClassResolver);
  javaSupertypeResolver.setTypeTransformer(javaTypeTransformer);
  javaClassFinder.initialize();
}
