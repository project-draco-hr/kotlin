{
  if (type1.isNullable() != type2.isNullable()) {
    return false;
  }
  if (!type1.getConstructor().equals(type2.getConstructor())) {
    return false;
  }
  List<TypeProjection> type1Arguments=type1.getArguments();
  List<TypeProjection> type2Arguments=type2.getArguments();
  if (type1Arguments.size() != type2Arguments.size()) {
    return false;
  }
  for (int i=0; i < type1Arguments.size(); i++) {
    TypeProjection typeProjection1=type1Arguments.get(i);
    TypeProjection typeProjection2=type2Arguments.get(i);
    if (typeProjection1.getProjectionKind() != typeProjection2.getProjectionKind()) {
      return false;
    }
    if (typeProjection1.getProjectionKind() != ProjectionKind.NEITHER_OUT_NOR_IN) {
      if (!equalTypes(typeProjection1.getType(),typeProjection2.getType())) {
        return false;
      }
    }
  }
  return true;
}
