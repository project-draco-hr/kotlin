{
  if (descriptor instanceof NamespaceDescriptor) {
    return PlatformIcons.PACKAGE_OPEN_ICON;
  }
  if (descriptor instanceof FunctionDescriptor) {
    return descriptor.getContainingDeclaration() instanceof ClassDescriptor ? PlatformIcons.METHOD_ICON : JetIcons.FUNCTION;
  }
  if (descriptor instanceof ClassDescriptor) {
switch (((ClassDescriptor)descriptor).getKind()) {
case TRAIT:
      return JetIcons.TRAIT;
case ENUM_CLASS:
    return PlatformIcons.ENUM_ICON;
case ENUM_ENTRY:
  return PlatformIcons.ENUM_ICON;
case ANNOTATION_CLASS:
return PlatformIcons.ANNOTATION_TYPE_ICON;
case OBJECT:
return JetIcons.OBJECT;
case CLASS:
return PlatformIcons.CLASS_ICON;
default :
LOG.warn("No icon for descriptor: " + descriptor);
return null;
}
}
if (descriptor instanceof ValueParameterDescriptor) {
return JetIcons.PARAMETER;
}
if (descriptor instanceof LocalVariableDescriptor) {
return ((LocalVariableDescriptor)descriptor).isVar() ? JetIcons.VAR : JetIcons.VAL;
}
if (descriptor instanceof PropertyDescriptor) {
return ((PropertyDescriptor)descriptor).isVar() ? JetIcons.FIELD_VAR : JetIcons.FIELD_VAL;
}
if (descriptor instanceof TypeParameterDescriptor) {
return PlatformIcons.CLASS_ICON;
}
LOG.warn("No icon for descriptor: " + descriptor);
return null;
}
