{
  final PsiManager manager=PsiManager.getInstance(project);
  Set<VirtualFile> filesSet=new HashSet<VirtualFile>();
  for (  VirtualFile f : vFiles) {
    filesSet.add(f);
    filesSet.addAll(getChildrenRecursive(f));
  }
  final List<PsiFile> res=new ArrayList<PsiFile>();
  for (  final VirtualFile file : filesSet) {
    final PsiFile psiFile=manager.findFile(file);
    if (psiFile != null && psiFile.getFileType() instanceof JavaFileType) {
      res.add(psiFile);
    }
  }
  return res;
}
