{
  if (function instanceof JetFunctionLiteral) {
    JetBlockExpression functionLiteralBody=((JetFunctionLiteral)function).getBodyExpression();
    PsiElement returnedElement=functionLiteralBody == null ? null : functionLiteralBody.getLastChild();
    return returnedElement instanceof JetExpression && canEvaluateTo((JetExpression)returnedElement,expression);
  }
 else {
    if (function instanceof JetWithExpressionInitializer && canEvaluateTo(((JetWithExpressionInitializer)function).getInitializer(),expression)) {
      return true;
    }
    JetReturnExpression returnExpression=PsiTreeUtil.getParentOfType(expression,JetReturnExpression.class);
    return returnExpression != null && canEvaluateTo(returnExpression.getReturnedExpression(),expression);
  }
}
