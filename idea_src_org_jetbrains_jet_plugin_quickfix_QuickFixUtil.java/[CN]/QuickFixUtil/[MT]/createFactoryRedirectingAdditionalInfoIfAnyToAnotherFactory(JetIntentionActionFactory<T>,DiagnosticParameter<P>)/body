{
  return new JetIntentionActionFactory<PsiElement>(){
    @Override public JetIntentionAction<PsiElement> createAction(    DiagnosticWithPsiElement diagnostic){
      if (diagnostic instanceof DiagnosticWithParameters && ((DiagnosticWithParameters<PsiElement>)diagnostic).hasParameter(parameter)) {
        P element=((DiagnosticWithParameters<PsiElement>)diagnostic).getParameter(parameter);
        return (JetIntentionAction<PsiElement>)factory.createAction(new DiagnosticWithPsiElementImpl<T>(diagnostic.getFactory(),diagnostic.getSeverity(),diagnostic.getMessage(),element));
      }
      return createDoNothingAction(diagnostic);
    }
  }
;
}
