{
  if (array != null) {
    if (array instanceof Object[]) {
      Object[] arr=(Object[])array;
      if (arr.length > 0) {
        ensureCapacity(size() + arr.length);
        for (int i=0; i < arr.length; i++) {
          add(arr[i]);
        }
      }
    }
 else     if (array instanceof Collection) {
      addAll((Collection)array);
    }
 else     if (array instanceof Iterable) {
      for (Iterator iterator=((Iterable)array).iterator(); iterator.hasNext(); ) {
        add(iterator.next());
      }
    }
 else     if (array instanceof Iterator) {
      for (Iterator iterator=((Iterator)array); iterator.hasNext(); ) {
        add(iterator.next());
      }
    }
 else {
      throw new UnsupportedOperationException("Don't know how to spread " + array.getClass());
    }
  }
}
