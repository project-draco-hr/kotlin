{
  AnalyzeExhaust analyzeExhaust=TopDownAnalyzerFacadeForJS.analyzeFiles(filesToTranslate,Predicates.<PsiFile>alwaysTrue(),config);
  BindingContext bindingContext=analyzeExhaust.getBindingContext();
  TopDownAnalyzerFacadeForJS.checkForErrors(Config.withJsLibAdded(filesToTranslate,config),bindingContext);
  ModuleDescriptor moduleDescriptor=analyzeExhaust.getModuleDescriptor();
  return Translation.generateAst(bindingContext,filesToTranslate,mainCallParameters,moduleDescriptor,config);
}
