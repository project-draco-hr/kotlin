{
  String fileText;
  try {
    if (OVERWRITE_TESTDATA) {
      VfsTestUtil.overwriteTestData(filePath,actualText);
      System.out.println("File " + filePath + " created.");
    }
    fileText=FileUtil.loadFile(new File(filePath),CharsetToolkit.UTF8_CHARSET);
  }
 catch (  FileNotFoundException var6) {
    VfsTestUtil.overwriteTestData(filePath,actualText);
    throw new AssertionFailedError("No output text found. File " + filePath + " created.");
  }
catch (  IOException var7) {
    throw new RuntimeException(var7);
  }
  String expected=StringUtil.convertLineSeparators(trimBeforeComparing ? fileText.trim() : fileText);
  String actual=StringUtil.convertLineSeparators(trimBeforeComparing ? actualText.trim() : actualText);
  if (!Comparing.equal(expected,actual)) {
    throw new FileComparisonFailure((String)null,expected,actual,filePath);
  }
}
