{
  Name name=expression.getReferencedNameAsName();
  PackageViewDescriptor namespace=context.scope.getPackage(name);
  if (namespace == null) {
    return null;
  }
  context.trace.record(REFERENCE_TARGET,expression,namespace);
  JetScope scope;
  ClassifierDescriptor classifier=context.scope.getClassifier(name);
  if (classifier instanceof ClassDescriptor) {
    scope=new ChainedScope(namespace,"Namespace type member scope for " + expression.getText(),namespace.getMemberScope(),getStaticNestedClassesScope((ClassDescriptor)classifier));
  }
 else {
    scope=namespace.getMemberScope();
  }
  return new NamespaceType(name,scope,NO_RECEIVER);
}
