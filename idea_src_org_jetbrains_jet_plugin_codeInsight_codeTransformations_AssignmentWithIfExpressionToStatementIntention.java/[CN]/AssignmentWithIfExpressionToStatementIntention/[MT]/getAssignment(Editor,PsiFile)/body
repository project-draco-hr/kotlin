{
  int offset=editor.getCaretModel().getOffset();
  PsiElement element=file.findElementAt(offset);
  while (element != null) {
    if (!(element instanceof JetElement))     return null;
    if (CodeTransformationUtils.checkAssignmentWithIfExpression((JetElement)element))     return (JetBinaryExpression)element;
    PsiElement parent=PsiTreeUtil.getParentOfType(element,JetBinaryExpression.class,false);
    element=(element != parent) ? parent : null;
  }
  return null;
}
