{
  FunctionDescriptor original=fun.getOriginal();
  if (original instanceof SamAdapterDescriptor<?>) {
    return ((SamAdapterDescriptor<?>)original).getOriginForSam();
  }
  if (original instanceof SamAdapterExtensionFunctionDescriptor) {
    return ((SamAdapterExtensionFunctionDescriptor)original).getOriginalFunction();
  }
  if (original.getKind() == CallableMemberDescriptor.Kind.FAKE_OVERRIDE) {
    for (    FunctionDescriptor overridden : original.getOverriddenDescriptors()) {
      FunctionDescriptor originalIfSamAdapter=getOriginalIfSamAdapter(overridden);
      if (originalIfSamAdapter != null) {
        return originalIfSamAdapter;
      }
    }
  }
  return null;
}
