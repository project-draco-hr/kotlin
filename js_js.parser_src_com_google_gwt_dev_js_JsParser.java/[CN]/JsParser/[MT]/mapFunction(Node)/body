{
  Node fromFnNameNode=fnNode.getFirstChild();
  Node fromParamNode=fnNode.getFirstChild().getNext().getFirstChild();
  Node fromBodyNode=fnNode.getFirstChild().getNext().getNext();
  JsFunction toFn=scopeContext.enterFunction();
  String fnNameIdent=fromFnNameNode.getString();
  if (fnNameIdent != null && fnNameIdent.length() > 0) {
    scopeContext.globalNameFor(fnNameIdent);
  }
  while (fromParamNode != null) {
    String fromParamName=fromParamNode.getString();
    JsName name=scopeContext.localNameFor(fromParamName);
    toFn.getParameters().add(new JsParameter(name));
    fromParamNode=fromParamNode.getNext();
  }
  JsBlock toBody=mapBlock(fromBodyNode);
  toFn.setBody(toBody);
  scopeContext.exitFunction();
  return toFn;
}
