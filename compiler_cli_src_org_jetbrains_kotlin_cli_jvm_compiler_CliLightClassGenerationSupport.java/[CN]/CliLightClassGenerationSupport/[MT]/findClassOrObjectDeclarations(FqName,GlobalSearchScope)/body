{
  if (JvmAbi.isClassObjectFqName(fqName)) {
    Collection<JetClassOrObject> parentClasses=findClassOrObjectDeclarations(fqName.parent(),searchScope);
    return ContainerUtil.mapNotNull(parentClasses,new Function<JetClassOrObject,JetClassOrObject>(){
      @Override public JetClassOrObject fun(      JetClassOrObject classOrObject){
        if (classOrObject instanceof JetClass) {
          JetClassObject classObject=((JetClass)classOrObject).getClassObject();
          if (classObject != null) {
            return classObject.getObjectDeclaration();
          }
        }
        return null;
      }
    }
);
  }
  Collection<ClassDescriptor> classDescriptors=ResolveSessionUtils.getClassOrObjectDescriptorsByFqName(getModule(),fqName,Predicates.<ClassDescriptor>alwaysTrue());
  return ContainerUtil.mapNotNull(classDescriptors,new Function<ClassDescriptor,JetClassOrObject>(){
    @Override public JetClassOrObject fun(    ClassDescriptor descriptor){
      PsiElement element=DescriptorToSourceUtils.classDescriptorToDeclaration(descriptor);
      if (element instanceof JetClassOrObject && PsiSearchScopeUtil.isInScope(searchScope,element)) {
        return (JetClassOrObject)element;
      }
      return null;
    }
  }
);
}
