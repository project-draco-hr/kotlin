{
  PsiExpressionList argumentList=expression.getArgumentList();
  PsiExpression[] arguments=argumentList != null ? argumentList.getExpressions() : PsiExpression.EMPTY_ARRAY;
  List<Expression> result=new ArrayList<Expression>();
  PsiMethod resolved=expression.resolveMethod();
  List<PsiType> expectedTypes=new ArrayList<PsiType>();
  if (resolved != null) {
    for (    PsiParameter p : resolved.getParameterList().getParameters())     expectedTypes.add(p.getType());
  }
  if (arguments.length == expectedTypes.size()) {
    for (int i=0; i < expectedTypes.size(); i++)     result.add(expressionToExpression(arguments[i],expectedTypes.get(i)));
  }
 else {
    for (    PsiExpression argument : arguments) {
      result.add(expressionToExpression(argument));
    }
  }
  return result;
}
