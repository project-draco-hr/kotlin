{
  final List<Function> methods=methodsToFunctionList(psiClass.getMethods(),true);
  final List<Class> innerClasses=classesToClassList(psiClass.getAllInnerClasses());
  final List<Field> fields=fieldsToFieldList(psiClass.getAllFields());
  final List<Element> typeParameters=elementsToElementList(psiClass.getTypeParameters());
  final IdentifierImpl name=new IdentifierImpl(psiClass.getName());
  if (psiClass.isInterface())   return new Trait(name,typeParameters,innerClasses,methods,fields);
  if (psiClass.isEnum())   return new Enum(name,typeParameters,innerClasses,methods,fields);
  return new Class(name,typeParameters,innerClasses,methods,fields);
}
