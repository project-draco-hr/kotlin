{
  Stack<JetElement> stack=labeledElements.get(labelName);
  if (stack == null || stack.isEmpty()) {
    semanticServices.getErrorHandler().unresolvedReference(labelExpression);
    return null;
  }
 else   if (stack.size() > 1) {
    semanticServices.getErrorHandler().genericWarning(labelExpression.getNode(),"There is more than one label with such a name in this scope");
  }
  JetElement result=stack.peek();
  trace.recordLabelResolution(labelExpression,result);
  return result;
}
