{
  ExpressionReceiver receiverToCast=new ExpressionReceiver(JetPsiUtil.safeDeparenthesize(expression,false),actualType);
  Collection<JetType> variants=SmartCastUtils.getSmartCastVariantsExcludingReceiver(context,receiverToCast);
  for (  JetType possibleType : variants) {
    if (JetTypeChecker.DEFAULT.isSubtypeOf(possibleType,expectedType)) {
      return possibleType;
    }
  }
  return null;
}
