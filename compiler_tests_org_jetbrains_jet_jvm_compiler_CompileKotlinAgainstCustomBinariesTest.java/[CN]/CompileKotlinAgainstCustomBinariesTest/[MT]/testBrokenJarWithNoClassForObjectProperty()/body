{
  Collection<DeclarationDescriptor> allDescriptors=analyzeAndGetAllDescriptors(new Function0<List<File>>(){
    @Override public List<File> invoke(){
      return Collections.singletonList(copyJarFileWithoutEntry(compileLibrary("library"),"test/Lol.class"));
    }
  }
);
  assertEquals(allDescriptors.size(),1);
  DeclarationDescriptor descriptor=allDescriptors.iterator().next();
  assertTrue(descriptor.getName().asString().equals("Lol"));
  assertTrue(descriptor instanceof VariableDescriptorForObject);
  assertTrue("Object property should have an error class",ErrorUtils.isError(((VariableDescriptorForObject)descriptor).getObjectClass()));
}
