{
  Collection<DeclarationDescriptor> allDescriptors=analyzeAndGetAllDescriptors(new Function0<List<File>>(){
    @Override public List<File> invoke(){
      return Collections.singletonList(compileLibrary("library"));
    }
  }
);
  assertEquals(allDescriptors.size(),2);
  for (  DeclarationDescriptor descriptor : allDescriptors) {
    assertTrue(descriptor.getName().asString().equals("Lol"));
    assertTrue(descriptor instanceof VariableDescriptorForObject);
    assertFalse("Object property should have valid class",ErrorUtils.isError(((VariableDescriptorForObject)descriptor).getObjectClass()));
  }
}
