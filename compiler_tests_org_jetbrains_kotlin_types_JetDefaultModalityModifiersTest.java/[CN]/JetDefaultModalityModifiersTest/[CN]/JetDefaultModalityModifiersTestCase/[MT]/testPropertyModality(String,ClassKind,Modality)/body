{
  KtClass aClass=KtPsiFactoryKt.KtPsiFactory(getProject()).createClass(classWithProperty);
  ClassDescriptorWithResolutionScopes classDescriptor=createClassDescriptor(kind,aClass);
  List<KtDeclaration> declarations=aClass.getDeclarations();
  KtProperty property=(KtProperty)declarations.get(0);
  PropertyDescriptor propertyDescriptor=descriptorResolver.resolvePropertyDescriptor(classDescriptor,TypeTestUtilsKt.asLexicalScope(scope),property,JetTestUtils.DUMMY_TRACE,DataFlowInfo.EMPTY);
  assertEquals(expectedPropertyModality,propertyDescriptor.getModality());
}
