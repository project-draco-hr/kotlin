{
  Project project=namespace.getProject();
  BindingTraceContext bindingTraceContext=new BindingTraceContext();
  JetSemanticServices semanticServices=JetSemanticServices.createSemanticServices(project);
  JavaSemanticServices javaSemanticServices=new JavaSemanticServices(project,semanticServices,bindingTraceContext);
  JetScope libraryScope=semanticServices.getStandardLibrary().getLibraryScope();
  WritableScope scope=new WritableScopeImpl(libraryScope,new ModuleDescriptor("<module>"),bindingTraceContext.getErrorHandler(),null);
  scope.importScope(new JavaPackageScope("",null,javaSemanticServices));
  scope.importScope(new JavaPackageScope("java.lang",null,javaSemanticServices));
  new TopDownAnalyzer(semanticServices,bindingTraceContext,flowDataTraceFactory).process(scope,namespace);
  return bindingTraceContext;
}
