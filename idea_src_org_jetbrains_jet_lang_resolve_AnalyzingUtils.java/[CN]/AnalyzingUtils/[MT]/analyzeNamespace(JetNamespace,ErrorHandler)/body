{
  Project project=namespace.getProject();
  JetSemanticServices semanticServices=JetSemanticServices.createSemanticServices(project,errorHandler);
  BindingTraceContext bindingTraceContext=new BindingTraceContext();
  JavaSemanticServices javaSemanticServices=new JavaSemanticServices(project,semanticServices,bindingTraceContext);
  JetScope libraryScope=semanticServices.getStandardLibrary().getLibraryScope();
  WritableScope scope=new WritableScope(libraryScope,libraryScope.getContainingDeclaration());
  scope.importScope(new JavaPackageScope("",null,javaSemanticServices));
  scope.importScope(new JavaPackageScope("java.lang",null,javaSemanticServices));
  new TopDownAnalyzer(semanticServices,bindingTraceContext).process(scope,namespace);
  return bindingTraceContext;
}
