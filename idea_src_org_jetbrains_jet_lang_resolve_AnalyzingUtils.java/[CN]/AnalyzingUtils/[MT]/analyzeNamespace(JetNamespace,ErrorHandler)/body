{
  Project project=namespace.getProject();
  JetSemanticServices semanticServices=JetSemanticServices.createSemanticServices(project,errorHandler);
  BindingTraceContext bindingTraceContext=new BindingTraceContext();
  JavaSemanticServices javaSemanticServices=new JavaSemanticServices(project,semanticServices,bindingTraceContext);
  WritableScope scope=new WritableScope(semanticServices.getStandardLibrary().getLibraryScope());
  scope.importScope(new JavaPackageScope("",javaSemanticServices));
  scope.importScope(new JavaPackageScope("java.lang",javaSemanticServices));
  new TopDownAnalyzer(semanticServices,bindingTraceContext).process(scope,namespace);
  return bindingTraceContext;
}
