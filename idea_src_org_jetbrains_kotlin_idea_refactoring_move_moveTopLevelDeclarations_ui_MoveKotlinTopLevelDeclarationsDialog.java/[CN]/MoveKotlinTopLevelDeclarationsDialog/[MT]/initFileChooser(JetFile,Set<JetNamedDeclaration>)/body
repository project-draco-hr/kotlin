{
  FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createSingleFileNoJarsDescriptor().withRoots(ProjectRootManager.getInstance(myProject).getContentRoots()).withTreeRootVisible(true);
  String title=JetRefactoringBundle.message("refactoring.move.top.level.declaration.file.title");
  fileChooser.addBrowseFolderListener(title,null,myProject,descriptor,TextComponentAccessor.TEXT_FIELD_WHOLE_TEXT);
  String initialTargetPath=targetFile != null ? targetFile.getVirtualFile().getPath() : sourceFile.getVirtualFile().getParent().getPath() + "/" + MovePackage.guessNewFileName(sourceFile,elementsToMove);
  fileChooser.setText(initialTargetPath);
}
