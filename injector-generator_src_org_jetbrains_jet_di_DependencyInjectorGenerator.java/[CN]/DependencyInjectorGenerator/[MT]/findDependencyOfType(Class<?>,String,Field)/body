{
  Collection<Field> fields=typeToField.get(parameterType);
  Field dependency;
  if (fields.isEmpty()) {
    dependency=addField(parameterType);
    satisfyDependenciesFor(dependency,neededFor);
  }
 else   if (fields.size() == 1) {
    dependency=fields.iterator().next();
  }
 else {
    throw new IllegalArgumentException("Ambiguous dependency: " + errorMessage);
  }
  return dependency;
}
