{
  Dependencies localDependencies=new Dependencies();
  Map<Parameter,Field> parameterToField=Maps.newHashMap();
  for (  Parameter parameter : method.getParameters()) {
    Field field=new Field(true,parameter.getType(),parameter.getName());
    localDependencies.addSatisfiedField(field);
    parameterToField.put(parameter,field);
  }
  for (  Field storedField : fields) {
    localDependencies.addSatisfiedField(storedField);
  }
  localDependencies.addField(resultField);
  Collection<Field> fields=Lists.newArrayList(localDependencies.satisfyDependencies());
  fields.add(resultField);
  return fields;
}
