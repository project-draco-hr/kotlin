{
  if (foundType == null) {
    return null;
  }
  if (fqName == null) {
    LOG.error("Class doesn't have a name in the bytecode: " + virtualFile);
    return null;
  }
switch (foundType) {
case CLASS:
    return SerializedDataHeader.create(version,annotationData,SerializedDataHeader.Kind.CLASS,fqName);
case PACKAGE:
  return SerializedDataHeader.create(version,annotationData,SerializedDataHeader.Kind.PACKAGE,fqName);
case OLD_CLASS:
case OLD_PACKAGE:
return new OldAnnotationHeader(fqName);
default :
throw new UnsupportedOperationException("Unknown HeaderType: " + foundType);
}
}
