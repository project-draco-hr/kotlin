{
  ByteArrayOutputStream stream=new ByteArrayOutputStream();
  PrintStream out=new PrintStream(stream);
  String exitCode=execCompiler(compilerClassName,arguments,additionalArguments,environment,incrementalCaches,out,messageCollector);
  BufferedReader reader=new BufferedReader(new StringReader(stream.toString()));
  CompilerOutputParser.parseCompilerMessagesFromReader(messageCollector,reader,collector);
  if (INTERNAL_ERROR.equals(exitCode)) {
    messageCollector.report(ERROR,"Compiler terminated with internal error",NO_LOCATION);
  }
}
