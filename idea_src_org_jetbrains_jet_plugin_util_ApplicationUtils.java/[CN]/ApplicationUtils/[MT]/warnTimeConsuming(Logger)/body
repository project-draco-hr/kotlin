{
  Application application=ApplicationManager.getApplication();
  if (application.isUnitTestMode() || application.isHeadlessEnvironment() || ShutDownTracker.isShutdownHookRunning()) {
    return;
  }
  if (!application.isDispatchThread()) {
    return;
  }
  logger.warn("This operation is time consuming and must not be called on EDT.");
  new Throwable().printStackTrace();
}
