{
  TemporaryTraceAndCache temporaryForVariable=TemporaryTraceAndCache.create(context,"trace to resolve as local variable or property",nameExpression);
  Call call=CallMaker.makePropertyCall(receiver,callOperationNode,nameExpression);
  BasicCallResolutionContext contextForVariable=BasicCallResolutionContext.create(context.replaceTraceAndCache(temporaryForVariable),call,CheckArgumentTypesMode.CHECK_VALUE_ARGUMENTS);
  OverloadResolutionResults<VariableDescriptor> resolutionResult=callResolver.resolveSimpleProperty(contextForVariable);
  boolean isLHSOfDot=KtPsiUtil.isLHSOfDot(nameExpression);
  if (!resolutionResult.isNothing() && resolutionResult.getResultCode() != OverloadResolutionResults.Code.CANDIDATES_WITH_WRONG_RECEIVER) {
    boolean isQualifier=isLHSOfDot && resolutionResult.isSingleResult() && resolutionResult.getResultingDescriptor() instanceof FakeCallableDescriptorForObject;
    if (!isQualifier) {
      result[0]=true;
      temporaryForVariable.commit();
      return resolutionResult.isSingleResult() ? resolutionResult.getResultingDescriptor().getReturnType() : null;
    }
  }
  QualifierReceiver qualifier=QualifierKt.createQualifier(nameExpression,receiver,context);
  if (qualifier != null) {
    result[0]=true;
    if (!isLHSOfDot) {
      QualifiedExpressionResolveUtilKt.resolveAsStandaloneExpression(qualifier,context,symbolUsageValidator);
    }
    return null;
  }
  temporaryForVariable.commit();
  result[0]=!resolutionResult.isNothing();
  return resolutionResult.isSingleResult() ? resolutionResult.getResultingDescriptor().getReturnType() : null;
}
