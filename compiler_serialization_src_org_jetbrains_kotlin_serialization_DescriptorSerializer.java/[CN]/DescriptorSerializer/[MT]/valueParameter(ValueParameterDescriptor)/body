{
  ProtoBuf.ValueParameter.Builder builder=ProtoBuf.ValueParameter.newBuilder();
  int flags=Flags.getValueParameterFlags(hasAnnotations(descriptor),descriptor.declaresDefaultValue());
  if (flags != builder.getFlags()) {
    builder.setFlags(flags);
  }
  builder.setName(getSimpleNameIndex(descriptor.getName()));
  if (useTypeTable()) {
    builder.setTypeId(typeId(descriptor.getType()));
  }
 else {
    builder.setType(type(descriptor.getType()));
  }
  JetType varargElementType=descriptor.getVarargElementType();
  if (varargElementType != null) {
    if (useTypeTable()) {
      builder.setVarargElementTypeId(typeId(varargElementType));
    }
 else {
      builder.setVarargElementType(type(varargElementType));
    }
  }
  extension.serializeValueParameter(descriptor,builder);
  return builder;
}
