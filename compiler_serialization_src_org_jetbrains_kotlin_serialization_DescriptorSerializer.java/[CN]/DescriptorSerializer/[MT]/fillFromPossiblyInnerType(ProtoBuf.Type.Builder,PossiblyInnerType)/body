{
  ClassifierDescriptorWithTypeParameters classifierDescriptor=type.getClassifierDescriptor();
  int classifierId=getClassifierId(classifierDescriptor);
  if (classifierDescriptor instanceof ClassDescriptor) {
    builder.setClassName(classifierId);
  }
 else   if (classifierDescriptor instanceof TypeAliasDescriptor) {
    builder.setTypeAliasName(classifierId);
  }
  for (  TypeProjection projection : type.getArguments()) {
    builder.addArgument(typeArgument(projection));
  }
  if (type.getOuterType() != null) {
    ProtoBuf.Type.Builder outerBuilder=ProtoBuf.Type.newBuilder();
    fillFromPossiblyInnerType(outerBuilder,type.getOuterType());
    if (useTypeTable()) {
      builder.setOuterTypeId(typeTable.get(outerBuilder));
    }
 else {
      builder.setOuterType(outerBuilder);
    }
  }
}
