{
  PsiFile psiFile=location.getPsiElement().getContainingFile();
  if (psiFile instanceof JetFile) {
    JetFile jetFile=(JetFile)psiFile;
    AnalyzerFacade analyzerFacade=AnalyzerFacadeProvider.getAnalyzerFacadeForFile(jetFile);
    ResolveSession resolveSession=analyzerFacade.getLazyResolveSession(jetFile.getProject(),Collections.singleton(jetFile));
    MainFunctionDetector mainFunctionDetector=new MainFunctionDetector(resolveSession);
    if (mainFunctionDetector.hasMain(jetFile.getDeclarations())) {
      return jetFile;
    }
  }
  return null;
}
