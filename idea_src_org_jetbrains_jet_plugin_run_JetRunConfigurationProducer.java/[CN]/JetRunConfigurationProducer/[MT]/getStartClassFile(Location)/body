{
  PsiFile psiFile=location.getPsiElement().getContainingFile();
  if (psiFile instanceof JetFile) {
    JetFile jetFile=(JetFile)psiFile;
    AnalyzerFacade facade=AnalyzerFacadeProvider.getAnalyzerFacadeForFile(jetFile);
    ResolveSession resolveSession=facade.createSetup(jetFile.getProject(),Collections.<JetFile>emptyList(),GlobalSearchScope.fileScope(jetFile)).getLazyResolveSession();
    MainFunctionDetector mainFunctionDetector=new MainFunctionDetector(resolveSession);
    if (mainFunctionDetector.hasMain(jetFile.getDeclarations())) {
      return jetFile;
    }
  }
  return null;
}
