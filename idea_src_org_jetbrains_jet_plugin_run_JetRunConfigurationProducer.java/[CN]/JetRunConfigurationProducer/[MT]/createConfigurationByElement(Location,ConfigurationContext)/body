{
  final Module module=location.getModule();
  if (module == null) {
    return null;
  }
  PsiFile psiFile=location.getPsiElement().getContainingFile();
  if (psiFile instanceof JetFile) {
    JetFile jetFile=(JetFile)psiFile;
    if (JetMainDetector.hasMain(jetFile.getDeclarations())) {
      mySourceElement=jetFile;
      String fqName=JetPsiUtil.getFQName(jetFile);
      String className=fqName.length() == 0 ? "namespace" : fqName + ".namespace";
      return createConfigurationByQName(module,configurationContext,className);
    }
  }
  return null;
}
