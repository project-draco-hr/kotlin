{
  loadFile();
  final Method main=generateFunction();
  StringBuilder sb=new StringBuilder();
  main.invoke(null,sb,"9");
  assertEquals("foo9bar",sb.toString());
  sb=new StringBuilder();
  boolean caught=false;
  try {
    main.invoke(null,sb,"x");
  }
 catch (  InvocationTargetException e) {
    caught=e.getTargetException() instanceof NumberFormatException;
  }
  assertTrue(caught);
  assertEquals("foobar",sb.toString());
}
