{
  Collection<CompletionProposal> proposals=new ArrayList<CompletionProposal>();
  for (  String proposalStr : InTextDirectivesUtils.findLinesWithPrefixesRemoved(fileText,prefixes)) {
    if (proposalStr.startsWith("{")) {
      JsonParser parser=new JsonParser();
      JsonElement json=parser.parse(proposalStr);
      proposals.add(new CompletionProposal((JsonObject)json));
    }
 else     if (proposalStr.startsWith("\"") && proposalStr.endsWith("\"")) {
      proposals.add(new CompletionProposal(proposalStr.substring(1,proposalStr.length() - 1)));
    }
 else {
      for (      String item : proposalStr.split(",")) {
        proposals.add(new CompletionProposal(item.trim()));
      }
    }
  }
  return ArrayUtil.toObjectArray(proposals,CompletionProposal.class);
}
