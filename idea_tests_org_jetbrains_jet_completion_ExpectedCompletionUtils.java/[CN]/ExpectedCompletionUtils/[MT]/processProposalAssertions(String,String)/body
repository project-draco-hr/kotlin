{
  List<CompletionProposal> proposals=new ArrayList<CompletionProposal>();
  for (  String proposalStr : findListWithPrefix(prefix,fileText)) {
    int tailChar=proposalStr.indexOf(CompletionProposal.TAIL_FLAG);
    if (tailChar > 0) {
      proposals.add(new CompletionProposal(proposalStr.substring(0,tailChar),proposalStr.substring(tailChar + 1,proposalStr.length())));
    }
 else {
      proposals.add(new CompletionProposal(proposalStr,null));
    }
  }
  return ArrayUtil.toObjectArray(proposals,CompletionProposal.class);
}
