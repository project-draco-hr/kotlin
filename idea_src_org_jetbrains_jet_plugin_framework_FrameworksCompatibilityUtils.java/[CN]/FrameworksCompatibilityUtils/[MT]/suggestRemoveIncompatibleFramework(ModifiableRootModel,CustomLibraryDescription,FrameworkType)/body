{
  List<OrderEntry> existingEntries=new ArrayList<OrderEntry>();
  Set<? extends LibraryKind> kinds=libraryDescription.getSuitableLibraryKinds();
  for (  OrderEntry entry : rootModel.getOrderEntries()) {
    if (!(entry instanceof LibraryOrderEntry))     continue;
    final Library library=((LibraryOrderEntry)entry).getLibrary();
    if (library == null)     continue;
    for (    LibraryKind kind : kinds) {
      if (LibraryPresentationManager.getInstance().isLibraryOfKind(Arrays.asList(library.getFiles(OrderRootType.CLASSES)),kind)) {
        existingEntries.add(entry);
      }
    }
  }
  if (!existingEntries.isEmpty()) {
    int result=Messages.showYesNoDialog(String.format("Current module is already configured with '%s' framework.\nDo you want to remove it?",frameworkType.getPresentableName()),"Framework Conflict",Messages.getWarningIcon());
    if (result == 0) {
      for (      OrderEntry entry : existingEntries) {
        rootModel.removeOrderEntry(entry);
      }
    }
  }
}
