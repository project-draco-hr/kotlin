{
  if (kind == OwnerKind.TRAIT_IMPL) {
    return;
  }
  if (kind == OwnerKind.NAMESPACE) {
    flags|=Opcodes.ACC_STATIC;
  }
  PsiElement psiElement=state.getBindingContext().get(BindingContext.DESCRIPTOR_TO_DECLARATION,propertyDescriptor.getContainingDeclaration());
  boolean isTrait=psiElement instanceof JetClass && ((JetClass)psiElement).isTrait();
  if (isTrait && !(kind instanceof OwnerKind.DelegateKind))   flags|=Opcodes.ACC_ABSTRACT;
  final String signature=state.getTypeMapper().mapGetterSignature(propertyDescriptor,kind).getDescriptor();
  String getterName=getterName(propertyDescriptor.getName());
  MethodVisitor mv=v.newMethod(origin,flags,getterName,signature,null,null);
  if (!isTrait || kind instanceof OwnerKind.DelegateKind) {
    mv.visitCode();
    InstructionAdapter iv=new InstructionAdapter(mv);
    if (kind != OwnerKind.NAMESPACE) {
      iv.load(0,JetTypeMapper.TYPE_OBJECT);
    }
    final Type type=state.getTypeMapper().mapType(propertyDescriptor.getOutType());
    if (kind instanceof OwnerKind.DelegateKind) {
      OwnerKind.DelegateKind dk=(OwnerKind.DelegateKind)kind;
      dk.getDelegate().put(JetTypeMapper.TYPE_OBJECT,iv);
      iv.invokeinterface(dk.getOwnerClass(),getterName,signature);
    }
 else {
      iv.visitFieldInsn(kind == OwnerKind.NAMESPACE ? Opcodes.GETSTATIC : Opcodes.GETFIELD,state.getTypeMapper().getOwner(propertyDescriptor,kind),propertyDescriptor.getName(),type.getDescriptor());
    }
    iv.areturn(type);
    mv.visitMaxs(0,0);
    mv.visitEnd();
  }
}
