{
  p.println("public static class ",testDataSource.getTestClassName()," extends ",baseTestClassName," {");
  p.pushIndent();
  Collection<TestDataFile> files=Lists.newArrayList();
  files.addAll(testDataSource.getFiles());
  p.println("@Test");
  p.println("public void " + testDataSource.getAllTestsPresentMethodName() + "() throws Exception {");
  p.pushIndent();
  testDataSource.getAllTestsPresentCheck(p);
  p.popIndent();
  p.println("}");
  p.println();
  for (  TestDataFile file : files) {
    p.println("@Test");
    p.println("public void ",file.getTestMethodName(),"() throws Exception {");
    p.pushIndent();
    p.println(file.getTestCall());
    p.popIndent();
    p.println("}");
    p.println();
  }
  generateAllTestsPresent(p);
  p.popIndent();
  p.println("}");
}
