{
  StringBuilder out=new StringBuilder();
  Printer p=new Printer(out);
  p.print(FileUtil.loadFile(new File("injector-generator/copyright.txt")));
  p.println("package ",suiteClassPackage,";");
  p.println();
  p.println("import junit.framework.TestSuite;");
  p.println("import org.junit.Assert;");
  p.println("import org.junit.Test;");
  p.println("import org.junit.runner.RunWith;");
  p.println("import org.junit.runners.Suite;");
  p.println();
  p.println("import java.io.File;");
  p.println("import java.io.FileFilter;");
  p.println("import java.lang.reflect.Method;");
  p.println("import java.util.HashSet;");
  p.println("import java.util.Set;");
  p.println();
  p.println("import ",baseTestClassPackage,".",baseTestClassName,";");
  p.println();
  p.println("/* This class is generated by ",generatorName,". DO NOT MODIFY MANUALLY */");
  generateSuiteAnnotations(p);
  p.println("public class ",suiteClassName," {");
  p.pushIndent();
  for (  TestDataSource testDataSource : testDataSources) {
    generateTestClass(p,testDataSource);
    p.println();
  }
  generateSuiteMethod(p);
  p.popIndent();
  p.println("}");
  String testSourceFilePath=baseDir + "/" + suiteClassPackage.replace(".","/")+ "/"+ suiteClassName+ ".java";
  File testSourceFile=new File(testSourceFilePath);
  FileUtil.writeToFile(testSourceFile,out.toString());
  System.out.println("Output written to file:\n" + testSourceFile.getAbsolutePath());
}
