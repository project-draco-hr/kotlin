{
  if (lineStart < 0)   return offset + (otherEnd - otherStart);
 else   return offset - lineStart;
}
