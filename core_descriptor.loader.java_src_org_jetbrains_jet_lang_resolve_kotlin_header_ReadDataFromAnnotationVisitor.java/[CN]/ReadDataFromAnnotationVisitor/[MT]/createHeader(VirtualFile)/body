{
  if (foundType == null) {
    return null;
  }
  if (fqName == null) {
    LOG.error("Class doesn't have a name in the bytecode: " + virtualFile);
    return null;
  }
  if (!AbiVersionUtil.isAbiVersionCompatible(version)) {
    return new IncompatibleAnnotationHeader(version,fqName);
  }
switch (foundType) {
case CLASS:
    return serializedDataHeader(SerializedDataHeader.Kind.CLASS,fqName);
case PACKAGE:
  return serializedDataHeader(SerializedDataHeader.Kind.PACKAGE,fqName);
case PACKAGE_FRAGMENT:
return new PackageFragmentClassFileHeader(version,fqName);
default :
throw new UnsupportedOperationException("Unknown compatible HeaderType: " + foundType);
}
}
