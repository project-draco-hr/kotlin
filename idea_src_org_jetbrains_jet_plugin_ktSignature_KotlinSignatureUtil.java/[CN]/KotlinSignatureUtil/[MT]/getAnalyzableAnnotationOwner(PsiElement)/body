{
  if (!(element instanceof PsiField || element instanceof PsiMethod) || element instanceof PsiEnumConstant) {
    return null;
  }
  PsiMember member=(PsiMember)element;
  if (member.hasModifierProperty(PsiModifier.PRIVATE)) {
    return null;
  }
  PsiClass containingClass=member.getContainingClass();
  if (containingClass != null && PsiUtil.isLocalOrAnonymousClass(containingClass)) {
    return null;
  }
  PsiMember annotationOwner=element.getOriginalElement() instanceof PsiMember ? (PsiMember)element.getOriginalElement() : (PsiMember)element;
  if (!annotationOwner.isPhysical()) {
    PsiCompiledElement compiledElement=element.getUserData(ClsElementImpl.COMPILED_ELEMENT);
    if (compiledElement instanceof PsiMember) {
      return (PsiMember)compiledElement;
    }
  }
  return annotationOwner;
}
