{
  if (stackValue == null) {
    return true;
  }
  if (isPrimitive(type) != isPrimitive(stackValue.type)) {
    return true;
  }
  if (stackValue instanceof StackValue.Local) {
    return false;
  }
  if (stackValue instanceof StackValue.Composed) {
    if (codegen.getContext().isInliningLambda() && codegen.getContext().getContextDescriptor() instanceof AnonymousFunctionDescriptor) {
      if (descriptor != null && !InlineUtil.hasNoinlineAnnotation(descriptor)) {
        return false;
      }
    }
  }
  return true;
}
