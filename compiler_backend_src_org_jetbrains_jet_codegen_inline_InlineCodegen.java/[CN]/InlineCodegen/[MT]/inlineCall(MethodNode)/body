{
  generateClosuresBodies();
  List<ParameterInfo> realParams=new ArrayList<ParameterInfo>(actualParameters);
  putClosureParametersOnStack();
  List<CapturedParamInfo> captured=getAllCaptured();
  Parameters parameters=new Parameters(realParams,Parameters.shiftAndAddStubs(captured,realParams.size()));
  InliningContext info=new InliningContext(expressionMap,null,null,null,state,codegen.getInlineNameGenerator().subGenerator(functionDescriptor.getName().asString()),codegen.getContext(),call,Collections.<String,String>emptyMap(),false,false);
  MethodInliner inliner=new MethodInliner(node,parameters,info,new FieldRemapper(null,null,parameters),isSameModule,"InlineCodegenRoot " + call.getCallElement());
  VarRemapper.ParamRemapper remapper=new VarRemapper.ParamRemapper(parameters,initialFrameSize);
  return inliner.doInline(codegen.v,remapper,new FieldRemapper(null,null,parameters));
}
