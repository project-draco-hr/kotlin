{
  generateClosuresBodies();
  List<ParameterInfo> realParams=new ArrayList<ParameterInfo>(actualParameters);
  putClosureParametersOnStack();
  List<CapturedParamInfo> captured=getAllCaptured();
  Parameters parameters=new Parameters(realParams,Parameters.shiftAndAddStubs(captured,realParams.size()));
  InliningContext info=new RootInliningContext(expressionMap,state,codegen.getInlineNameGenerator().subGenerator(functionDescriptor.getName().asString()),codegen.getContext(),callElement,codegen.getParentCodegen().getClassName());
  MethodInliner inliner=new MethodInliner(node,parameters,info,new FieldRemapper(null,null,parameters),isSameModule,"Method inlining " + callElement.getText());
  LocalVarRemapper remapper=new LocalVarRemapper(parameters,initialFrameSize);
  return inliner.doInline(codegen.v,remapper);
}
