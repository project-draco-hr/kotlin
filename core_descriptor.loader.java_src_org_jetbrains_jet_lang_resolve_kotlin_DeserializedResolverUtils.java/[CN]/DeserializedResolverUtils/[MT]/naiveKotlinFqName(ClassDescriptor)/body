{
  DeclarationDescriptor containing=descriptor.getContainingDeclaration();
  if (containing instanceof ClassDescriptor) {
    return naiveKotlinFqName((ClassDescriptor)containing).child(descriptor.getName());
  }
 else   if (containing instanceof PackageFragmentDescriptor) {
    return ((PackageFragmentDescriptor)containing).getFqName().child(descriptor.getName()).toUnsafe();
  }
 else {
    throw new IllegalArgumentException("Class doesn't have a FQ name: " + descriptor);
  }
}
