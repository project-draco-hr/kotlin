{
  List<Name> segments=kotlinFqName.pathSegments();
  List<String> correctedSegments=new ArrayList<String>(segments.size());
  for (  Name segment : segments) {
    correctedSegments.add(isClassObjectName(segment) ? JvmAbi.CLASS_OBJECT_CLASS_NAME : segment.getIdentifier());
  }
  if (addTraitImplSuffix) {
    int lastIndex=correctedSegments.size() - 1;
    correctedSegments.set(lastIndex,correctedSegments.get(lastIndex) + JvmAbi.TRAIT_IMPL_SUFFIX);
  }
  return FqName.fromSegments(correctedSegments);
}
