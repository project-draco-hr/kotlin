{
  if (javaFqName.isRoot()) {
    return javaFqName.toUnsafe();
  }
  List<Name> segments=javaFqName.pathSegments();
  List<Name> correctedSegments=new ArrayList<Name>(segments.size());
  correctedSegments.add(segments.get(0));
  for (int i=1; i < segments.size(); i++) {
    Name segment=segments.get(i);
    boolean isClassObjectName=segment.asString().equals(JvmAbi.CLASS_OBJECT_CLASS_NAME);
    Name correctedSegment=isClassObjectName ? SpecialNames.getClassObjectName(segments.get(i - 1)) : segment;
    correctedSegments.add(correctedSegment);
  }
  return FqNameUnsafe.fromSegments(correctedSegments);
}
