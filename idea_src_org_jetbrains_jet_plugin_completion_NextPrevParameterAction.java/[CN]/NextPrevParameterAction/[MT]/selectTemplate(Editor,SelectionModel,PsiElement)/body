{
  PsiElement match=goToNextPrevElement(goToNextPrevElement(current));
  JetToken expected=myNext ? JetTokens.IDE_TEMPLATE_END : JetTokens.IDE_TEMPLATE_START;
  if (expected != match.getNode().getElementType())   return;
  int start=Math.min(current.getTextOffset(),match.getTextOffset());
  int end=Math.max(current.getTextOffset() + current.getTextLength(),match.getTextOffset() + match.getTextLength());
  editor.getCaretModel().moveToOffset(end);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
  editor.getCaretModel().moveToOffset(start);
  editor.getScrollingModel().scrollToCaret(ScrollType.RELATIVE);
  selModel.setSelection(start,end);
}
