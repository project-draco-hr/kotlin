{
  Set<Name> shortNames=Sets.newLinkedHashSet();
  for (  JetFile file : files) {
    JetNamespaceHeader header=file.getNamespaceHeader();
    if (header != null) {
      List<JetSimpleNameExpression> names=header.getNamespaceNames();
      Name name=names.isEmpty() ? SpecialNames.ROOT_NAMESPACE : names.get(0).getReferencedNameAsName();
      shortNames.add(name);
    }
 else {
      throw new IllegalStateException("Scripts are not supported: " + file.getName());
    }
  }
  return shortNames;
}
