{
  JetType varargElementType=parameterDescriptor.getVarargElementType();
  boolean argumentsAsVararg=varargElementType != null && !hasSpread(resolvedArgument);
  List<CompileTimeConstant<?>> constants=resolveValueArguments(resolvedArgument,argumentsAsVararg ? varargElementType : parameterDescriptor.getType(),trace);
  if (argumentsAsVararg) {
    JetType arrayType=KotlinBuiltIns.getInstance().getPrimitiveArrayJetTypeByPrimitiveJetType(varargElementType);
    if (arrayType == null) {
      arrayType=KotlinBuiltIns.getInstance().getArrayType(varargElementType);
    }
    return new ArrayValue(constants,arrayType,true);
  }
 else {
    return !constants.isEmpty() ? KotlinPackage.last(constants) : null;
  }
}
