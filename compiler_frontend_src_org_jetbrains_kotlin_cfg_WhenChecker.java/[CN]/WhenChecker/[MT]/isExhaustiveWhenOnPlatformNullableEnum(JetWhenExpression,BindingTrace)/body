{
  JetType type=whenSubjectType(expression,trace.getBindingContext());
  if (type == null)   return false;
  ClassDescriptor classDescriptor=TypeUtils.getClassDescriptor(type);
  return (isPlatformEnum(type,classDescriptor) && isWhenOnEnumExhaustive(expression,trace,classDescriptor) && TypeUtils.isNullableType(type)&& type.getAnnotations().findAnnotation(notNullAnnotationName) == null && type.getAnnotations().findExternalAnnotation(notNullAnnotationName) == null && !containsNullCase(expression,trace));
}
