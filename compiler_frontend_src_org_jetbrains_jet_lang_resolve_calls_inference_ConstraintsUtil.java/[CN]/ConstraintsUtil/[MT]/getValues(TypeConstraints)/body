{
  Set<JetType> values=Sets.newLinkedHashSet();
  if (typeConstraints != null && !typeConstraints.isEmpty()) {
    if (typeConstraints.getExactBounds().size() == 1) {
      if (verifyOneExactBound(typeConstraints)) {
        JetType exactBound=typeConstraints.getExactBounds().iterator().next();
        return Collections.singleton(exactBound);
      }
    }
    values.addAll(typeConstraints.getExactBounds());
    Collection<JetType> lowerBounds=filterNotContainingErrorType(typeConstraints.getLowerBounds());
    if (!lowerBounds.isEmpty()) {
      JetType superTypeOfLowerBounds=CommonSupertypes.commonSupertype(lowerBounds);
      for (      JetType value : values) {
        if (!JetTypeChecker.INSTANCE.isSubtypeOf(superTypeOfLowerBounds,value)) {
          values.add(superTypeOfLowerBounds);
          break;
        }
      }
      if (values.isEmpty()) {
        values.add(superTypeOfLowerBounds);
      }
    }
    Collection<JetType> upperBounds=filterNotContainingErrorType(typeConstraints.getUpperBounds());
    if (!upperBounds.isEmpty()) {
      JetType subTypeOfUpperBounds=upperBounds.iterator().next();
      for (      JetType value : values) {
        if (!JetTypeChecker.INSTANCE.isSubtypeOf(value,subTypeOfUpperBounds)) {
          values.add(subTypeOfUpperBounds);
          break;
        }
      }
      if (values.isEmpty()) {
        values.add(subTypeOfUpperBounds);
      }
    }
  }
  return values;
}
