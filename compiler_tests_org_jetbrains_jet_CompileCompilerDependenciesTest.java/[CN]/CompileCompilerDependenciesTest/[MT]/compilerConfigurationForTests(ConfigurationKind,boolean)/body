{
  List<File> classpath=new ArrayList<File>();
  classpath.add(mockJdk ? JetTestUtils.findMockJdkRtJar() : PathUtil.findRtJar());
  if (configurationKind == ALL) {
    classpath.add(ForTestCompileRuntime.runtimeJarForTests());
  }
  File[] annotationsPath=new File[0];
  if (configurationKind == ALL || configurationKind == JDK_AND_ANNOTATIONS) {
    annotationsPath=new File[]{ForTestPackJdkAnnotations.jdkAnnotationsForTests()};
  }
  CompilerConfiguration configuration=new CompilerConfiguration();
  configuration.putUserData(JVMConfigurationKeys.CLASSPATH_KEY,classpath.toArray(new File[classpath.size()]));
  configuration.putUserData(JVMConfigurationKeys.ANNOTATIONS_PATH_KEY,annotationsPath);
  return configuration;
}
