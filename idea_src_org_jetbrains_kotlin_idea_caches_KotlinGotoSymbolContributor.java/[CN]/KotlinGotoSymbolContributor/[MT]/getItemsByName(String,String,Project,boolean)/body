{
  GlobalSearchScope baseScope=includeNonProjectItems ? GlobalSearchScope.allScope(project) : GlobalSearchScope.projectScope(project);
  GlobalSearchScope noLibrarySourceScope=KotlinSourceFilterScope.sourceAndClassFiles(baseScope,project);
  Collection<? extends NavigationItem> functions=KotlinFunctionShortNameIndex.getInstance().get(name,project,noLibrarySourceScope);
  Collection<? extends NavigationItem> properties=KotlinPropertyShortNameIndex.getInstance().get(name,project,noLibrarySourceScope);
  List<NavigationItem> items=new ArrayList<NavigationItem>(Collections2.filter(functions,Predicates.notNull()));
  items.addAll(properties);
  return ArrayUtil.toObjectArray(items,NavigationItem.class);
}
