{
  if (pkg != null && className.indexOf('$') == -1 && className.indexOf('.',1) > 0) {
    boolean haveUpperCase=false;
    for (int i=0, n=pkg.length(); i < n; i++) {
      if (Character.isUpperCase(pkg.charAt(i))) {
        haveUpperCase=true;
        break;
      }
    }
    if (!haveUpperCase) {
      String fixed=className.charAt(0) + className.substring(1).replace('.','$');
      String message="Use '$' instead of '.' for inner classes " + "(or use only lowercase letters in package names); replace \"" + className + "\" with \""+ fixed+ "\"";
      Location location=context.getLocation(classNameNode);
      context.report(INNERCLASS,element,location,message);
    }
  }
}
