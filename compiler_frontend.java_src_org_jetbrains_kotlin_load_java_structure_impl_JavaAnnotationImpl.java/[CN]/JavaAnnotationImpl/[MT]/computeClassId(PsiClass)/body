{
  PsiClass container=psiClass.getContainingClass();
  if (container != null) {
    ClassId parentClassId=computeClassId(container);
    String name=psiClass.getName();
    return parentClassId == null || name == null ? null : parentClassId.createNestedClassId(Name.identifier(name));
  }
  String fqName=psiClass.getQualifiedName();
  return fqName == null ? null : ClassId.topLevel(new FqName(fqName));
}
