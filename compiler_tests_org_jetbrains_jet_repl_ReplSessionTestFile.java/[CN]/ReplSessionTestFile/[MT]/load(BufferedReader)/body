{
  List<Pair<String,String>> list=Lists.newArrayList();
  while (true) {
    String odd=reader.readLine();
    if (odd == null) {
      return new ReplSessionTestFile(list);
    }
    Pattern pattern=Pattern.compile(">>>( |$)(.*)");
    Matcher matcher=pattern.matcher(odd);
    if (!matcher.matches()) {
      throw new IllegalStateException("odd lines must start with >>>");
    }
    String code=matcher.group(2);
    String even=reader.readLine();
    if (even == null) {
      throw new IllegalStateException("expecting even");
    }
    list.add(Pair.create(code,even));
  }
}
