{
  if (e.isConsumed() || e.getArea() != EditorMouseEventArea.EDITING_AREA)   return;
  Editor editor=e.getEditor();
  PsiFile psiFile=PsiDocumentManager.getInstance(myProject).getPsiFile(editor.getDocument());
  if (psiFile == null || psiFile.getLanguage() != JetLanguage.INSTANCE)   return;
  JetFile jetFile=(JetFile)psiFile;
  int offset=editor.logicalPositionToOffset(editor.xyToLogicalPosition(e.getMouseEvent().getPoint()));
  PsiElement elementAtCursor=psiFile.findElementAt(offset);
  JetNamedDeclaration declaration=PsiTreeUtil.getParentOfType(elementAtCursor,JetNamedDeclaration.class);
  if (declaration != null && declaration.getNameIdentifier() == elementAtCursor) {
    BindingContext bindingContext=WholeProjectAnalyzerFacade.analyzeProjectWithCacheOnAFile(jetFile).getBindingContext();
    DeclarationDescriptor descriptor=bindingContext.get(BindingContext.DECLARATION_TO_DESCRIPTOR,declaration);
    if (descriptor == null) {
      return;
    }
    JLayeredPane layeredPane=editor.getComponent().getRootPane().getLayeredPane();
    Point point=SwingUtilities.convertPoint(e.getMouseEvent().getComponent(),e.getMouseEvent().getPoint(),layeredPane);
    ((HintManagerImpl)HintManager.getInstance()).showEditorHint(new LightweightHint(HintUtil.createInformationLabel(DescriptorRenderer.HTML.render(descriptor))),editor,point,HintManager.HIDE_BY_ANY_KEY | HintManager.HIDE_BY_TEXT_CHANGE | HintManager.HIDE_BY_SCROLLING,0,false);
  }
}
