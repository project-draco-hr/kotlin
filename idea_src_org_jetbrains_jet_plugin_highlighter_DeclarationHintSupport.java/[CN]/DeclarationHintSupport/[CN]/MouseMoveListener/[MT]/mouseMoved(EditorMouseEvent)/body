{
  if (DumbService.getInstance(myProject).isDumb() || !myProject.isInitialized()) {
    return;
  }
  if (e.isConsumed() || e.getArea() != EditorMouseEventArea.EDITING_AREA) {
    return;
  }
  Editor editor=e.getEditor();
  PsiFile psiFile=PsiDocumentManager.getInstance(myProject).getPsiFile(editor.getDocument());
  if (psiFile == null || psiFile.getLanguage() != JetLanguage.INSTANCE || !ProjectRootsUtil.isInProjectOrLibraryContent(psiFile)) {
    return;
  }
  JetFile jetFile=(JetFile)psiFile;
  int offset=editor.logicalPositionToOffset(editor.xyToLogicalPosition(e.getMouseEvent().getPoint()));
  PsiElement elementAtCursor=psiFile.findElementAt(offset);
  JetNamedDeclaration declaration=PsiTreeUtil.getParentOfType(elementAtCursor,JetNamedDeclaration.class);
  if (declaration != null && declaration.getNameIdentifier() == elementAtCursor) {
    if (lastNamedDeclaration == declaration) {
      return;
    }
    if (lastIndicator != null) {
      lastIndicator.cancel();
    }
    lastNamedDeclaration=declaration;
    lastIndicator=new ProgressIndicatorBase();
    searchResolvedDescriptor(jetFile,declaration,editor,lastIndicator);
  }
 else {
    if (lastIndicator != null) {
      lastIndicator.cancel();
    }
    if (lastHint != null) {
      lastHint.hide();
    }
    lastHint=null;
    lastNamedDeclaration=null;
    lastIndicator=null;
  }
}
