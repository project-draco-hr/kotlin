{
  FileChooserDescriptor fileChooserDescriptor=FileChooserDescriptorFactory.getDirectoryChooserDescriptor("directory where generated files will be stored");
  fileChooserDescriptor.setRoots(ProjectRootManager.getInstance(project).getContentRoots());
  generatedChooseFile.addBrowseFolderListener(null,null,project,fileChooserDescriptor);
  final JTextField textField=generatedChooseFile.getTextField();
  textField.getDocument().addDocumentListener(new DocumentListener(){
    @Override public void insertUpdate(    DocumentEvent e){
      onChange();
    }
    @Override public void removeUpdate(    DocumentEvent e){
      onChange();
    }
    @Override public void changedUpdate(    DocumentEvent e){
      onChange();
    }
    private void onChange(){
      File file=new File(generatedChooseFile.getText());
      if (!file.isFile()) {
        textField.setForeground(Color.RED);
      }
 else {
        textField.setForeground(Color.BLACK);
      }
    }
  }
);
}
