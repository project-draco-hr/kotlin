{
  QualifiedName.Builder builder=QualifiedName.newBuilder();
  builder.setShortName(getSimpleNameIndex(namespaceDescriptor.getName()));
  NamespaceDescriptorParent containingDeclaration=namespaceDescriptor.getContainingDeclaration();
  if (containingDeclaration instanceof NamespaceDescriptor) {
    NamespaceDescriptor parentNamespace=(NamespaceDescriptor)containingDeclaration;
    if (!DescriptorUtils.isRootNamespace(parentNamespace)) {
      builder.setParentQualifiedName(getFqNameIndex(parentNamespace));
    }
  }
 else {
    builder.clearParentQualifiedName();
  }
  return qualifiedNames.intern(builder);
}
