{
  if (annotated == null) {
    return;
  }
  Set<String> annotationDescriptorsAlreadyPresent=new HashSet<String>();
  Annotations annotations=annotated.getAnnotations();
  for (  AnnotationWithTarget annotationWithTarget : annotations.getAllAnnotations()) {
    AnnotationDescriptor annotation=annotationWithTarget.getAnnotation();
    AnnotationUseSiteTarget annotationTarget=annotationWithTarget.getTarget();
    if (allowedTarget == null && annotationTarget != null)     continue;
    if (allowedTarget != null && annotationTarget != null && allowedTarget != annotationTarget)     continue;
    String descriptor=genAnnotation(annotation);
    if (descriptor != null) {
      annotationDescriptorsAlreadyPresent.add(descriptor);
    }
  }
  generateAdditionalAnnotations(annotated,returnType,annotationDescriptorsAlreadyPresent);
}
