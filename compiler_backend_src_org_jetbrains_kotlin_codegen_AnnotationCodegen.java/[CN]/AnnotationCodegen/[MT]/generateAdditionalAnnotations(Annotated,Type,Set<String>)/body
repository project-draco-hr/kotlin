{
  if (annotated instanceof CallableDescriptor) {
    CallableDescriptor descriptor=(CallableDescriptor)annotated;
    if (isInvisibleFromTheOutside(descriptor))     return;
    if (descriptor instanceof ValueParameterDescriptor && isInvisibleFromTheOutside(descriptor.getContainingDeclaration()))     return;
    if (returnType != null && !AsmUtil.isPrimitive(returnType)) {
      generateNullabilityAnnotation(descriptor.getReturnType(),annotationDescriptorsAlreadyPresent);
    }
  }
  if (annotated instanceof ClassDescriptor) {
    ClassDescriptor classDescriptor=(ClassDescriptor)annotated;
    if (classDescriptor.getKind() == ClassKind.ANNOTATION_CLASS) {
      generateRetentionAnnotation(classDescriptor,annotationDescriptorsAlreadyPresent);
    }
  }
}
