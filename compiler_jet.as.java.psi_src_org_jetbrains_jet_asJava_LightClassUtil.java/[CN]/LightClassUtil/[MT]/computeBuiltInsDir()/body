{
  String builtInFilePath="/" + KotlinBuiltIns.BUILT_INS_PACKAGE_NAME + "/Library.kt";
  URL url=KotlinBuiltIns.class.getResource(builtInFilePath);
  if (url == null) {
    if (ApplicationManager.getApplication().isUnitTestMode()) {
      try {
        return new URL(StandardFileSystems.FILE_PROTOCOL,"",FileUtil.toSystemIndependentName(BUILT_INS_SRC_DIR.getAbsolutePath()));
      }
 catch (      MalformedURLException e) {
        throw UtilsPackage.rethrow(e);
      }
    }
    throw new IllegalStateException("Built-ins file wasn't found at url: " + builtInFilePath);
  }
  try {
    return new URL(url.getProtocol(),url.getHost(),PathUtil.getParentPath(url.getFile()));
  }
 catch (  MalformedURLException e) {
    throw new AssertionError(e);
  }
}
