{
  BindingContext bindingContext=AnalyzerFacadeWithCache.analyzeFileWithCache((JetFile)declaration.getContainingFile()).getBindingContext();
  DeclarationDescriptor declarationDescriptor=bindingContext.get(BindingContext.DECLARATION_TO_DESCRIPTOR,declaration);
  if (declarationDescriptor instanceof LocalVariableDescriptor) {
    return Collections.singletonList(declaration);
  }
  if (!(declarationDescriptor instanceof CallableMemberDescriptor))   return null;
  CallableMemberDescriptor callableDescriptor=(CallableMemberDescriptor)declarationDescriptor;
  List<? extends PsiElement> superDeclarations=getSuperDeclarations(declaration);
  if (ignore != null) {
    superDeclarations.removeAll(ignore);
  }
  if (superDeclarations.isEmpty())   return Collections.singletonList(declaration);
  java.util.List<String> superClasses=getClassDescriptions(bindingContext,superDeclarations);
  return askUserForMethodsToSearch(declaration,callableDescriptor,superDeclarations,superClasses,actionStringKey);
}
