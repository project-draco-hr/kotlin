{
  final AnalyzeExhaust analyzeExhaust=AnalyzerFacadeForJVM.analyzeOneFileWithJavaIntegrationAndCheckForErrors(myFile,JetControlFlowDataTraceFactory.EMPTY,CompileCompilerDependenciesTest.compilerDependenciesForTests(CompilerSpecialMode.REGULAR,false));
  analyzeExhaust.throwIfError();
  GenerationState state=new GenerationState(getProject(),classBuilderFactory,analyzeExhaust,Collections.singletonList(myFile));
  state.compileCorrectFiles(CompilationErrorHandler.THROW_EXCEPTION);
  return state;
}
