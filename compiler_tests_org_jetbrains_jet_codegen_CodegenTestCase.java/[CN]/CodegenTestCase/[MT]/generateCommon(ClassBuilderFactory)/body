{
  if (alreadyGenerated != null)   return alreadyGenerated;
  final AnalyzeExhaust analyzeExhaust=AnalyzerFacadeForJVM.analyzeFilesWithJavaIntegrationAndCheckForErrors(myEnvironment.getProject(),myFiles.getPsiFiles(),myFiles.getScriptParameterTypes(),Predicates.<PsiFile>alwaysTrue(),BuiltinsScopeExtensionMode.ALL);
  analyzeExhaust.throwIfError();
  AnalyzingUtils.throwExceptionOnErrors(analyzeExhaust.getBindingContext());
  alreadyGenerated=new GenerationState(myEnvironment.getProject(),classBuilderFactory,Progress.DEAF,analyzeExhaust,myFiles.getPsiFiles(),myEnvironment.getConfiguration().get(JVMConfigurationKeys.BUILTIN_TO_JAVA_TYPES_MAPPING_KEY,BuiltinToJavaTypesMapping.ENABLED),myEnvironment.getConfiguration().get(JVMConfigurationKeys.GENERATE_NOT_NULL_ASSERTIONS,true));
  GenerationStrategy.STANDARD.compileCorrectFiles(alreadyGenerated,CompilationErrorHandler.THROW_EXCEPTION);
  return alreadyGenerated;
}
