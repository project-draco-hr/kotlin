{
  String content=loadFile(filename);
  Matcher matcher=Pattern.compile("// expected: (.*)").matcher(content);
  String expectedValue=matcher.find() ? matcher.group(1) : "OK";
  Object actual;
  try {
    actual=blackBox();
  }
 catch (  NoClassDefFoundError e) {
    System.out.println(generateToText());
    throw e;
  }
catch (  Throwable e) {
    System.out.println(generateToText());
    throw new RuntimeException(e);
  }
  if (!Objects.equal(expectedValue,actual)) {
    System.out.println(generateToText());
  }
  assertEquals(expectedValue,actual);
}
