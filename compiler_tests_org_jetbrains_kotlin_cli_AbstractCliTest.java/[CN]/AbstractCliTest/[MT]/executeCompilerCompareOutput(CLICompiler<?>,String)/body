{
  System.setProperty("java.awt.headless","true");
  String testMethodName=getTestName(true);
  Pair<String,ExitCode> outputAndExitCode=executeCompilerGrabOutput(compiler,readArgs(testDataDir + "/" + testMethodName+ ".args",testDataDir,tmpdir.getPath()));
  String actual=getNormalizedCompilerOutput(outputAndExitCode.getFirst(),outputAndExitCode.getSecond(),testDataDir);
  KotlinTestUtils.assertEqualsToFile(new File(testDataDir + "/" + testMethodName+ ".out"),actual);
  File additionalTestConfig=new File(testDataDir + "/" + testMethodName+ ".test");
  if (additionalTestConfig.exists()) {
    doTestAdditionalChecks(additionalTestConfig);
  }
}
