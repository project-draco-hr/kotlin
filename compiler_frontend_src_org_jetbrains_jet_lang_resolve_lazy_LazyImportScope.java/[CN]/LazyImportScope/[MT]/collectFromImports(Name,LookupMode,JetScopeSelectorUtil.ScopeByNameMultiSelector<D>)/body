{
  return resolveSession.getStorageManager().compute(new Function0<Collection<D>>(){
    @Override public Collection<D> invoke(){
      Set<D> descriptors=Sets.newHashSet();
      for (      JetImportDirective directive : importsProvider.getImports(name)) {
        if (directive == directiveUnderResolve) {
          throw new IllegalStateException("Recursion while resolving many imports: " + directive.getText());
        }
        descriptors.addAll(descriptorsSelector.get(getImportScope(directive,lookupMode),name));
      }
      return descriptors;
    }
  }
);
}
