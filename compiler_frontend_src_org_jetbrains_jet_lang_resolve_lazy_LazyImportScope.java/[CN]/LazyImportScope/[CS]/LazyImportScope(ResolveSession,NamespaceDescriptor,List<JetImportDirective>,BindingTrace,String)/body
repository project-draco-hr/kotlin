{
  this.resolveSession=resolveSession;
  this.packageDescriptor=packageDescriptor;
  this.importsProvider=new ImportsProvider(resolveSession.getStorageManager(),imports);
  this.traceForImportResolve=traceForImportResolve;
  this.debugName=debugName;
  this.importedScopesProvider=resolveSession.getStorageManager().createMemoizedFunction(new Function1<JetImportDirective,ImportDirectiveResolveCache>(){
    @Override public ImportDirectiveResolveCache invoke(    JetImportDirective directive){
      return new ImportDirectiveResolveCache(directive);
    }
  }
,STRONG);
  NamespaceDescriptor rootPackageDescriptor=resolveSession.getPackageDescriptorByFqName(FqName.ROOT);
  if (rootPackageDescriptor == null) {
    throw new IllegalStateException("Root package not found");
  }
  rootScope=rootPackageDescriptor.getMemberScope();
}
