{
  this.resolveSession=resolveSession;
  this.packageDescriptor=packageDescriptor;
  this.importsProvider=new ImportsProvider(resolveSession.getStorageManager(),imports);
  this.traceForImportResolve=traceForImportResolve;
  this.debugName=debugName;
  this.importedScopesProvider=resolveSession.getStorageManager().createMemoizedFunction(new Function1<JetImportDirective,ImportDirectiveResolveCache>(){
    @Override public ImportDirectiveResolveCache invoke(    JetImportDirective directive){
      return new ImportDirectiveResolveCache(directive);
    }
  }
);
  PackageViewDescriptor rootPackage=resolveSession.getModuleDescriptor().getPackage(FqName.ROOT);
  if (rootPackage == null) {
    throw new IllegalStateException("Root package not found");
  }
  rootScope=rootPackage.getMemberScope();
}
