{
  loadText("package " + PACKAGE_NAME + "\n"+ "\n"+ "fun foo() = 42\n"+ "val bar = 239\n"+ "\n"+ "class A\n"+ "class B\n"+ "object C\n");
  Class aClass=generateClass(PackageClassUtils.getPackageClassFqName(PACKAGE_NAME).asString());
  Class<? extends Annotation> annotationClass=getCorrespondingAnnotationClass(KotlinPackage.class);
  assertTrue(aClass.isAnnotationPresent(annotationClass));
  assertTrue(aClass.isAnnotationPresent(annotationClass));
  Annotation kotlinPackage=aClass.getAnnotation(annotationClass);
  PackageData data=JavaProtoBufUtil.readPackageDataFrom((String[])ClassLoaderIsolationUtil.getAnnotationAttribute(kotlinPackage,"data"));
  Set<String> callableNames=collectCallableNames(data.getPackageProto().getMemberList(),data.getNameResolver());
  assertSameElements(callableNames,Arrays.asList("foo","bar"));
}
