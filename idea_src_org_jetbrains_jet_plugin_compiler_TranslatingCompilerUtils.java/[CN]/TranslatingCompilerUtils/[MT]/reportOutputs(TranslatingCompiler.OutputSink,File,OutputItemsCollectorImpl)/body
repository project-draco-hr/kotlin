{
  Set<VirtualFile> sources=Sets.newHashSet();
  List<TranslatingCompiler.OutputItem> outputs=Lists.newArrayList();
  for (  SimpleOutputItem output : outputItemsCollector.getOutputs()) {
    LocalFileSystem.getInstance().refreshAndFindFileByIoFile(output.getOutputFile());
    for (    File sourceFile : output.getSourceFiles()) {
      VirtualFile virtualFileForSourceFile=LocalFileSystem.getInstance().findFileByIoFile(sourceFile);
      sources.add(virtualFileForSourceFile);
      outputs.add(new OutputItemImpl(output.getOutputFile().getPath(),virtualFileForSourceFile));
    }
  }
  outputSink.add(outputDir.getPath(),outputs,sources.toArray(VirtualFile.EMPTY_ARRAY));
}
