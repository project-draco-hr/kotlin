{
  ArrayList<PsiElement> adjustedElements=new ArrayList<PsiElement>();
  for (  PsiElement element : elements) {
    if (element instanceof PsiFile || element instanceof PsiDirectory) {
      adjustedElements.add(element);
      continue;
    }
    if (element instanceof JetClassOrObject && element.getParent() instanceof JetFile) {
      adjustedElements.add(element.getParent());
      continue;
    }
    return false;
  }
  return super.canMove(adjustedElements.toArray(new PsiElement[adjustedElements.size()]),targetContainer);
}
