{
  JetExpression receiverExpression=expression.getReceiverExpression();
  if (receiverExpression != null) {
    final JetScope resolutionScope=context.get(BindingContext.RESOLUTION_SCOPE,receiverExpression);
    final JetType expressionType=context.get(BindingContext.EXPRESSION_TYPE,receiverExpression);
    if (expressionType != null && resolutionScope != null) {
      return includeExternalCallableExtensions(excludePrivateDescriptors(expressionType.getMemberScope().getAllDescriptors()),resolutionScope,new ExpressionReceiver(receiverExpression,expressionType));
    }
    return Collections.emptyList();
  }
 else {
    return getVariantsNoReceiver(expression,context);
  }
}
