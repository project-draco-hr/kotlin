{
  Map<String,PropertyPsiData> map=new HashMap<String,PropertyPsiData>();
  for (  PropertyPsiDataElement element : elements) {
    String key=propertyKeyForGrouping(element);
    PropertyPsiData value=map.get(key);
    if (value == null) {
      value=new PropertyPsiData();
      map.put(key,value);
    }
    if (element.isGetter()) {
      if (value.getter != null) {
        throw new IllegalStateException("oops, duplicate key");
      }
      value.getter=element;
    }
 else     if (element.isSetter()) {
      if (value.setter != null) {
        throw new IllegalStateException("oops, duplicate key");
      }
      value.setter=element;
    }
 else     if (element.isField()) {
      if (value.field != null) {
        throw new IllegalStateException("oops, duplicate key");
      }
      value.field=element;
    }
 else {
      throw new IllegalStateException();
    }
  }
  return map.values();
}
