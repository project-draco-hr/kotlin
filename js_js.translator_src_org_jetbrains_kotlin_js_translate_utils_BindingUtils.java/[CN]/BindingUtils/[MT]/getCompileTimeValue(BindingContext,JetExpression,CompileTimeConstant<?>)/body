{
  if (constant != null) {
    if (constant instanceof IntegerValueTypeConstant) {
      JetType expectedType=context.getType(expression);
      return ((IntegerValueTypeConstant)constant).getValue(expectedType == null ? TypeUtils.NO_EXPECTED_TYPE : expectedType);
    }
    return constant.getValue();
  }
  return null;
}
