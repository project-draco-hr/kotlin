{
  if (parentContext != STATIC)   return parentContext.getTypeInfoConstantIndex(type);
  if (typeInfoConstants == null) {
    typeInfoConstants=new LinkedHashMap<JetType,Integer>();
    reverseTypeInfoConstants=new LinkedHashMap<Integer,JetType>();
  }
  Integer index=typeInfoConstants.get(type);
  if (index == null) {
    index=typeInfoConstantsCount++;
    typeInfoConstants.put(type,index);
    reverseTypeInfoConstants.put(index,type);
  }
  return index;
}
