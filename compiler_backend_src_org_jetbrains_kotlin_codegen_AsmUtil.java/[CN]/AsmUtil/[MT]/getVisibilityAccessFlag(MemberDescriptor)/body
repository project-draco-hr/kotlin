{
  Integer specialCase=specialCaseVisibility(descriptor);
  if (specialCase != null) {
    return specialCase;
  }
  Integer defaultMapping=visibilityToAccessFlag.get(descriptor.getVisibility());
  if (defaultMapping == null) {
    throw new IllegalStateException(descriptor.getVisibility() + " is not a valid visibility in backend: " + descriptor);
  }
  return defaultMapping;
}
