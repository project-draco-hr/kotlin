{
  if (text.contains("package ")) {
    Matcher matcher=packagePattern.matcher(text);
    return matcher.replaceAll("package " + testName);
  }
 else {
    String packageDirective="package " + testName + ";\n";
    if (text.contains("@file:")) {
      int index=text.lastIndexOf("@file:");
      int packageDirectiveIndex=text.indexOf("\n",index);
      return text.substring(0,packageDirectiveIndex + 1) + packageDirective + text.substring(packageDirectiveIndex + 1);
    }
 else {
      return packageDirective + text;
    }
  }
}
