{
  FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createSingleFileNoJarsDescriptor().withRoots(ProjectRootManager.getInstance(myProject).getContentRoots()).withTreeRootVisible(true);
  String title=KotlinRefactoringBundle.message("refactoring.move.top.level.declaration.file.title");
  fileChooser.addBrowseFolderListener(title,null,myProject,descriptor,TextComponentAccessor.TEXT_FIELD_WHOLE_TEXT);
  String initialTargetPath=targetFile != null ? targetFile.getVirtualFile().getPath() : sourceFiles.get(0).getVirtualFile().getParent().getPath() + "/" + MoveUtilsKt.guessNewFileName(elementsToMove);
  fileChooser.setText(initialTargetPath);
}
