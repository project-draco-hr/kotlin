{
  Matcher r=lookingAt(pattern);
  if (r == null) {
    throw new IllegalStateException("line " + position + " must match "+ pattern);
  }
  ++position;
  return r;
}
