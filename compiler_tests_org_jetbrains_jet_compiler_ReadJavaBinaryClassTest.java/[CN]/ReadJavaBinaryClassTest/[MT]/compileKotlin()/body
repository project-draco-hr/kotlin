{
  JetCoreEnvironment jetCoreEnvironment=JetTestUtils.createEnvironmentWithMockJdk(myTestRootDisposable);
  String text=FileUtil.loadFile(ktFile);
  LightVirtualFile virtualFile=new LightVirtualFile(ktFile.getName(),JetLanguage.INSTANCE,text);
  virtualFile.setCharset(CharsetToolkit.UTF8_CHARSET);
  JetFile psiFile=(JetFile)((PsiFileFactoryImpl)PsiFileFactory.getInstance(jetCoreEnvironment.getProject())).trySetupPsiForFile(virtualFile,JetLanguage.INSTANCE,true,false);
  AnalyzingUtils.checkForSyntacticErrors(psiFile);
  BindingContext bindingContext=AnalyzerFacadeForJVM.analyzeOneFileWithJavaIntegration(psiFile,JetControlFlowDataTraceFactory.EMPTY).getBindingContext();
  AnalyzingUtils.throwExceptionOnErrors(bindingContext);
  return bindingContext.get(BindingContext.FQNAME_TO_NAMESPACE_DESCRIPTOR,FqName.topLevel("test"));
}
