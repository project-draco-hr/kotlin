{
  String signature=this.signature;
  int len=signature.length();
  int pos=acceptFormalTypeParameters(v);
  if (signature.charAt(pos) == '(') {
    pos++;
    while (signature.charAt(pos) != ')') {
      pos=parseType(signature,pos,v.visitParameterType());
    }
    pos=parseType(signature,pos + 1,v.visitReturnType());
    while (pos < len) {
      pos=parseType(signature,pos + 1,v.visitExceptionType());
    }
  }
 else {
    pos=parseType(signature,pos,v.visitSuperclass());
    while (pos < len) {
      pos=parseType(signature,pos,v.visitInterface());
    }
  }
  if (pos != signature.length()) {
    throw new IllegalStateException();
  }
}
