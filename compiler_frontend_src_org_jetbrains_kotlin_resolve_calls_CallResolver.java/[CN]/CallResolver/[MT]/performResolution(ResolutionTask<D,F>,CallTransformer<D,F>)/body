{
  CandidateResolveMode mode=task.collectAllCandidates ? FULLY : EXIT_ON_FIRST_ERROR;
  List<CallCandidateResolutionContext<D>> contexts=collectCallCandidateContext(task,callTransformer,mode);
  boolean isSuccess=ContainerUtil.exists(contexts,new Condition<CallCandidateResolutionContext<D>>(){
    @Override public boolean value(    CallCandidateResolutionContext<D> context){
      return context.candidateCall.getStatus().possibleTransformToSuccess();
    }
  }
);
  if (!isSuccess && mode == EXIT_ON_FIRST_ERROR) {
    contexts=collectCallCandidateContext(task,callTransformer,FULLY);
  }
  for (  CallCandidateResolutionContext<D> context : contexts) {
    addResolvedCall(task,callTransformer,context);
  }
  OverloadResolutionResultsImpl<F> results=resolutionResultsHandler.computeResultAndReportErrors(task,task.getResolvedCalls());
  if (!results.isSingleResult() && !results.isIncomplete()) {
    argumentTypeResolver.checkTypesWithNoCallee(task.toBasic());
  }
  return results;
}
