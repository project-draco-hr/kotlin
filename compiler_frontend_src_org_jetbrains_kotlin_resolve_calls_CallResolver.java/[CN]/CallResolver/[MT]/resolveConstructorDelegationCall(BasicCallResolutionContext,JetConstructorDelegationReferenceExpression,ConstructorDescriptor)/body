{
  ClassDescriptor currentClassDescriptor=calleeConstructor.getContainingDeclaration();
  boolean isThisCall=calleeExpression.isThis();
  if (currentClassDescriptor.getKind() == ClassKind.ENUM_CLASS && !isThisCall) {
    context.trace.report(DELEGATION_SUPER_CALL_IN_ENUM_CONSTRUCTOR.on((JetConstructorDelegationCall)calleeExpression.getParent()));
    return checkArgumentTypesAndFail(context);
  }
  ClassDescriptor delegateClassDescriptor=isThisCall ? currentClassDescriptor : DescriptorUtilPackage.getSuperClassOrAny(currentClassDescriptor);
  Collection<ConstructorDescriptor> constructors=delegateClassDescriptor.getConstructors();
  if (!isThisCall && currentClassDescriptor.getUnsubstitutedPrimaryConstructor() != null) {
    context.trace.report(PRIMARY_CONSTRUCTOR_DELEGATION_CALL_EXPECTED.on((JetConstructorDelegationCall)calleeExpression.getParent()));
  }
  if (constructors.isEmpty()) {
    context.trace.report(NO_CONSTRUCTOR.on(CallUtilPackage.getValueArgumentListOrElement(context.call)));
    return checkArgumentTypesAndFail(context);
  }
  List<ResolutionCandidate<CallableDescriptor>> candidates=Lists.newArrayList();
  ReceiverValue constructorDispatchReceiver=!delegateClassDescriptor.isInner() ? ReceiverValue.NO_RECEIVER : ((ClassDescriptor)delegateClassDescriptor.getContainingDeclaration()).getThisAsReceiverParameter().getValue();
  JetType expectedType=isThisCall ? calleeConstructor.getContainingDeclaration().getDefaultType() : DescriptorUtils.getSuperClassType(currentClassDescriptor);
  TypeSubstitutor knownTypeParametersSubstitutor=TypeSubstitutor.create(expectedType);
  for (  CallableDescriptor descriptor : constructors) {
    candidates.add(ResolutionCandidate.create(context.call,descriptor,constructorDispatchReceiver,ReceiverValue.NO_RECEIVER,ExplicitReceiverKind.NO_EXPLICIT_RECEIVER,knownTypeParametersSubstitutor));
  }
  return computeTasksFromCandidatesAndResolvedCall(context,calleeExpression,candidates,CallTransformer.FUNCTION_CALL_TRANSFORMER);
}
