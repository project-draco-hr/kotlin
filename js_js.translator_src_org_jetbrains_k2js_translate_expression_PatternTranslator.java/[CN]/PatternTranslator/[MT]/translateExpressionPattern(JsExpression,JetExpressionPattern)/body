{
  JsExpression expressionToMatchAgainst=translateExpressionForExpressionPattern(pattern);
  JsBinaryOperation eq=equality(expressionToMatch,expressionToMatchAgainst);
  if (context().isEcma5()) {
    if (expressionToMatchAgainst instanceof JsNumberLiteral || expressionToMatchAgainst instanceof JsStringLiteral || expressionToMatchAgainst instanceof JsBooleanLiteral) {
      JsNameRef valueOf=new JsNameRef("valueOf");
      valueOf.setQualifier(expressionToMatch);
      return and(valueOf,eq);
    }
  }
  return eq;
}
