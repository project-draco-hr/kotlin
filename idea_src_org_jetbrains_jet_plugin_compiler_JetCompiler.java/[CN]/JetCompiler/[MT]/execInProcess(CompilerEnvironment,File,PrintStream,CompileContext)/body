{
  try {
    String compilerClassName="org.jetbrains.jet.cli.jvm.K2JVMCompiler";
    String[] arguments=commandLineArguments(environment.getOutput(),scriptFile);
    context.addMessage(INFORMATION,"Using kotlinHome=" + environment.getKotlinHome(),"",-1,-1);
    context.addMessage(INFORMATION,"Invoking in-process compiler " + compilerClassName + " with arguments "+ Arrays.asList(arguments),"",-1,-1);
    Object rc=CompilerUtils.invokeExecMethod(environment,out,context,arguments,compilerClassName);
    return CompilerUtils.getReturnCodeFromObject(rc);
  }
 catch (  Throwable e) {
    CompilerUtils.LOG.error(e);
    return -1;
  }
}
