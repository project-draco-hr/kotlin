{
  StringBuilder builder=new StringBuilder();
  boolean contentStarted=false;
  boolean afterAsterisk=false;
  for (  PsiElement element : kDoc.getChildren()) {
    IElementType type=element.getNode().getElementType();
    if (KDocTokens.CONTENT_TOKENS.contains(type)) {
      contentStarted=true;
      builder.append(afterAsterisk ? StringUtil.trimLeading(element.getText()) : element.getText());
      afterAsterisk=false;
    }
    if (type == KDocTokens.LEADING_ASTERISK || type == KDocTokens.START) {
      afterAsterisk=true;
    }
    if (contentStarted && element instanceof PsiWhiteSpace) {
      builder.append(StringUtil.repeat("\n",StringUtil.countNewLines(element.getText())));
    }
  }
  return builder.toString();
}
