{
  JetReferenceExpression ref;
  if (originalElement instanceof JetReferenceExpression) {
    ref=(JetReferenceExpression)originalElement;
  }
 else {
    ref=PsiTreeUtil.getParentOfType(originalElement,JetReferenceExpression.class);
  }
  PsiElement declarationPsiElement=PsiTreeUtil.getParentOfType(originalElement,JetDeclaration.class);
  if (ref != null || declarationPsiElement != null) {
    BindingContext bindingContext=WholeProjectAnalyzerFacade.analyzeProjectWithCacheOnAFile((JetFile)originalElement.getContainingFile()).getBindingContext();
    if (ref != null) {
      DeclarationDescriptor declarationDescriptor=bindingContext.get(BindingContext.REFERENCE_TARGET,ref);
      if (declarationDescriptor != null) {
        return render(declarationDescriptor,bindingContext,element,originalElement,mergeKotlinAndJava);
      }
      if (declarationPsiElement != null) {
        declarationPsiElement=BindingContextUtils.resolveToDeclarationPsiElement(bindingContext,ref);
      }
    }
    if (declarationPsiElement != null) {
      DeclarationDescriptor declarationDescriptor=bindingContext.get(BindingContext.DECLARATION_TO_DESCRIPTOR,declarationPsiElement);
      if (declarationDescriptor != null) {
        return render(declarationDescriptor,bindingContext,element,originalElement,mergeKotlinAndJava);
      }
    }
    return "Unresolved";
  }
  return null;
}
