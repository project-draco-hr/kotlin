{
  try {
    File contentDir=JetTestUtils.tmpDir("lib-content");
    File classesDir=new File(contentDir,"classes");
    compile(sourcesPath,classesDir);
    File jarFile=new File(contentDir,"library.jar");
    ZipOutputStream zip=new ZipOutputStream(new FileOutputStream(jarFile));
    ZipUtil.addDirToZipRecursively(zip,jarFile,classesDir,"",null,null);
    ZipUtil.addDirToZipRecursively(zip,jarFile,new File(sourcesPath),"src",null,null);
    zip.close();
    return jarFile;
  }
 catch (  IOException e) {
    throw UtilsPackage.rethrow(e);
  }
}
