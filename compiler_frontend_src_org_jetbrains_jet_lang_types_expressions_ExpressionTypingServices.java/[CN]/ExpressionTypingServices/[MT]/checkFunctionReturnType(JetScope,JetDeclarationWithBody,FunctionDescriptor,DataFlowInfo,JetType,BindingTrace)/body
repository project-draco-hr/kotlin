{
  if (expectedReturnType == null) {
    expectedReturnType=functionDescriptor.getReturnType();
    if (!function.hasBlockBody() && !function.hasDeclaredReturnType()) {
      expectedReturnType=NO_EXPECTED_TYPE;
    }
  }
  checkFunctionReturnType(function,ExpressionTypingContext.newContext(this,new HashMap<JetPattern,DataFlowInfo>(),new HashMap<JetPattern,List<VariableDescriptor>>(),new LabelResolver(),trace,functionInnerScope,dataFlowInfo,expectedReturnType != null ? expectedReturnType : NO_EXPECTED_TYPE,false),trace);
}
