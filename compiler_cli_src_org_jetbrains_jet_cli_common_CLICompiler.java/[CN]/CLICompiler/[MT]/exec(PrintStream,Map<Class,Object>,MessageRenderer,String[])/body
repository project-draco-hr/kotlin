{
  A arguments=parseArguments(errStream,messageRenderer,args);
  if (arguments == null) {
    return INTERNAL_ERROR;
  }
  if (arguments.help || arguments.extraHelp) {
    usage(errStream,arguments.extraHelp);
    return OK;
  }
  errStream.print(messageRenderer.renderPreamble());
  printVersionIfNeeded(errStream,arguments,messageRenderer);
  MessageCollector collector=new PrintingMessageCollector(errStream,messageRenderer,arguments.verbose);
  if (arguments.suppressWarnings) {
    collector=new FilteringMessageCollector(collector,Predicates.equalTo(CompilerMessageSeverity.WARNING));
  }
  try {
    return exec(collector,services,arguments);
  }
  finally {
    errStream.print(messageRenderer.renderConclusion());
  }
}
