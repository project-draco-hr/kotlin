{
  JetType lower=TypesPackage.flexibility(type).getLowerBound();
  JetType upper=TypesPackage.flexibility(type).getUpperBound();
  String lowerRendered=renderInflexibleType(lower);
  String upperRendered=renderInflexibleType(upper);
  if (differsOnlyInNullability(lowerRendered,upperRendered)) {
    if (upperRendered.startsWith("(")) {
      return "(" + lowerRendered + ")!";
    }
    return lowerRendered + "!";
  }
  String kotlinPrefix=!shortNames ? "kotlin." : "";
  String mutablePrefix="Mutable";
  String simpleCollection=replacePrefixes(lowerRendered,kotlinPrefix + mutablePrefix,upperRendered,kotlinPrefix,kotlinPrefix + "(" + mutablePrefix+ ")");
  if (simpleCollection != null)   return simpleCollection;
  String mutableEntry=replacePrefixes(lowerRendered,kotlinPrefix + "MutableMap.MutableEntry",upperRendered,kotlinPrefix + "Map.Entry",kotlinPrefix + "(Mutable)Map.(Mutable)Entry");
  if (mutableEntry != null)   return mutableEntry;
  String array=replacePrefixes(lowerRendered,kotlinPrefix + "Array<",upperRendered,kotlinPrefix + "Array<out ",kotlinPrefix + "Array<(out) ");
  if (array != null)   return array;
  return "(" + renderNormalizedType(lower) + ".."+ renderNormalizedType(upper)+ ")";
}
