{
  add(pattern("jet","toString").receiverExists(),TO_STRING);
  add(pattern("jet","equals").receiverExists(),EQUALS);
  add(pattern("jet","identityEquals").receiverExists(),IDENTITY_EQUALS);
  add(pattern(NamePredicate.PRIMITIVE_NUMBERS,"equals"),EQUALS);
  add(pattern("String|Boolean|Char|Number.equals"),EQUALS);
  add(pattern("jet","arrayOfNulls"),new KotlinFunctionIntrinsic("nullArray"));
  add(pattern("jet","iterator").receiverExists(),RETURN_RECEIVER_INTRINSIC);
  add(new DescriptorPredicate(){
    @Override public boolean apply(    @NotNull FunctionDescriptor descriptor){
      if (!descriptor.getName().asString().equals("invoke")) {
        return false;
      }
      int parameterCount=descriptor.getValueParameters().size();
      DeclarationDescriptor fun=descriptor.getContainingDeclaration();
      return fun == (descriptor.getReceiverParameter() == null ? KotlinBuiltIns.getInstance().getFunction(parameterCount) : KotlinBuiltIns.getInstance().getExtensionFunction(parameterCount));
    }
  }
,new CallParametersAwareFunctionIntrinsic(){
    @NotNull @Override public JsExpression apply(    @NotNull CallTranslator callTranslator,    @NotNull List<JsExpression> arguments,    @NotNull TranslationContext context){
      JsExpression thisExpression=callTranslator.getCallParameters().getThisObject();
      JsExpression functionReference=callTranslator.getCallParameters().getFunctionReference();
      if (thisExpression == null) {
        return new JsInvocation(functionReference,arguments);
      }
 else       if (callTranslator.getResolvedCall().getReceiverArgument().exists()) {
        return callTranslator.extensionFunctionCall(false);
      }
 else {
        if (functionReference instanceof JsNameRef && ((JsNameRef)functionReference).getIdent().equals("invoke")) {
          return callTranslator.explicitInvokeCall();
        }
        return new JsInvocation(new JsNameRef("call",functionReference),generateInvocationArguments(thisExpression,arguments));
      }
    }
  }
);
  add(pattern("jet","Map","get").checkOverridden(),NATIVE_MAP_GET);
  add(pattern("js","set").receiverExists(),NATIVE_MAP_SET);
  String[] javaUtil={"java","util"};
  add(pattern(javaUtil,"HashMap","<init>"),new MapSelectImplementationIntrinsic(false));
  add(pattern(javaUtil,"HashSet","<init>"),new MapSelectImplementationIntrinsic(true));
  add(pattern("js","Json","get"),ArrayFIF.GET_INTRINSIC);
  add(pattern("js","Json","set"),ArrayFIF.SET_INTRINSIC);
}
