{
  String vfsPath=FileUtil.toSystemIndependentName(absolutePath);
  VirtualFile vFile=LocalFileSystem.getInstance().findFileByPath(vfsPath);
  Assert.assertNotNull("file " + absolutePath + " not found",vFile);
  String realVfsPath=vFile.getPath();
  if (!SystemInfo.isFileSystemCaseSensitive && !vfsPath.equals(realVfsPath) && vfsPath.equalsIgnoreCase(realVfsPath)) {
    Assert.fail("Please correct case-sensitivity of path to prevent test failure on case-sensitive file systems:\n" + "     path " + vfsPath + "\n"+ "real path "+ realVfsPath);
  }
  return vFile;
}
