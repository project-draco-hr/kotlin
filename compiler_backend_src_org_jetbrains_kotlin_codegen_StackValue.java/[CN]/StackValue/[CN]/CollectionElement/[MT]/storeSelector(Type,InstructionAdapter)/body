{
  if (setter == null) {
    throw new UnsupportedOperationException("no setter specified");
  }
  if (setter instanceof CallableMethod) {
    CallableMethod method=(CallableMethod)setter;
    Method asmMethod=method.getAsmMethod();
    Type[] argumentTypes=asmMethod.getArgumentTypes();
    coerce(topOfStackType,argumentTypes[argumentTypes.length - 1],v);
    method.invokeWithNotNullAssertion(v,state,resolvedSetCall);
    Type returnType=asmMethod.getReturnType();
    if (returnType != Type.VOID_TYPE) {
      pop(v,returnType);
    }
  }
 else {
    StackValue result=((IntrinsicMethod)setter).generate(codegen,null,null,Collections.<JetExpression>emptyList(),StackValue.none());
    result.put(result.type,v);
  }
}
