{
  CompileTimeConstant<?> compileTimeValue=ConstantExpressionEvaluator.getConstant(expression,bindingContext);
  if (compileTimeValue == null) {
    return null;
  }
  if (compileTimeValue.getUsesNonConstValAsConstant())   return null;
  KotlinType expectedType=bindingContext.getType(expression);
  return compileTimeValue.toConstantValue(expectedType);
}
