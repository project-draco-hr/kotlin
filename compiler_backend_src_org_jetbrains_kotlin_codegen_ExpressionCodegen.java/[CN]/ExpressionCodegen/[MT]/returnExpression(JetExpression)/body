{
  boolean isBlockedNamedFunction=expr instanceof JetBlockExpression && expr.getParent() instanceof JetNamedFunction;
  gen(expr,isBlockedNamedFunction ? Type.VOID_TYPE : returnType);
  if (!endsWithReturn(expr)) {
    markLineNumber(expr,true);
    if (isBlockedNamedFunction && !Type.VOID_TYPE.equals(expressionType(expr))) {
      StackValue.none().put(returnType,v);
    }
    v.areturn(returnType);
  }
}
