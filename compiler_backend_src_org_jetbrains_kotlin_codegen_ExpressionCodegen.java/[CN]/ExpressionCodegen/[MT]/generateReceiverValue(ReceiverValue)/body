{
  if (receiverValue instanceof ClassReceiver) {
    ClassDescriptor receiverDescriptor=((ClassReceiver)receiverValue).getDeclarationDescriptor();
    if (DescriptorUtils.isCompanionObject(receiverDescriptor)) {
      CallableMemberDescriptor contextDescriptor=context.getContextDescriptor();
      if (contextDescriptor instanceof FunctionDescriptor && receiverDescriptor == contextDescriptor.getContainingDeclaration()) {
        return StackValue.LOCAL_0;
      }
 else {
        return StackValue.singleton(receiverDescriptor,typeMapper);
      }
    }
 else {
      return StackValue.thisOrOuter(this,receiverDescriptor,false,isEnumEntry(receiverDescriptor));
    }
  }
 else   if (receiverValue instanceof ScriptReceiver) {
    return generateScript((ScriptReceiver)receiverValue);
  }
 else   if (receiverValue instanceof ExtensionReceiver) {
    return generateReceiver(((ExtensionReceiver)receiverValue).getDeclarationDescriptor());
  }
 else   if (receiverValue instanceof ExpressionReceiver) {
    return gen(((ExpressionReceiver)receiverValue).getExpression());
  }
 else {
    throw new UnsupportedOperationException("Unsupported receiver value: " + receiverValue);
  }
}
