{
  Label beginLoopLabel=new Label();
  v.mark(beginLoopLabel);
  Label breakLabel=new Label();
  Label continueLabel=new Label();
  blockStackElements.push(new LoopBlockStackElement(breakLabel,continueLabel,targetLabel(expression)));
  JetExpression body=expression.getBody();
  JetExpression condition=expression.getCondition();
  StackValue conditionValue;
  if (body instanceof JetBlockExpression) {
    List<JetElement> doWhileStatements=((JetBlockExpression)body).getStatements();
    List<JetElement> statements=new ArrayList<JetElement>(doWhileStatements.size() + 1);
    statements.addAll(doWhileStatements);
    statements.add(condition);
    conditionValue=generateBlock(statements,false,continueLabel,null);
  }
 else {
    if (body != null) {
      gen(body,Type.VOID_TYPE);
    }
    v.mark(continueLabel);
    conditionValue=gen(condition);
  }
  BranchedValue.Companion.condJump(conditionValue,beginLoopLabel,false,v);
  v.mark(breakLabel);
  blockStackElements.pop();
  return StackValue.none();
}
