{
  if (descriptor instanceof VariableDescriptor) {
    VariableDescriptor variableDescriptor=(VariableDescriptor)descriptor;
    if (variableDescriptor.isVar()) {
      JetPsiChecker.highlightName(holder,elementToHighlight,JetHighlightingColors.MUTABLE_VARIABLE);
    }
    if (Boolean.TRUE.equals(bindingContext.get(CAPTURED_IN_CLOSURE,variableDescriptor))) {
      holder.createInfoAnnotation(elementToHighlight,"Wrapped into a reference object to be modified when captured in a closure").setTextAttributes(JetHighlightingColors.WRAPPED_INTO_REF);
    }
    if (descriptor instanceof LocalVariableDescriptor) {
      JetPsiChecker.highlightName(holder,elementToHighlight,JetHighlightingColors.LOCAL_VARIABLE);
    }
    if (descriptor instanceof ValueParameterDescriptor) {
      JetPsiChecker.highlightName(holder,elementToHighlight,JetHighlightingColors.PARAMETER);
    }
  }
}
