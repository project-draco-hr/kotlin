{
  if (isCoreJavaFileManager) {
    return javaFileManager.findPackage(qualifiedName);
  }
  Query<VirtualFile> dirs=packageIndex.getDirsByPackageName(qualifiedName,true);
  return hasDirectoriesInScope(dirs) ? new PsiPackageImpl(psiManager,qualifiedName) : null;
}
