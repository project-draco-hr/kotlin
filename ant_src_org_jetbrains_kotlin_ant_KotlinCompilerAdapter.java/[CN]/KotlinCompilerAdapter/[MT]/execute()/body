{
  Javac javac=getJavac();
  checkAntVersion();
  Kotlin2JvmTask kotlinc=new Kotlin2JvmTask();
  kotlinc.setFailOnError(javac.getFailonerror());
  kotlinc.setOutput(javac.getDestdir());
  Path classpath=javac.getClasspath();
  if (classpath != null) {
    kotlinc.setClasspath(classpath);
  }
  kotlinc.setSrc(javac.getSrcdir());
  kotlinc.setExternalAnnotations(externalAnnotations);
  if (moduleName == null) {
    moduleName=AntPackage.getDefaultModuleName(javac);
  }
  kotlinc.setModuleName(moduleName);
  kotlinc.getAdditionalArguments().addAll(additionalArguments);
  File[] compileListForJavac=filterOutKotlinSources(compileList);
  boolean hasKotlinFilesInSources=compileListForJavac.length < compileList.length;
  if (hasKotlinFilesInSources) {
    kotlinc.execute();
    if (!Integer.valueOf(0).equals(kotlinc.getExitCode())) {
      return false;
    }
  }
 else {
    kotlinc.fillArguments();
  }
  javac.log("Running javac...");
  compileList=compileListForJavac;
  addRuntimeToJavacClasspath(kotlinc);
  return compileList.length == 0 || super.execute();
}
