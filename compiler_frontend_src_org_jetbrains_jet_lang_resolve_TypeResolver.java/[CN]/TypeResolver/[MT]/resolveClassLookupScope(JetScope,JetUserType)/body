{
  ClassifierDescriptor classifierDescriptor=resolveClassWithoutErrorReporting(scope,userType);
  if (classifierDescriptor instanceof ClassDescriptor) {
    List<TypeProjection> typeArguments=resolveTypeProjections(scope,classifierDescriptor.getTypeConstructor(),userType.getTypeArguments());
    return ((ClassDescriptor)classifierDescriptor).getMemberScope(typeArguments);
  }
  NamespaceDescriptor namespaceDescriptor=resolveNamespace(scope,userType);
  if (namespaceDescriptor == null) {
    trace.report(UNRESOLVED_REFERENCE.on(userType.getReferenceExpression()));
    return null;
  }
  return namespaceDescriptor.getMemberScope();
}
