{
  JetType type=ResolvePackage.analyze(expression,BodyResolveMode.PARTIAL).get(BindingContext.EXPRESSION_TYPE,expression);
  if (type != null) {
    ClassifierDescriptor descriptor=type.getConstructor().getDeclarationDescriptor();
    if (descriptor instanceof ClassDescriptor && ((ClassDescriptor)descriptor).getKind() == ClassKind.ENUM_CLASS) {
      return "when(a) { \nb -> {}\n}";
    }
  }
  return "when(a) { \nb -> {}\n else -> {}\n}";
}
