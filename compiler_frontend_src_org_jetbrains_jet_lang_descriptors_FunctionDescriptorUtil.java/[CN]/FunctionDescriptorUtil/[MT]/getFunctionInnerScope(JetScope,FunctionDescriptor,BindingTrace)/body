{
  WritableScope parameterScope=new WritableScopeImpl(outerScope,descriptor,new TraceBasedRedeclarationHandler(trace)).setDebugName("Function inner scope");
  JetType receiverType=descriptor.getReceiverType();
  if (receiverType != null) {
    parameterScope.setThisType(receiverType);
  }
  for (  TypeParameterDescriptor typeParameter : descriptor.getTypeParameters()) {
    parameterScope.addTypeParameterDescriptor(typeParameter);
  }
  for (  ValueParameterDescriptor valueParameterDescriptor : descriptor.getValueParameters()) {
    parameterScope.addVariableDescriptor(valueParameterDescriptor);
  }
  parameterScope.addLabeledDeclaration(descriptor);
  return parameterScope;
}
