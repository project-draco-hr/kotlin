{
  if (element instanceof JetClassOrObject) {
    return JetPsiUtil.getFQName((JetClassOrObject)element);
  }
  if (element instanceof JetNamedFunction) {
    return JetPsiUtil.getFQName((JetNamedFunction)element);
  }
  if (element instanceof PsiClass) {
    return ((PsiClass)element).getQualifiedName();
  }
  if (element instanceof PsiMethod) {
    PsiMethod method=(PsiMethod)element;
    PsiClass containingClass=method.getContainingClass();
    if (containingClass != null) {
      String classFQN=containingClass.getQualifiedName();
      if (classFQN != null) {
        if (QualifiedNamesUtil.fqnToShortName(classFQN).equals(JvmAbi.PACKAGE_CLASS)) {
          String classParentFQN=QualifiedNamesUtil.withoutLastSegment(classFQN);
          return QualifiedNamesUtil.combine(classParentFQN,method.getName());
        }
 else {
          return QualifiedNamesUtil.combine(containingClass.getQualifiedName(),method.getName());
        }
      }
    }
  }
  return null;
}
