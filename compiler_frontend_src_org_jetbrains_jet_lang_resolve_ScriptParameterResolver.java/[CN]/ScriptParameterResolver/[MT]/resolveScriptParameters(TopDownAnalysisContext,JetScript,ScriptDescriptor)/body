{
  List<ValueParameterDescriptor> valueParameters=Lists.newArrayList();
  JetFile file=(JetFile)declaration.getContainingFile();
  JetScriptDefinition scriptDefinition=JetScriptDefinitionProvider.getInstance(file.getProject()).findScriptDefinition(file);
  int index=0;
  List<AnalyzerScriptParameter> scriptParameters=!scriptDefinition.getScriptParameters().isEmpty() ? scriptDefinition.getScriptParameters() : c.getTopDownAnalysisParameters().getScriptParameters();
  for (  AnalyzerScriptParameter scriptParameter : scriptParameters) {
    ValueParameterDescriptor parameter=resolveScriptParameter(scriptParameter,index,scriptDescriptor);
    valueParameters.add(parameter);
    ++index;
  }
  return valueParameters;
}
