{
  final BytecodeCompiler compiler=new BytecodeCompiler(this.stdlib != null ? getPath(this.stdlib) : null);
  if (this.src != null) {
    if ((this.output == null) && (this.jar == null)) {
      throw new RuntimeException("\"output\" or \"jar\" should be specified");
    }
    String source=getPath(this.src);
    String destination=getPath(this.output != null ? this.output : this.jar);
    log(String.format("[%s] => [%s]",source,destination));
    if (this.output != null) {
      compiler.sourcesToDir(source,destination);
    }
 else {
      compiler.sourcesToJar(source,destination,this.includeRuntime);
    }
  }
 else   if (this.module != null) {
    if (this.output != null) {
      throw new RuntimeException("Module compilation is only supported for jar destination");
    }
    String modulePath=getPath(this.module);
    String jarPath=(this.jar != null ? getPath(this.jar) : null);
    compiler.moduleToJar(modulePath,jarPath,this.includeRuntime);
  }
 else {
    throw new RuntimeException("\"src\" or \"module\" should be specified");
  }
}
