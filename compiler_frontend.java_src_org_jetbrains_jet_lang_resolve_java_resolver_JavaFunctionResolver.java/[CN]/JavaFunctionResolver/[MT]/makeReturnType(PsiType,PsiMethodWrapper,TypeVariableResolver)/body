{
  String returnTypeFromAnnotation=method.getJetMethodAnnotation().returnType();
  JetType transformedType;
  if (returnTypeFromAnnotation.length() > 0) {
    transformedType=typeTransformer.transformToType(returnTypeFromAnnotation,typeVariableResolver);
  }
 else {
    TypeUsage typeUsage=JavaTypeTransformer.adjustTypeUsageWithMutabilityAnnotations(method.getPsiMethod(),TypeUsage.MEMBER_SIGNATURE_COVARIANT);
    transformedType=typeTransformer.transformToType(returnType,typeUsage,typeVariableResolver);
  }
  if (JavaAnnotationResolver.findAnnotationWithExternal(method.getPsiMethod(),JvmAbi.JETBRAINS_NOT_NULL_ANNOTATION.getFqName().asString()) != null) {
    return TypeUtils.makeNullableAsSpecified(transformedType,false);
  }
 else {
    return transformedType;
  }
}
