{
  root.acceptChildren(new PsiElementVisitor(){
    @Override public void visitElement(    PsiElement element){
      element.acceptChildren(this);
    }
    @Override public void visitErrorElement(    PsiErrorElement element){
      throw new IllegalArgumentException(element.getErrorDescription() + "; looking at " + element.getNode().getElementType()+ " '"+ element.getText()+ DiagnosticUtils.atLocation(element));
    }
  }
);
}
