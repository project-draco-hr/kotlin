{
  String signature=SignaturesUtil.getKotlinSignature(externalAnnotationResolver,methodOrConstructor);
  if (signature == null) {
    setAnnotated(false);
    altFunDeclaration=null;
    return;
  }
  if (receiverType != null) {
    throw new UnsupportedOperationException("Alternative annotations for extension functions are not supported yet");
  }
  setAnnotated(true);
  altFunDeclaration=JetPsiFactory(project).createFunction(signature);
  originalToAltTypeParameters=DescriptorResolverUtils.recreateTypeParametersAndReturnMapping(methodTypeParameters,null);
  try {
    checkForSyntaxErrors(altFunDeclaration);
    checkEqualFunctionNames(altFunDeclaration,methodOrConstructor);
    computeTypeParameters(methodTypeParameters);
    computeValueParameters(valueParameters);
    if (originalReturnType != null) {
      altReturnType=computeReturnType(originalReturnType,altFunDeclaration.getTypeReference(),originalToAltTypeParameters);
    }
    if (hasSuperMethods) {
      checkParameterAndReturnTypesForOverridingMethods(valueParameters,methodTypeParameters,originalReturnType);
    }
  }
 catch (  AlternativeSignatureMismatchException e) {
    setError(e.getMessage());
  }
}
