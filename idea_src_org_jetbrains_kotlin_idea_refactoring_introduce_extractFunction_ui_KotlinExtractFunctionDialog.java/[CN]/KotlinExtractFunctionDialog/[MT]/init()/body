{
  super.init();
  ExtractableCodeDescriptor extractableCodeDescriptor=originalDescriptor.getDescriptor();
  functionNameField=new NameSuggestionsField(ArrayUtil.toStringArray(extractableCodeDescriptor.getSuggestedNames()),project,JetFileType.INSTANCE);
  functionNameField.addDataChangedListener(new NameSuggestionsField.DataChanged(){
    @Override public void dataChanged(){
      update();
    }
  }
);
  functionNamePanel.add(functionNameField,BorderLayout.CENTER);
  functionNameLabel.setLabelFor(functionNameField);
  boolean enableVisibility=isVisibilitySectionAvailable();
  visibilityBox.setEnabled(enableVisibility);
  if (enableVisibility) {
    visibilityBox.setSelectedItem(extractableCodeDescriptor.getVisibility());
  }
  visibilityBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    @NotNull ItemEvent e){
      update();
    }
  }
);
  parameterTablePanel=new KotlinParameterTablePanel(){
    @Override protected void updateSignature(){
      KotlinExtractFunctionDialog.this.update();
    }
    @Override protected void onEnterAction(){
      doOKAction();
    }
    @Override protected void onCancelAction(){
      doCancelAction();
    }
  }
;
  parameterTablePanel.init(extractableCodeDescriptor.getReceiverParameter(),extractableCodeDescriptor.getParameters());
  inputParametersPanel.setText("&Parameters");
  inputParametersPanel.setLabelFor(parameterTablePanel.getTable());
  inputParametersPanel.add(parameterTablePanel);
}
