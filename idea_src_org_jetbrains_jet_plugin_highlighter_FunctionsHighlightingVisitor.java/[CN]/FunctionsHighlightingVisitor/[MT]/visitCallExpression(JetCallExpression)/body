{
  JetExpression callee=expression.getCalleeExpression();
  if (callee instanceof JetReferenceExpression) {
    DeclarationDescriptor calleeDescriptor=bindingContext.get(BindingContext.REFERENCE_TARGET,(JetReferenceExpression)callee);
    if (calleeDescriptor != null) {
      if (calleeDescriptor instanceof ConstructorDescriptor) {
        JetPsiChecker.highlightName(holder,callee,JetHighlightingColors.CONSTRUCTOR_CALL);
      }
 else       if (calleeDescriptor instanceof FunctionDescriptor) {
        FunctionDescriptor fun=(FunctionDescriptor)calleeDescriptor;
        JetPsiChecker.highlightName(holder,callee,JetHighlightingColors.FUNCTION_CALL);
        if (DescriptorUtils.isTopLevelDeclaration(fun)) {
          JetPsiChecker.highlightName(holder,callee,JetHighlightingColors.NAMESPACE_FUNCTION_CALL);
        }
        if (fun.getReceiverParameter() != null) {
          JetPsiChecker.highlightName(holder,callee,JetHighlightingColors.EXTENSION_FUNCTION_CALL);
        }
      }
 else       if (calleeDescriptor instanceof VariableDescriptor) {
        String kind=calleeDescriptor instanceof ValueParameterDescriptor ? "parameter" : calleeDescriptor instanceof PropertyDescriptor ? "property" : "variable";
        holder.createInfoAnnotation(callee,"Calling " + kind + " as function").setTextAttributes(JetHighlightingColors.VARIABLE_AS_FUNCTION_CALL);
      }
    }
  }
  super.visitCallExpression(expression);
}
