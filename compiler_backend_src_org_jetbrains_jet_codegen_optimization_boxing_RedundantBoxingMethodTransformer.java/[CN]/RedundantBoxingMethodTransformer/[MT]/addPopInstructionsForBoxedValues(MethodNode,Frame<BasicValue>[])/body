{
  for (int i=0; i < node.instructions.size(); i++) {
    AbstractInsnNode insn=node.instructions.get(i);
    if (insn.getOpcode() != Opcodes.POP || frames[i] == null) {
      continue;
    }
    BasicValue top=frames[i].getStack(frames[i].getStackSize() - 1);
    if (top instanceof BoxedBasicValue && ((BoxedBasicValue)top).isSafeToRemove()) {
      ((BoxedBasicValue)top).addInsn(node.instructions.get(i));
    }
  }
}
