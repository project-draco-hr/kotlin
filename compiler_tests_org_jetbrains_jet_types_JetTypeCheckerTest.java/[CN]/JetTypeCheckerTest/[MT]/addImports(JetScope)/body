{
  WritableScopeImpl writableScope=new WritableScopeImpl(scope,scope.getContainingDeclaration(),RedeclarationHandler.DO_NOTHING);
  writableScope.importScope(library.getLibraryScope());
  JavaSemanticServices javaSemanticServices=new JavaSemanticServices(getProject(),JetTestUtils.DUMMY_TRACE);
  writableScope.importScope(javaSemanticServices.getDescriptorResolver().resolveNamespace(FqName.ROOT,DescriptorSearchRule.INCLUDE_KOTLIN).getMemberScope());
  writableScope.importScope(javaSemanticServices.getDescriptorResolver().resolveNamespace(new FqName("java.lang"),DescriptorSearchRule.ERROR_IF_FOUND_IN_KOTLIN).getMemberScope());
  writableScope.changeLockLevel(WritableScope.LockLevel.BOTH);
  return writableScope;
}
