{
  WritableScopeImpl writableScope=new WritableScopeImpl(scope,scope.getContainingDeclaration(),RedeclarationHandler.DO_NOTHING);
  writableScope.importScope(library.getLibraryScope());
  InjectorForJavaSemanticServices injector=new InjectorForJavaSemanticServices(myEnvironment.getCompilerDependencies(),getProject());
  JavaDescriptorResolver javaDescriptorResolver=injector.getJavaDescriptorResolver();
  writableScope.importScope(javaDescriptorResolver.resolveNamespace(FqName.ROOT,DescriptorSearchRule.INCLUDE_KOTLIN).getMemberScope());
  writableScope.importScope(javaDescriptorResolver.resolveNamespace(new FqName("java.lang"),DescriptorSearchRule.ERROR_IF_FOUND_IN_KOTLIN).getMemberScope());
  writableScope.changeLockLevel(WritableScope.LockLevel.BOTH);
  return writableScope;
}
