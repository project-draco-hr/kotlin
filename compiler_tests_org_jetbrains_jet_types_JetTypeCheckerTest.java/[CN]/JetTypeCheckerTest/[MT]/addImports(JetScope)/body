{
  WritableScopeImpl writableScope=new WritableScopeImpl(scope,scope.getContainingDeclaration(),RedeclarationHandler.DO_NOTHING,"JetTypeCheckerTest.addImports");
  InjectorForJavaDescriptorResolver injector=InjectorForJavaDescriptorResolverUtil.create(getProject(),new BindingTraceContext());
  JavaDescriptorResolver javaDescriptorResolver=injector.getJavaDescriptorResolver();
  ModuleDescriptorImpl module=(ModuleDescriptorImpl)javaDescriptorResolver.getModule();
  module.addFragmentProvider(DependencyKind.BUILT_INS,KotlinBuiltIns.getInstance().getBuiltInsModule().getPackageFragmentProvider());
  for (  ImportPath defaultImport : module.getDefaultImports()) {
    writableScope.importScope(module.getPackage(defaultImport.fqnPart()).getMemberScope());
  }
  writableScope.importScope(module.getPackage(FqName.ROOT).getMemberScope());
  writableScope.changeLockLevel(WritableScope.LockLevel.BOTH);
  return writableScope;
}
