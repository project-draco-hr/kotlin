{
  super(new BorderLayout());
  myProject=project;
  myEditor=EditorFactory.getInstance().createEditor(EditorFactory.getInstance().createDocument(""),project,JavaFileType.INSTANCE,true);
  add(myEditor.getComponent());
  myUpdateAlarm=new Alarm(Alarm.ThreadToUse.SWING_THREAD,this);
  myUpdateAlarm.addRequest(new Runnable(){
    @Override public void run(){
      myUpdateAlarm.addRequest(this,UPDATE_DELAY);
      Location location=Location.fromEditor(FileEditorManager.getInstance(myProject).getSelectedTextEditor());
      if (!Comparing.equal(location,myCurrentLocation)) {
        updateBytecode(location,myCurrentLocation);
        myCurrentLocation=location;
      }
    }
  }
,UPDATE_DELAY);
}
