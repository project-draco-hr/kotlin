{
  DeclarationDescriptor containingDeclaration=classDescriptor.getContainingDeclaration();
  if (containingDeclaration instanceof NamespaceDescriptor) {
    NamespaceDescriptor namespaceDescriptor=(NamespaceDescriptor)containingDeclaration;
    return new ClassId(getPackageFqName(namespaceDescriptor),FqNameUnsafe.topLevel(classDescriptor.getName()));
  }
  ClassDescriptor outer=(ClassDescriptor)containingDeclaration;
  ClassId outerId=getClassId(outer);
  return outerId.createNestedClassId(classDescriptor.getName());
}
