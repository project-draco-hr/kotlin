{
  DescriptorSerializer serializer=serializerProvider.getSerializerFor(classDescriptor);
  ProtoBuf.Class classProto=serializer.classProto(classDescriptor).build();
  sink.writeClass(classDescriptor,classProto);
  serializeClasses(classDescriptor.getUnsubstitutedInnerClassesScope().getAllDescriptors(),serializerProvider,sink);
  serializeClasses(classDescriptor.getUnsubstitutedInnerClassesScope().getObjectDescriptors(),serializerProvider,sink);
  ClassDescriptor classObjectDescriptor=classDescriptor.getClassObjectDescriptor();
  if (classObjectDescriptor != null) {
    serializeClass(classObjectDescriptor,serializerProvider,sink);
  }
}
