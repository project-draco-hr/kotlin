{
  final Codegens state=new Codegens(getProject(),false);
  JetFile jetFile=(JetFile)myFixture.getFile();
  final Ref<Class> result=new Ref<Class>();
  final ClassCodegen codegen=state.forClass(AnalyzingUtils.analyzeFile(jetFile,ErrorHandler.THROW_EXCEPTION));
  jetFile.acceptChildren(new JetVisitor(){
    @Override public void visitJetElement(    JetElement elem){
      elem.acceptChildren(this);
    }
    @Override public void visitClass(    JetClass klass){
      codegen.generate(klass);
      result.set(getJVMClass(state,klass.getName() + "$$Impl"));
    }
  }
);
  if (result.isNull()) {
    throw new IllegalArgumentException("found no classes in the file to generate");
  }
  return result.get();
}
