{
  Codegens state=new Codegens(getProject(),false);
  JetFile jetFile=(JetFile)myFixture.getFile();
  final JetNamespace namespace=jetFile.getRootNamespace();
  NamespaceCodegen codegen=state.forNamespace(namespace);
  codegen.generate(namespace);
  List<String> files=state.files();
  assertEquals("This test only supposed to generate single class file",1,files.size());
  final byte[] data=state.asBytes(files.get(0));
  MyClassLoader classLoader=new MyClassLoader(NamespaceGenTest.class.getClassLoader());
  return classLoader.doDefineClass(NamespaceCodegen.getJVMClassName(namespace.getFQName()).replace("/","."),data);
}
