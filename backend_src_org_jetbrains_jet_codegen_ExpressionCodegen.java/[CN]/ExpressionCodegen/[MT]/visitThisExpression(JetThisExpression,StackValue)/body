{
  final DeclarationDescriptor descriptor=bindingContext.get(BindingContext.REFERENCE_TARGET,expression.getThisReference());
  if (descriptor instanceof ClassDescriptor) {
    return generateThisOrOuter((ClassDescriptor)descriptor);
  }
 else {
    return thisExpression();
  }
}
