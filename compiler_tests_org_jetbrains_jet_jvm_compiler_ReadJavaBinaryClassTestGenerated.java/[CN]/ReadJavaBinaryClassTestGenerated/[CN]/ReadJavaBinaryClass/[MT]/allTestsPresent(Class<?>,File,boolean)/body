{
  Set<String> methodNames=new HashSet<String>();
  for (  Method method : clazz.getDeclaredMethods()) {
    if (method.isAnnotationPresent(Test.class)) {
      methodNames.add(method.getName().toLowerCase() + ".java");
    }
  }
  for (  File file : testDataDir.listFiles()) {
    if (file.isDirectory()) {
      if (recursive) {
        allTestsPresent(clazz,file,recursive);
      }
    }
 else {
      String name=file.getName();
      if (name.endsWith(".java") && !methodNames.contains("test" + name.toLowerCase())) {
        Assert.fail("Test data file missing from the generated test class: " + file + "\nPlease re-run the generator: org.jetbrains.jet.jvm.compiler.ReadJavaBinaryClassTestGenerator");
      }
    }
  }
}
