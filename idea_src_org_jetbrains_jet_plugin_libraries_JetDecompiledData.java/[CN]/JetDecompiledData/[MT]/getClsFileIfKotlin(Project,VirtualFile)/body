{
  if (!FileTypeManager.getInstance().isFileOfType(vFile,JavaClassFileType.INSTANCE)) {
    return null;
  }
  PsiFile psiFile=PsiManager.getInstance(project).findFile(vFile);
  if (!(psiFile instanceof ClsFileImpl)) {
    return null;
  }
  ClsFileImpl clsFile=(ClsFileImpl)psiFile;
  if (clsFile.getClasses().length != 1) {
    throw new AssertionError("Multiple classes in file: " + Arrays.toString(clsFile.getClasses()));
  }
  PsiClass psiClass=clsFile.getClasses()[0];
  if (psiClass.getName().equals("namespace")) {
    return clsFile;
  }
  PsiModifierList modifierList=psiClass.getModifierList();
  if (modifierList != null) {
    for (    PsiAnnotation annotation : modifierList.getAnnotations()) {
      if (annotation instanceof ClsAnnotationImpl) {
        if (((ClsAnnotationImpl)annotation).getStub().getText().startsWith("@jet.runtime.typeinfo.JetClass")) {
          return clsFile;
        }
      }
    }
  }
  return null;
}
