{
  JetDeclaration declaration=getValue();
  if (declaration != null) {
    BindingContext context=WholeProjectAnalyzerFacade.analyzeProjectWithCacheOnAFile((JetFile)declaration.getContainingFile());
    final DeclarationDescriptor descriptor=context.get(BindingContext.DECLARATION_TO_DESCRIPTOR,declaration);
    if (descriptor != null) {
      String text=JetStructureViewElement.getDescriptorTreeText(descriptor);
      if (declaration instanceof JetClassInitializer) {
        text="<class initializer>";
      }
      data.setPresentableText(text);
    }
 else {
      String text=declaration.getName();
      if (declaration instanceof JetClassInitializer) {
        text="<class initializer>";
      }
      data.setPresentableText(text);
    }
  }
}
