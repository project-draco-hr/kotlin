{
  PsiJetPropertyStub stub=getStub();
  if (stub != null) {
    if (!stub.hasReturnTypeRef()) {
      return null;
    }
 else {
      List<JetTypeReference> typeReferences=getStubOrPsiChildrenAsList(JetStubElementTypes.TYPE_REFERENCE);
      int returnTypeRefPositionInPsi=stub.hasReceiverTypeRef() ? 1 : 0;
      if (typeReferences.size() <= returnTypeRefPositionInPsi) {
        LOG.error("Invalid stub structure built for property:\n" + getText());
        return null;
      }
      return typeReferences.get(returnTypeRefPositionInPsi);
    }
  }
  return TypeRefHelpersPackage.getTypeRef(this);
}
