{
  JsExpression isReversed=callFunction("get_reversed");
  JsConditional incrVarValue=new JsConditional(isReversed,program().getNumberLiteral(-1),program().getNumberLiteral(1));
  TemporaryVariable incrVar=context().declareTemporary(incrVarValue);
  TemporaryVariable start=context().declareTemporary(callFunction("get_start"));
  TemporaryVariable end=context().declareTemporary(new JsBinaryOperation(JsBinaryOperator.ADD,callFunction("get_end"),incrVar.reference()));
  List<JsStatement> blockStatements=temporariesInitialization(rangeExpression,incrVar,start,end);
  blockStatements.add(generateForExpression(incrVar,start,end));
  return AstUtil.newBlock(blockStatements);
}
