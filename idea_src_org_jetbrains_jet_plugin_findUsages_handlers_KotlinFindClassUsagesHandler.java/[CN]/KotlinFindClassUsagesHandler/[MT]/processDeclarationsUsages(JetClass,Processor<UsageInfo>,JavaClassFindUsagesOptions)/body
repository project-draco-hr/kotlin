{
  for (  JetDeclaration declaration : klass.getDeclarations()) {
    if (declaration instanceof JetNamedFunction && options.isMethodsUsages || declaration instanceof JetProperty && options.isFieldsUsages) {
      if (!ReferencesSearch.search(new ReferencesSearch.SearchParameters(declaration,options.searchScope,false)).forEach(new ReadActionProcessor<PsiReference>(){
        @Override public boolean processInReadAction(        PsiReference ref){
          return processUsage(processor,ref,options);
        }
      }
))       return false;
    }
  }
  return true;
}
