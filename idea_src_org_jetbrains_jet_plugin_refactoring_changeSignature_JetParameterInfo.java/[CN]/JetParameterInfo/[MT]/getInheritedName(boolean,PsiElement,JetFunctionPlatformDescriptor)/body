{
  if (!(inheritedFunction instanceof JetFunction))   return name;
  List<JetParameter> inheritedParameters=((JetFunction)inheritedFunction).getValueParameters();
  if (!isInherited || oldIndex < 0 || oldIndex >= baseFunction.getParametersCount() || oldIndex >= inheritedParameters.size())   return name;
  JetParameterInfo oldParam=baseFunction.getParameters().get(oldIndex);
  JetParameter inheritedParam=inheritedParameters.get(oldIndex);
  String inheritedParamName=inheritedParam.getName();
  if (oldParam.getName().equals(inheritedParamName)) {
    BindingContext bindingContext=AnalyzerFacadeWithCache.analyzeFileWithCache((JetFile)inheritedFunction.getContainingFile()).getBindingContext();
    JetScope parametersScope=JetChangeSignatureUsageProcessor.getFunctionBodyScope((JetFunction)inheritedFunction,bindingContext);
    if (parametersScope != null && parametersScope.getLocalVariable(Name.identifier(name)) == null)     return name;
 else     return inheritedParamName;
  }
 else   return inheritedParamName;
}
