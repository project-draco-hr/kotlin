{
  if (!(inheritedFunction instanceof JetFunction))   return name;
  JetFunction inheritedJetFunction=(JetFunction)inheritedFunction;
  List<JetParameter> inheritedParameters=inheritedJetFunction.getValueParameters();
  if (!isInherited || oldIndex < 0 || oldIndex >= baseFunction.getParametersCount() || oldIndex >= inheritedParameters.size())   return name;
  JetParameterInfo oldParam=baseFunction.getParameters().get(oldIndex);
  JetParameter inheritedParam=inheritedParameters.get(oldIndex);
  String inheritedParamName=inheritedParam.getName();
  if (oldParam.getName().equals(inheritedParamName)) {
    BindingContext bindingContext=ResolvePackage.analyze(inheritedJetFunction);
    JetScope parametersScope=JetChangeSignatureUsageProcessor.getFunctionBodyScope(inheritedJetFunction,bindingContext);
    if (parametersScope != null && parametersScope.getLocalVariable(Name.identifier(name)) == null)     return name;
 else     return inheritedParamName;
  }
 else   return inheritedParamName;
}
