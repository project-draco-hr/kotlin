{
  String fileText=FileUtil.loadFile(new File(path),true);
  String fileText2=FileUtil.loadFile(new File(path + ".2"),true);
  boolean equalityExpected=InTextDirectivesUtils.findStringWithPrefixes(fileText,"// NOT_EQUAL") == null;
  JetPsiFactory psiFactory=JetPsiFactory(getProject());
  JetTypeReference typeRef=psiFactory.createProperty(fileText).getTypeRef();
  JetTypeReference typeRef2=psiFactory.createProperty(fileText2).getTypeRef();
  assertNotNull(typeRef);
  assertNotNull(typeRef2);
  assertTrue("JetPsiMatcher.checkElementMatch() should return " + equalityExpected,equalityExpected == JetPsiMatcher.checkElementMatch(typeRef,typeRef2));
}
