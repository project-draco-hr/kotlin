{
  if (declaration.getParent() instanceof JetObjectLiteralExpression || declaration.getParent() instanceof JetClassObject) {
    super.visitObjectDeclaration(declaration);
  }
 else {
    ClassDescriptor classDescriptor=bindingContext.get(BindingContext.CLASS,declaration);
    if (classDescriptor == null)     return;
    recordEnclosing(classDescriptor);
    classStack.push(classDescriptor);
    String base=nameStack.peek();
    if (classDescriptor.getContainingDeclaration() instanceof NamespaceDescriptor) {
      nameStack.push(base.isEmpty() ? classDescriptor.getName().getName() : base + '/' + classDescriptor.getName());
    }
 else {
      nameStack.push(base + '$' + classDescriptor.getName());
    }
    recordName(classDescriptor,JvmClassName.byInternalName(nameStack.peek()));
    super.visitObjectDeclaration(declaration);
    nameStack.pop();
    classStack.pop();
  }
}
