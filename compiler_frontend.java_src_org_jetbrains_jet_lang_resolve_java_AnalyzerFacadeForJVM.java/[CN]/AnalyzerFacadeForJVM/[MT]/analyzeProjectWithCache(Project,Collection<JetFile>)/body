{
synchronized (lock) {
    CachedValue<BindingContext> bindingContextCachedValue=project.getUserData(BINDING_CONTEXT);
    if (bindingContextCachedValue == null) {
      bindingContextCachedValue=CachedValuesManager.getManager(project).createCachedValue(new CachedValueProvider<BindingContext>(){
        @Override public Result<BindingContext> compute(){
          try {
            BindingContext bindingContext=analyzeFilesWithJavaIntegration(project,files,Predicates.<PsiFile>alwaysFalse(),JetControlFlowDataTraceFactory.EMPTY);
            return new Result<BindingContext>(bindingContext,PsiModificationTracker.MODIFICATION_COUNT);
          }
 catch (          ProcessCanceledException e) {
            throw e;
          }
catch (          Throwable e) {
            DiagnosticUtils.throwIfRunningOnServer(e);
            e.printStackTrace();
            BindingTraceContext bindingTraceContext=new BindingTraceContext();
            return new Result<BindingContext>(bindingTraceContext.getBindingContext(),PsiModificationTracker.MODIFICATION_COUNT);
          }
        }
      }
,false);
      project.putUserData(BINDING_CONTEXT,bindingContextCachedValue);
    }
    return bindingContextCachedValue.getValue();
  }
}
