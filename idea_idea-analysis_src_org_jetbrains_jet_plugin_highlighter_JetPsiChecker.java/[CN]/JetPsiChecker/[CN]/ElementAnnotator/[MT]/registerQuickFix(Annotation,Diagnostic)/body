{
  if (annotation == null) {
    return null;
  }
  Collection<JetIntentionActionsFactory> intentionActionsFactories=QuickFixes.getActionsFactories(diagnostic.getFactory());
  for (  JetIntentionActionsFactory intentionActionsFactory : intentionActionsFactories) {
    if (intentionActionsFactory != null) {
      for (      IntentionAction action : intentionActionsFactory.createActions(diagnostic)) {
        annotation.registerFix(action);
      }
    }
  }
  Collection<IntentionAction> actions=QuickFixes.getActions(diagnostic.getFactory());
  for (  IntentionAction action : actions) {
    annotation.registerFix(action);
  }
  if (diagnostic.getSeverity() == Severity.WARNING) {
    annotation.setProblemGroup(new KotlinSuppressableWarningProblemGroup(diagnostic.getFactory()));
    List<Annotation.QuickFixInfo> fixes=annotation.getQuickFixes();
    if (fixes == null || fixes.isEmpty()) {
      annotation.registerFix(new EmptyIntentionAction(diagnostic.getFactory().getName()));
    }
  }
  return annotation;
}
