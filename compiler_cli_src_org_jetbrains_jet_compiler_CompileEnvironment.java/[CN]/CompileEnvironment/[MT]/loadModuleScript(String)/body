{
  CompileSession scriptCompileSession=newCompileSession();
  scriptCompileSession.addSources(moduleFile);
  ensureRuntime();
  if (!scriptCompileSession.analyze()) {
    return null;
  }
  final ClassFileFactory factory=scriptCompileSession.generate(true);
  return runDefineModules(moduleFile,factory);
}
