{
  CompileSession scriptCompileSession=new CompileSession(myEnvironment);
  scriptCompileSession.addSources(moduleFile);
  ensureRuntime();
  if (!scriptCompileSession.analyze(myErrorStream,myMessageRenderer)) {
    return null;
  }
  final ClassFileFactory factory=scriptCompileSession.generate(true);
  return runDefineModules(moduleFile,factory);
}
