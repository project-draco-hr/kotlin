{
  ArrayList<File> paths=new ArrayList<File>();
  paths.add(singleFile);
  String text=new AndroidUIXmlParser(null,paths).parse();
  JetCoreEnvironment jetCoreEnvironment=JetTestUtils.createEnvironmentWithMockJdkAndIdeaAnnotations(getTestRootDisposable(),ConfigurationKind.ALL);
  JetFile psiFile=JetTestUtils.createFile(singleFile.getName(),text,jetCoreEnvironment.getProject());
  JetFile fakeActivityClass=JetTestUtils.loadJetFile(jetCoreEnvironment.getProject(),fakeActivity);
  JetFile fakeViewClass=JetTestUtils.loadJetFile(jetCoreEnvironment.getProject(),fakeView);
  JetFile fakeRClass=JetTestUtils.loadJetFile(jetCoreEnvironment.getProject(),new File(getTestDataPath() + "/converter/singleFile/R.kt"));
  List<JetFile> files=new ArrayList<JetFile>();
  files.add(psiFile);
  files.add(fakeActivityClass);
  files.add(fakeViewClass);
  files.add(fakeRClass);
  GenerationUtils.compileManyFilesGetGenerationStateForTest(jetCoreEnvironment.getProject(),files);
  Disposer.dispose(getTestRootDisposable());
}
