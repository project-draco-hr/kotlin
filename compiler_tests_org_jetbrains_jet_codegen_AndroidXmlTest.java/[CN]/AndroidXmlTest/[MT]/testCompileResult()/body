{
  ArrayList<File> paths=new ArrayList<File>();
  paths.add(singleFile);
  String text=new AndroidUIXmlParser(null,paths).parse();
  JetCoreEnvironment jetCoreEnvironment=JetTestUtils.createEnvironmentWithMockJdkAndIdeaAnnotations(getTestRootDisposable(),ConfigurationKind.ALL);
  JetFile psiFile=JetTestUtils.createFile(singleFile.getName(),text,jetCoreEnvironment.getProject());
  JetFile fakeActivity=JetTestUtils.loadJetFile(jetCoreEnvironment.getProject(),fakeActivitySrc);
  JetFile fakeView=JetTestUtils.loadJetFile(jetCoreEnvironment.getProject(),fakeViewSrc);
  JetFile fakeWidgets=JetTestUtils.loadJetFile(jetCoreEnvironment.getProject(),fakeWidgetsSrc);
  JetFile fakeRClass=JetTestUtils.loadJetFile(jetCoreEnvironment.getProject(),new File(getTestDataPath() + "/converter/singleFile/R.kt"));
  List<JetFile> files=new ArrayList<JetFile>();
  files.add(psiFile);
  files.add(fakeActivity);
  files.add(fakeView);
  files.add(fakeRClass);
  files.add(fakeWidgets);
  GenerationUtils.compileManyFilesGetGenerationStateForTest(jetCoreEnvironment.getProject(),files);
  Disposer.dispose(getTestRootDisposable());
}
