{
  List<JetElement> block=expression.getStatements();
  if (block.isEmpty()) {
    return checkType(JetStandardClasses.getUnitType(),expression,context);
  }
  DeclarationDescriptor containingDescriptor=outerScope.getContainingDeclaration();
  WritableScope scope=new WritableScopeImpl(outerScope,containingDescriptor,context.trace.getErrorHandler()).setDebugName("getBlockReturnedType");
  return getBlockReturnedTypeWithWritableScope(scope,block,coercionStrategyForLastExpression,context);
}
