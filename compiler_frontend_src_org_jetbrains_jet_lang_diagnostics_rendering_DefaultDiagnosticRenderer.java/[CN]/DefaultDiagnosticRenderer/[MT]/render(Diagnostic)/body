{
  DiagnosticRenderer renderer=factoryToRenderer.get(diagnostic.getFactory());
  if (renderer == null) {
    throw new IllegalArgumentException("Don't know how to render diagnostic of type " + diagnostic.getFactory().getName());
  }
  return renderer.render(diagnostic);
}
