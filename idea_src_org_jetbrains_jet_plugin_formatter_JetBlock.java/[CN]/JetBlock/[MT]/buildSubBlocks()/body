{
  List<Block> blocks=new ArrayList<Block>();
  Map<ASTNode,Alignment> childrenAlignments=createChildrenAlignments();
  for (ASTNode child=myNode.getFirstChildNode(); child != null; child=child.getTreeNext()) {
    IElementType childType=child.getElementType();
    if (child.getTextRange().getLength() == 0)     continue;
    if (childType == TokenType.WHITE_SPACE) {
      continue;
    }
    Alignment childAlignment=childrenAlignments.containsKey(child) ? childrenAlignments.get(child) : null;
    blocks.add(buildSubBlock(child,childAlignment));
  }
  return Collections.unmodifiableList(blocks);
}
