{
  CommonCodeStyleSettings commonSettings=mySettings.getCommonSettings(JetLanguage.INSTANCE);
  ASTNode childParent=child.getTreeParent();
  IElementType childType=child.getElementType();
  if (CODE_BLOCKS.contains(myNode.getElementType())) {
    return indentIfNotBrace(child);
  }
  if (childParent != null && childParent.getElementType() == JetNodeTypes.BODY && childType != JetNodeTypes.BLOCK) {
    return Indent.getNormalIndent();
  }
  if (childType == JetNodeTypes.WHEN_ENTRY) {
    return Indent.getNormalIndent();
  }
  if (childParent != null && childParent.getElementType() == JetNodeTypes.WHEN_ENTRY) {
    ASTNode prev=getPrevWithoutWhitespace(child);
    if (prev != null && prev.getText().equals("->")) {
      return indentIfNotBrace(child);
    }
  }
  if (STATEMENT_PARTS.contains(myNode.getElementType()) && childType != JetNodeTypes.BLOCK) {
    return Indent.getNormalIndent();
  }
  if (childParent != null && childParent.getElementType() == JetNodeTypes.DOT_QUALIFIED_EXPRESSION) {
    if (childParent.getFirstChildNode() != child && childParent.getLastChildNode() != child) {
      return Indent.getContinuationWithoutFirstIndent(false);
    }
  }
  if (childParent != null) {
    IElementType parentType=childParent.getElementType();
    if (parentType == JetNodeTypes.VALUE_PARAMETER_LIST || parentType == JetNodeTypes.VALUE_ARGUMENT_LIST) {
      ASTNode prev=getPrevWithoutWhitespace(child);
      if (childType == JetTokens.RPAR && (prev == null || prev.getElementType() != TokenType.ERROR_ELEMENT)) {
        return Indent.getNoneIndent();
      }
      return Indent.getContinuationWithoutFirstIndent();
    }
    if (parentType == JetNodeTypes.TYPE_PARAMETER_LIST || parentType == JetNodeTypes.TYPE_ARGUMENT_LIST) {
      return Indent.getContinuationWithoutFirstIndent();
    }
  }
  return Indent.getNoneIndent();
}
