{
@SuppressWarnings("unchecked") class C {
    NotNullLazyValue<String> rec=m.createLazyValueWithPostCompute(new Function0<String>(){
      @Override public String invoke(){
        return rec.invoke();
      }
    }
,null,new Function1<String,Void>(){
      @Override public Void invoke(      String s){
        return null;
      }
    }
);
  }
  try {
    new C().rec.invoke();
    fail();
  }
 catch (  IllegalStateException e) {
  }
}
