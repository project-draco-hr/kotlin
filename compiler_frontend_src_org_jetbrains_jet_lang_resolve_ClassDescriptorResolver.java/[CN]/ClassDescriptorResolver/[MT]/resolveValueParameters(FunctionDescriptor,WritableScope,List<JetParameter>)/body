{
  List<ValueParameterDescriptor> result=new ArrayList<ValueParameterDescriptor>();
  for (int i=0, valueParametersSize=valueParameters.size(); i < valueParametersSize; i++) {
    JetParameter valueParameter=valueParameters.get(i);
    JetTypeReference typeReference=valueParameter.getTypeReference();
    ASTNode valOrVarNode=valueParameter.getValOrVarNode();
    if (valueParameter.isRef() && valOrVarNode != null) {
      trace.report(REF_PARAMETER_WITH_VAL_OR_VAR.on(valOrVarNode));
    }
    JetType type;
    if (typeReference == null) {
      trace.report(VALUE_PARAMETER_WITH_NO_TYPE_ANNOTATION.on(valueParameter));
      type=ErrorUtils.createErrorType("Type annotation was missing");
    }
 else {
      type=typeResolver.resolveType(parameterScope,typeReference);
    }
    ValueParameterDescriptor valueParameterDescriptor=resolveValueParameterDescriptor(functionDescriptor,valueParameter,i,type);
    parameterScope.addVariableDescriptor(valueParameterDescriptor);
    result.add(valueParameterDescriptor);
  }
  return result;
}
