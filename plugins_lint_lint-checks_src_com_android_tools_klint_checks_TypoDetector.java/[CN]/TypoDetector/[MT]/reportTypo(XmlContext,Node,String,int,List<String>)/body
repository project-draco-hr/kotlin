{
  if (replacements.size() < 2) {
    return;
  }
  String typo=replacements.get(0);
  String word=text.substring(begin,begin + typo.length());
  String first=null;
  String message;
  boolean isCapitalized=Character.isUpperCase(word.charAt(0));
  StringBuilder sb=new StringBuilder(40);
  for (int i=1, n=replacements.size(); i < n; i++) {
    String replacement=replacements.get(i);
    if (first == null) {
      first=replacement;
    }
    if (sb.length() > 0) {
      sb.append(" or ");
    }
    sb.append('"');
    if (isCapitalized) {
      sb.append(Character.toUpperCase(replacement.charAt(0)));
      sb.append(replacement.substring(1));
    }
 else {
      sb.append(replacement);
    }
    sb.append('"');
  }
  if (first != null && first.equalsIgnoreCase(word)) {
    if (first.equals(word)) {
      return;
    }
    message=String.format("\"%1$s\" is usually capitalized as \"%2$s\"",word,first);
  }
 else {
    message=String.format("\"%1$s\" is a common misspelling; did you mean %2$s ?",word,sb.toString());
  }
  int end=begin + word.length();
  context.report(ISSUE,node,context.getLocation(node,begin,end),message);
}
