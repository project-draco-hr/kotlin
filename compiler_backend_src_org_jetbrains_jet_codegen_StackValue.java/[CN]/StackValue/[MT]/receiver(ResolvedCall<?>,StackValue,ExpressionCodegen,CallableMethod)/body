{
  if (resolvedCall.getDispatchReceiver().exists() || resolvedCall.getExtensionReceiver().exists() || isLocalFunCall(callableMethod)) {
    boolean hasExtensionReceiver=resolvedCall.getExtensionReceiver().exists();
    StackValue extensionReceiver=genReceiver(receiver,codegen,resolvedCall,callableMethod,true);
    StackValue dispatchReceiver=platformStaticCallIfPresent(genReceiver(hasExtensionReceiver ? none() : receiver,codegen,resolvedCall,callableMethod,false),resolvedCall.getResultingDescriptor());
    return new CallReceiver(dispatchReceiver,extensionReceiver,CallReceiver.calcType(resolvedCall,codegen.typeMapper,callableMethod));
  }
  return receiver;
}
