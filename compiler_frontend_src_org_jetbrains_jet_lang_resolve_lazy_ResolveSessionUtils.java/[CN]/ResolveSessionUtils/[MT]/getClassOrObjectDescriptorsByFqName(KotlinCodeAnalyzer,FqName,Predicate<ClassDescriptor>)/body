{
  if (fqName.isRoot()) {
    return Collections.emptyList();
  }
  Collection<ClassDescriptor> classDescriptors=Lists.newArrayList();
  FqName packageFqName=fqName.parent();
  while (true) {
    PackageViewDescriptor packageDescriptor=analyzer.getModuleDescriptor().getPackage(packageFqName);
    if (packageDescriptor != null) {
      FqName classInPackagePath=NamePackage.tail(fqName,packageFqName);
      Collection<ClassDescriptor> descriptors=getClassOrObjectDescriptorsByFqName(packageDescriptor,classInPackagePath,filter);
      classDescriptors.addAll(descriptors);
    }
    if (packageFqName.isRoot()) {
      break;
    }
 else {
      packageFqName=packageFqName.parent();
    }
  }
  return classDescriptors;
}
