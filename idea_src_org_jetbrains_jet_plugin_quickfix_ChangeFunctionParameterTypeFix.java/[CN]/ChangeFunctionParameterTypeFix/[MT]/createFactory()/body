{
  return new JetSingleIntentionActionFactory(){
    @Nullable @Override public IntentionAction createAction(    Diagnostic diagnostic){
      JetParameter correspondingParameter=null;
      JetType type=null;
      BindingContext context=AnalyzerFacadeWithCache.analyzeFileWithCache((JetFile)diagnostic.getPsiFile()).getBindingContext();
      JetFunctionLiteralExpression functionLiteralExpression=QuickFixUtil.getParentElementOfType(diagnostic,JetFunctionLiteralExpression.class);
      if (functionLiteralExpression != null && diagnostic.getPsiElement() == functionLiteralExpression.getBodyExpression()) {
        correspondingParameter=QuickFixUtil.getFunctionParameterCorrespondingToFunctionLiteralPassedOutsideArgumentList(functionLiteralExpression);
        type=context.get(BindingContext.EXPRESSION_TYPE,functionLiteralExpression);
      }
 else {
        JetValueArgument valueArgument=QuickFixUtil.getParentElementOfType(diagnostic,JetValueArgument.class);
        if (valueArgument != null && valueArgument.getArgumentExpression() == diagnostic.getPsiElement()) {
          correspondingParameter=QuickFixUtil.getFunctionParameterCorrespondingToValueArgumentPassedInCall(valueArgument);
          type=context.get(BindingContext.EXPRESSION_TYPE,valueArgument.getArgumentExpression());
        }
      }
      if (correspondingParameter != null && type != null) {
        return new ChangeFunctionParameterTypeFix(correspondingParameter,type);
      }
      return null;
    }
  }
;
}
