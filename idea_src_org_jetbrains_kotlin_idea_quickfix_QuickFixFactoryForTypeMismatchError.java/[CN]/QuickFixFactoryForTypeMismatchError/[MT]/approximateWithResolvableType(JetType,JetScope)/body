{
  if (isResolvableType(type,scope))   return type;
  JetType superType=KotlinPackage.firstOrNull(TypeUtils.getAllSupertypes(type),new Function1<JetType,Boolean>(){
    @Override public Boolean invoke(    JetType type){
      return isResolvableType(type,scope);
    }
  }
);
  return superType != null ? superType : KotlinBuiltIns.getInstance().getAnyType();
}
