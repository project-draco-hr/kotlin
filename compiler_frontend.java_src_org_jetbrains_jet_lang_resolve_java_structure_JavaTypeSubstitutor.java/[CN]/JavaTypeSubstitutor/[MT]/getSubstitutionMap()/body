{
  if (substitutionMap == null) {
    Map<PsiTypeParameter,PsiType> psiMap=psiSubstitutor.getSubstitutionMap();
    substitutionMap=new HashMap<JavaTypeParameter,JavaType>();
    for (    Map.Entry<PsiTypeParameter,PsiType> entry : psiMap.entrySet()) {
      PsiType value=entry.getValue();
      substitutionMap.put(new JavaTypeParameterImpl(entry.getKey()),value == null ? null : JavaTypeImpl.create(value));
    }
  }
  return substitutionMap;
}
