{
  if (aClass instanceof JetLightClass) {
    Project project=parameters.getPosition().getProject();
    PsiFile completionFile=parameters.getPosition().getContainingFile();
    Collection<JetClassOrObject> classOrObjects=JetFullClassNameIndex.getInstance().get(aClass.getQualifiedName(),project,GlobalSearchScope.allScope(project));
    for (    JetClassOrObject classOrObject : classOrObjects) {
      if (classOrObject.getContainingFile().getOriginalFile().equals(aClass.getContainingFile())) {
        PsiFile fileOfClass=completionFile.getOriginalFile().equals(aClass.getContainingFile()) ? completionFile : aClass.getContainingFile();
        ResolveSession resolveSessionForFile=WholeProjectAnalyzerFacade.getLazyResolveSessionForFile((JetFile)fileOfClass);
        ClassDescriptor descriptor=resolveSessionForFile.getClassDescriptor(classOrObject);
        LookupElement element=DescriptorLookupConverter.createLookupElement(resolveSessionForFile.getBindingContext(),descriptor);
        consumer.consume(element);
        return true;
      }
    }
  }
  return false;
}
