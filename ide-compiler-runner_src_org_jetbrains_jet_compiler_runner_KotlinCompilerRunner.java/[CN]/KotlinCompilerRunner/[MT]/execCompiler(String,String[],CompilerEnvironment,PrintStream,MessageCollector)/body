{
  try {
    messageCollector.report(CompilerMessageSeverity.INFO,"Using kotlinHome=" + environment.getKotlinPaths().getHomePath(),CompilerMessageLocation.NO_LOCATION);
    messageCollector.report(CompilerMessageSeverity.INFO,"Invoking in-process compiler " + compilerClassName + " with arguments "+ Arrays.asList(arguments),CompilerMessageLocation.NO_LOCATION);
    Object rc=CompilerRunnerUtil.invokeExecMethod(compilerClassName,arguments,environment,messageCollector,out,true);
    return CompilerRunnerUtil.getReturnCodeFromObject(rc);
  }
 catch (  Throwable e) {
    MessageCollectorUtil.reportException(messageCollector,e);
    return -1;
  }
}
