{
  Map<String,String> result=new HashMap<String,String>();
  StringBuilder builder=new StringBuilder();
  String failedTestNamePrefix=" Error in ";
  String lastFailedTestName="";
  Matcher matcher=ERROR_IN_TEST_OUTPUT_PATTERN.matcher(output);
  while (matcher.find()) {
    String groupValue=matcher.group();
    if (groupValue.startsWith(failedTestNamePrefix)) {
      if (builder.length() > 0) {
        result.put(lastFailedTestName,builder.toString());
        builder.delete(0,builder.length());
      }
      lastFailedTestName=groupValue.substring(failedTestNamePrefix.length());
    }
    builder.append(groupValue);
    builder.append("\n");
  }
  if (builder.length() > 0) {
    result.put(lastFailedTestName,builder.toString());
  }
  return result;
}
