{
  PsiElement parent=getParent();
  if (parent instanceof JetExpression && newElement instanceof JetExpression && JetPsiUtil.areParenthesesNecessary((JetExpression)newElement,this,(JetExpression)parent)) {
    return super.replace(createExpressionByPattern(JetPsiFactory(this),"($0)",newElement));
  }
  return super.replace(newElement);
}
