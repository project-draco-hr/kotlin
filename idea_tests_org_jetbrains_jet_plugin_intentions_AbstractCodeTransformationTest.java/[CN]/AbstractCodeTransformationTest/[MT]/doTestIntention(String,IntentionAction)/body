{
  configureByFile(path);
  String fileText=FileUtil.loadFile(new File(path));
  String isApplicableString=InTextDirectivesUtils.findStringWithPrefixes(fileText,"// IS_APPLICABLE: ");
  boolean isApplicableExpected=isApplicableString == null || isApplicableString.equals("true");
  Assert.assertTrue("isAvailable() for " + intentionAction.getClass() + " should return "+ isApplicableExpected,isApplicableExpected == intentionAction.isAvailable(getProject(),getEditor(),getFile()));
  if (isApplicableExpected) {
    intentionAction.invoke(getProject(),getEditor(),getFile());
    checkResultByFile(path + ".after");
  }
}
