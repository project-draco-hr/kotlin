{
  int result=-1;
  for (  Name segment : fqName.pathSegments()) {
    QualifiedName.Builder builder=QualifiedName.newBuilder();
    builder.setShortName(getSimpleNameIndex(segment));
    if (result != -1) {
      builder.setParentQualifiedName(result);
    }
    result=qualifiedNames.intern(new FqNameProto(builder));
  }
  return result;
}
