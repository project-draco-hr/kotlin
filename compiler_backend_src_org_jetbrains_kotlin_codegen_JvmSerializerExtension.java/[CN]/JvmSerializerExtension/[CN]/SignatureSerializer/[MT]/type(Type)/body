{
  JvmProtoBuf.JvmType.Builder builder=JvmProtoBuf.JvmType.newBuilder();
  int arrayDimension=0;
  Type type=givenType;
  while (type.getSort() == Type.ARRAY) {
    arrayDimension++;
    type=type.getElementType();
  }
  if (arrayDimension != 0) {
    builder.setArrayDimension(arrayDimension);
  }
  if (type.getSort() == Type.OBJECT) {
    FqName fqName=internalNameToFqName(type.getInternalName());
    builder.setClassFqName(stringTable.getFqNameIndex(fqName));
  }
 else {
    builder.setPrimitiveType(JvmProtoBuf.JvmType.PrimitiveType.valueOf(type.getSort()));
  }
  return builder.build();
}
