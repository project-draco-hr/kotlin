{
  final WritableScope scope=new WritableScopeImpl(JetScope.EMPTY,moduleDescriptor,new TraceBasedRedeclarationHandler(trace)).setDebugName("Root scope in analyzeNamespace");
  scope.changeLockLevel(WritableScope.LockLevel.BOTH);
  NamespaceDescriptorImpl rootNs=namespaceFactory.createNamespaceDescriptorPathIfNeeded(FqName.ROOT);
  namespaceFactory.createNamespaceDescriptorPathIfNeeded(JetStandardClasses.STANDARD_CLASSES_FQNAME);
  scope.importScope(rootNs.getMemberScope());
  scope.changeLockLevel(WritableScope.LockLevel.READING);
  doProcess(scope,new NamespaceLikeBuilderDummy(),files);
}
