{
  if (topDownAnalysisParameters.isLazy()) {
    return lazyTopDownAnalyzer.analyzeFiles(project,topDownAnalysisParameters,files,additionalProviders,additionalCheckerProvider);
  }
  TopDownAnalysisContext c=new TopDownAnalysisContext(topDownAnalysisParameters);
  CompositePackageFragmentProvider provider=new CompositePackageFragmentProvider(KotlinPackage.plus(Arrays.asList(packageFragmentProvider),additionalProviders));
  ((ModuleDescriptorImpl)moduleDescriptor).initialize(provider);
  doProcess(c,JetModuleUtil.getSubpackagesOfRootScope(moduleDescriptor),new PackageLikeBuilderDummy(),files);
  return c;
}
