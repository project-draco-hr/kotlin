{
  CompositePackageFragmentProvider provider=new CompositePackageFragmentProvider(KotlinPackage.plus(Arrays.asList(packageFragmentProvider),additionalProviders));
  ((ModuleDescriptorImpl)moduleDescriptor).initialize(provider);
  TopDownAnalysisContext c=new TopDownAnalysisContext(topDownAnalysisParameters);
  doProcess(c,JetModuleUtil.getSubpackagesOfRootScope(moduleDescriptor),new PackageLikeBuilderDummy(),files);
  return c;
}
