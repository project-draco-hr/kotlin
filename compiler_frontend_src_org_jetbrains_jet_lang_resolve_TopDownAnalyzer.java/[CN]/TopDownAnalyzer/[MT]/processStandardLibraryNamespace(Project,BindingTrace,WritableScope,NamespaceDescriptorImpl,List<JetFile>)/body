{
  TopDownAnalysisContext context=new TopDownAnalysisContext(project,trace,Predicates.<PsiFile>alwaysTrue(),Configuration.EMPTY,false,true,null);
  ArrayList<JetDeclaration> toAnalyze=new ArrayList<JetDeclaration>();
  for (  JetFile file : files) {
    context.getNamespaceDescriptors().put(file,standardLibraryNamespace);
    context.getNamespaceScopes().put(file,standardLibraryNamespace.getMemberScope());
    toAnalyze.addAll(file.getDeclarations());
  }
  context.getInjector().getInstance(TopDownAnalyzer.class).doProcess(context,outerScope,standardLibraryNamespace,toAnalyze);
}
