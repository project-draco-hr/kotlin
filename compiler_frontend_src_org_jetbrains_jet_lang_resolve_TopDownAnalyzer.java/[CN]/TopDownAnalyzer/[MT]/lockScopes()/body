{
  for (  MutableClassDescriptor mutableClassDescriptor : context.getClasses().values()) {
    mutableClassDescriptor.lockScopes();
  }
  for (  MutableClassDescriptor mutableClassDescriptor : context.getObjects().values()) {
    mutableClassDescriptor.lockScopes();
  }
  for (  Map.Entry<JetFile,WritableScope> namespaceScope : context.getNamespaceScopes().entrySet()) {
    if (!namespaceScope.getKey().isScript())     namespaceScope.getValue().changeLockLevel(WritableScope.LockLevel.READING);
  }
}
