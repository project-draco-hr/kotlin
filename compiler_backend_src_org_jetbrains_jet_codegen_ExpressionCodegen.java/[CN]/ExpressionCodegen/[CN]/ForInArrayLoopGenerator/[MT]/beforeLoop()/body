{
  indexVar=myFrameMap.enterTemp(Type.INT_TYPE);
  JetExpression loopRange=forExpression.getLoopRange();
  StackValue value=gen(loopRange);
  if (value instanceof StackValue.Local) {
    arrayVar=((StackValue.Local)value).index;
  }
 else {
    arrayVar=myFrameMap.enterTemp(OBJECT_TYPE);
    afterLoopAction=new Runnable(){
      @Override public void run(){
        myFrameMap.leaveTemp(OBJECT_TYPE);
      }
    }
;
    Type asmLoopRangeType=asmType(loopRangeType);
    value.put(asmLoopRangeType,v);
    v.store(arrayVar,OBJECT_TYPE);
  }
  v.iconst(0);
  v.store(indexVar,Type.INT_TYPE);
}
