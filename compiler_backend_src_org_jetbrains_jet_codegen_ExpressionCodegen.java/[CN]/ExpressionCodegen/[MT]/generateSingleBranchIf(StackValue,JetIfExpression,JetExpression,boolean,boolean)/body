{
  Label elseLabel=new Label();
  condition.condJump(elseLabel,inverse,v);
  if (isStatement) {
    gen(expression,Type.VOID_TYPE);
    v.mark(elseLabel);
    return StackValue.none();
  }
 else {
    Type targetType=expressionType(ifExpression);
    gen(expression,targetType);
    Label end=new Label();
    v.goTo(end);
    v.mark(elseLabel);
    StackValue.putUnitInstance(v);
    markLineNumber(ifExpression);
    v.mark(end);
    return StackValue.onStack(targetType);
  }
}
