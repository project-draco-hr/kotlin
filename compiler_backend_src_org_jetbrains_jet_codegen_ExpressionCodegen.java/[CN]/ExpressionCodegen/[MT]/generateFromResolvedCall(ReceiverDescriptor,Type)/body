{
  if (descriptor instanceof ClassReceiver) {
    Type exprType=asmType(descriptor.getType());
    ClassReceiver classReceiver=(ClassReceiver)descriptor;
    ClassDescriptor classReceiverDeclarationDescriptor=classReceiver.getDeclarationDescriptor();
    if (DescriptorUtils.isClassObject(classReceiverDeclarationDescriptor)) {
      ClassDescriptor containingDeclaration=(ClassDescriptor)classReceiverDeclarationDescriptor.getContainingDeclaration();
      Type classObjType=typeMapper.mapType(containingDeclaration.getDefaultType(),MapTypeMode.IMPL);
      if (context.getContextDescriptor() instanceof ConstructorDescriptor && classReceiverDeclarationDescriptor.getDefaultType().equals(((ConstructorDescriptor)context.getContextDescriptor()).getReturnType())) {
        v.load(0,classObjType);
      }
 else {
        v.getstatic(classObjType.getInternalName(),"$classobj",exprType.getDescriptor());
      }
      StackValue.onStack(exprType).put(type,v);
    }
 else {
      StackValue.thisOrOuter(this,classReceiverDeclarationDescriptor).put(type,v);
    }
  }
 else   if (descriptor instanceof ScriptReceiver) {
    generateScript((ScriptReceiver)descriptor);
  }
 else   if (descriptor instanceof ExtensionReceiver) {
    ExtensionReceiver extensionReceiver=(ExtensionReceiver)descriptor;
    generateReceiver(extensionReceiver.getDeclarationDescriptor()).put(type,v);
  }
 else   if (descriptor instanceof ExpressionReceiver) {
    ExpressionReceiver expressionReceiver=(ExpressionReceiver)descriptor;
    JetExpression expr=expressionReceiver.getExpression();
    gen(expr,type);
  }
 else   if (descriptor instanceof AutoCastReceiver) {
    AutoCastReceiver autoCastReceiver=(AutoCastReceiver)descriptor;
    Type intermediateType=asmType(autoCastReceiver.getType());
    generateFromResolvedCall(autoCastReceiver.getOriginal(),intermediateType);
    StackValue.onStack(intermediateType).put(type,v);
  }
 else {
    throw new UnsupportedOperationException("Unsupported receiver type: " + descriptor);
  }
}
