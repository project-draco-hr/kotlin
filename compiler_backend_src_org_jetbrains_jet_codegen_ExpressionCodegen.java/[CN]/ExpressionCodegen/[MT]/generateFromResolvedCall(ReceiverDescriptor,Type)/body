{
  if (descriptor instanceof ClassReceiver) {
    Type exprType=asmType(descriptor.getType());
    ClassReceiver classReceiver=(ClassReceiver)descriptor;
    generateThisOrOuter((ClassDescriptor)classReceiver.getDeclarationDescriptor()).put(exprType,v);
    if (type != null)     StackValue.onStack(exprType).put(type,v);
  }
 else   if (descriptor instanceof ExtensionReceiver) {
    Type exprType=asmType(descriptor.getType());
    ExtensionReceiver extensionReceiver=(ExtensionReceiver)descriptor;
    generateReceiver(extensionReceiver.getDeclarationDescriptor()).put(exprType,v);
    if (type != null)     StackValue.onStack(exprType).put(type,v);
  }
 else   if (descriptor instanceof ExpressionReceiver) {
    ExpressionReceiver expressionReceiver=(ExpressionReceiver)descriptor;
    JetExpression expr=expressionReceiver.getExpression();
    Type exprType=expressionType(expr);
    gen(expr,exprType);
    if (type != null)     StackValue.onStack(exprType).put(type,v);
  }
 else   if (descriptor instanceof AutoCastReceiver) {
    AutoCastReceiver autoCastReceiver=(AutoCastReceiver)descriptor;
    Type intermediateType=asmType(autoCastReceiver.getType());
    generateFromResolvedCall(autoCastReceiver.getOriginal(),intermediateType);
    StackValue.onStack(intermediateType).put(type,v);
  }
 else {
    throw new UnsupportedOperationException();
  }
}
