{
  final IntrinsicMethod intrinsic=intrinsics.getIntrinsic(fd);
  if (intrinsic != null) {
    return intrinsic;
  }
  PsiElement declarationPsiElement=bindingContext.get(BindingContext.DESCRIPTOR_TO_DECLARATION,fd);
  CallableMethod callableMethod;
  if (declarationPsiElement instanceof PsiMethod || declarationPsiElement instanceof JetNamedFunction) {
    callableMethod=typeMapper.mapToCallableMethod((PsiNamedElement)declarationPsiElement,null);
  }
 else   if (fd instanceof VariableAsFunctionDescriptor) {
    callableMethod=ClosureCodegen.asCallableMethod((FunctionDescriptor)fd);
  }
 else   if (fd instanceof FunctionDescriptor) {
    callableMethod=ClosureCodegen.asCallableMethod((FunctionDescriptor)fd);
  }
 else {
    throw new UnsupportedOperationException("can't resolve declaration to callable: " + fd);
  }
  return callableMethod;
}
