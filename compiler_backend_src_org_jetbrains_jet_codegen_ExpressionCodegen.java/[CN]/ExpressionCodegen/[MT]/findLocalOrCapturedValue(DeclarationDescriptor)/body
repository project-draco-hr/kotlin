{
  int index=lookupLocalIndex(descriptor);
  if (index >= 0) {
    return stackValueForLocal(descriptor,index);
  }
  StackValue value=context.lookupInContext(descriptor,StackValue.local(0,OBJECT_TYPE),state,false);
  if (value == null)   return null;
  if (context.isSpecialStackValue(value)) {
    return value;
  }
  if (value instanceof StackValue.Composed) {
    StackValue.Composed composed=(StackValue.Composed)value;
    composed.prefix.put(OBJECT_TYPE,v);
    value=composed.suffix;
  }
  if (value instanceof StackValue.FieldForSharedVar) {
    StackValue.FieldForSharedVar fieldForSharedVar=(StackValue.FieldForSharedVar)value;
    Type sharedType=StackValue.sharedTypeForType(value.type);
    v.visitFieldInsn(GETFIELD,fieldForSharedVar.owner.getInternalName(),fieldForSharedVar.name,sharedType.getDescriptor());
  }
  return value;
}
