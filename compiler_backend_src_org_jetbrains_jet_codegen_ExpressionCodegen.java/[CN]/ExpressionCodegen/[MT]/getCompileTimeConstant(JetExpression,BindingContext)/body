{
  CompileTimeConstant<?> compileTimeValue=bindingContext.get(BindingContext.COMPILE_TIME_VALUE,expression);
  if (compileTimeValue instanceof NumberValueTypeConstant) {
    JetType expectedType=bindingContext.get(BindingContext.EXPRESSION_TYPE,expression);
    return EvaluatePackage.getCompileTimeConstantForNumberType((NumberValueTypeConstructor)compileTimeValue.getValue(),expectedType);
  }
  return compileTimeValue;
}
