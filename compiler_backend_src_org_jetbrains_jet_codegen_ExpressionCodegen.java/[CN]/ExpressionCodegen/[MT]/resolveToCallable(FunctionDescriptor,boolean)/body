{
  final IntrinsicMethod intrinsic=state.getInjector().getIntrinsics().getIntrinsic(fd);
  if (intrinsic != null) {
    return intrinsic;
  }
  CallableMethod callableMethod;
  if (fd instanceof ExpressionAsFunctionDescriptor || (fd instanceof SimpleFunctionDescriptor && (fd.getContainingDeclaration() instanceof FunctionDescriptor || fd.getContainingDeclaration() instanceof ScriptDescriptor))) {
    SimpleFunctionDescriptor invoke=CodegenUtil.createInvoke(fd);
    callableMethod=ClosureCodegen.asCallableMethod(invoke,typeMapper);
  }
 else {
    callableMethod=typeMapper.mapToCallableMethod(fd,superCall,OwnerKind.IMPLEMENTATION);
  }
  return callableMethod;
}
