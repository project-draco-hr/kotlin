{
  final DeclarationDescriptor descriptor=bindingContext.get(BindingContext.REFERENCE_TARGET,expression.getInstanceReference());
  if (descriptor instanceof ClassDescriptor) {
    return StackValue.thisOrOuter(this,(ClassDescriptor)descriptor);
  }
 else {
    if (descriptor instanceof CallableDescriptor) {
      return generateReceiver(descriptor);
    }
    throw new UnsupportedOperationException("neither this nor receiver");
  }
}
