{
  ClassDescriptor descriptor=bindingContext.get(BindingContext.CLASS,declaration);
  ObjectOrClosureCodegen closure=new LocalClassClosureCodegen(this,context,state,descriptor);
  Pair<JvmClassName,ClassBuilder> nameAndVisitor=state.forAnonymousSubclass(declaration);
  closure.cv=nameAndVisitor.getSecond();
  closure.name=nameAndVisitor.getFirst();
  final CodegenContext objectContext=closure.context.intoAnonymousClass(closure,descriptor,OwnerKind.IMPLEMENTATION,typeMapper);
  new ImplementationBodyCodegen(declaration,objectContext,nameAndVisitor.getSecond(),state).generate();
  return StackValue.none();
}
