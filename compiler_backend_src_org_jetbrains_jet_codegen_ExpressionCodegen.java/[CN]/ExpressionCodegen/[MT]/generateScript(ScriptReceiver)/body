{
  CodegenContext cur=context;
  StackValue result=StackValue.thiz();
  boolean inStartConstructorContext=cur instanceof ConstructorContext;
  while (cur != null) {
    if (!inStartConstructorContext) {
      cur=getNotNullParentContextForMethod(cur);
    }
    if (cur instanceof ScriptContext) {
      ScriptContext scriptContext=(ScriptContext)cur;
      Type currentScriptType=asmTypeForScriptDescriptor(bindingContext,scriptContext.getScriptDescriptor());
      if (scriptContext.getScriptDescriptor() == receiver.getDeclarationDescriptor()) {
        return result;
      }
 else {
        Type classType=asmTypeForScriptDescriptor(bindingContext,receiver.getDeclarationDescriptor());
        String fieldName=scriptContext.getScriptFieldName(receiver.getDeclarationDescriptor());
        return StackValue.field(classType,currentScriptType,fieldName,false,result);
      }
    }
    result=cur.getOuterExpression(result,false);
    if (inStartConstructorContext) {
      cur=getNotNullParentContextForMethod(cur);
      inStartConstructorContext=false;
    }
    cur=cur.getParentContext();
  }
  throw new UnsupportedOperationException();
}
