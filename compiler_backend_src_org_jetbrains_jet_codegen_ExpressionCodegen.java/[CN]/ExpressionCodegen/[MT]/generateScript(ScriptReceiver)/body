{
  CodegenContext cur=context;
  StackValue result=StackValue.local(0,OBJECT_TYPE);
  boolean inStartConstructorContext=cur instanceof ConstructorContext;
  while (cur != null) {
    if (!inStartConstructorContext) {
      cur=getNotNullParentContextForMethod(cur);
    }
    if (cur instanceof ScriptContext) {
      ScriptContext scriptContext=(ScriptContext)cur;
      Type currentScriptType=asmTypeForScriptDescriptor(bindingContext,scriptContext.getScriptDescriptor());
      if (scriptContext.getScriptDescriptor() == receiver.getDeclarationDescriptor()) {
        result.put(currentScriptType,v);
      }
 else {
        Type classType=asmTypeForScriptDescriptor(bindingContext,receiver.getDeclarationDescriptor());
        String fieldName=getParentScriptCodegen().getScriptFieldName(receiver.getDeclarationDescriptor());
        result.put(currentScriptType,v);
        StackValue.field(classType,currentScriptType,fieldName,false).put(classType,v);
      }
      return;
    }
    result=cur.getOuterExpression(result,false);
    if (inStartConstructorContext) {
      cur=getNotNullParentContextForMethod(cur);
      inStartConstructorContext=false;
    }
    cur=cur.getParentContext();
  }
  throw new UnsupportedOperationException();
}
