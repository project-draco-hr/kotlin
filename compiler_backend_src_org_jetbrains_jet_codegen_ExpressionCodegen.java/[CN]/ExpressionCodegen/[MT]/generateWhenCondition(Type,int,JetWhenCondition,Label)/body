{
  if (condition instanceof JetWhenConditionInRange) {
    JetWhenConditionInRange conditionInRange=(JetWhenConditionInRange)condition;
    JetExpression rangeExpression=conditionInRange.getRangeExpression();
    if (isIntRangeExpr(rangeExpression)) {
      getInIntRange(new StackValue.Local(subjectLocal,subjectType),(JetBinaryExpression)rangeExpression,conditionInRange.getOperationReference().getReferencedNameElementType() == JetTokens.NOT_IN);
    }
 else {
      FunctionDescriptor op=(FunctionDescriptor)bindingContext.get(BindingContext.REFERENCE_TARGET,conditionInRange.getOperationReference());
      genToJVMStack(rangeExpression);
      new StackValue.Local(subjectLocal,subjectType).put(TYPE_OBJECT,v);
      invokeFunctionNoParams(op,Type.BOOLEAN_TYPE,v);
    }
    return StackValue.onStack(Type.BOOLEAN_TYPE);
  }
  JetPattern pattern;
  boolean isNegated;
  if (condition instanceof JetWhenConditionIsPattern) {
    JetWhenConditionIsPattern patternCondition=(JetWhenConditionIsPattern)condition;
    pattern=patternCondition.getPattern();
    isNegated=patternCondition.isNegated();
  }
 else   if (condition instanceof JetWhenConditionWithExpression) {
    pattern=((JetWhenConditionWithExpression)condition).getPattern();
    isNegated=false;
  }
 else {
    throw new UnsupportedOperationException("unsupported kind of when condition");
  }
  return generatePatternMatch(pattern,isNegated,subjectLocal == -1 ? null : StackValue.local(subjectLocal,subjectType),nextEntry);
}
