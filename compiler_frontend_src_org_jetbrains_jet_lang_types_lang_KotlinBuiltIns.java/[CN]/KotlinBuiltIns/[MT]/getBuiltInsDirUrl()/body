{
  String builtInFilePath="/" + BUILT_INS_DIR + "/Library.jet";
  URL url=KotlinBuiltIns.class.getResource(builtInFilePath);
  if (url == null) {
    if (ApplicationManager.getApplication().isUnitTestMode()) {
      try {
        @SuppressWarnings("TestOnlyProblems") File builtInDir=getInTestBuiltInPath(BUILT_INS_DIR);
        return new URL(StandardFileSystems.FILE_PROTOCOL,"",FileUtil.toSystemIndependentName(builtInDir.getAbsolutePath()));
      }
 catch (      MalformedURLException e) {
        throw ExceptionUtils.rethrow(e);
      }
    }
    throw new IllegalStateException("Built-ins file wasn't found at url: " + builtInFilePath);
  }
  try {
    return new URL(url.getProtocol(),url.getHost(),PathUtil.getParentPath(url.getFile()));
  }
 catch (  MalformedURLException e) {
    throw new AssertionError(e);
  }
}
