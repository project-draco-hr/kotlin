{
  PsiElement parent=property.getParent();
  assertNotNull(parent);
  JetExpression initializer=property.getInitializer();
  assertNotNull(initializer);
  JetPsiFactory psiFactory=JetPsiFactory(property);
  JetBinaryExpression newInitializer=psiFactory.createBinaryExpression(psiFactory.createSimpleName(property.getName()),"=",initializer);
  newInitializer=(JetBinaryExpression)parent.addAfter(newInitializer,property);
  parent.addAfter(psiFactory.createNewLine(),property);
  JetType inferredType=getPropertyTypeIfNeeded(property);
  String typeStr=inferredType != null ? DescriptorRenderer.FQ_NAMES_IN_TYPES.renderType(inferredType) : JetPsiUtil.getNullableText(property.getTypeRef());
  property=(JetProperty)property.replace(psiFactory.createProperty(property.getNameIdentifier().getText(),typeStr,property.isVar()));
  if (inferredType != null) {
    ShortenReferences.instance$.process(property.getTypeRef());
  }
  return newInitializer;
}
