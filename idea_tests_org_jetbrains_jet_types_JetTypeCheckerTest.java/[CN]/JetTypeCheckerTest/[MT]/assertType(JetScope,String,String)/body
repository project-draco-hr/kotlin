{
  Project project=getProject();
  JetExpression jetExpression=JetPsiFactory.createExpression(project,expression);
  JetType type=semanticServices.getTypeInferrerServices(JetTestUtils.DUMMY_TRACE,JetFlowInformationProvider.NONE).getType(addImports(scope),jetExpression,JetTypeInferrer.NO_EXPECTED_TYPE);
  JetType expectedType=expectedTypeStr == null ? null : makeType(expectedTypeStr);
  assertEquals(expectedType,type);
}
