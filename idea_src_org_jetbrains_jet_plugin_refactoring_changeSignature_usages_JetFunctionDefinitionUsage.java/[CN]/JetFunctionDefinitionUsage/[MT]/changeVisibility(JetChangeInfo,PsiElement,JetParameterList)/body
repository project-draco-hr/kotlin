{
  JetKeywordToken newVisibilityToken=JetRefactoringUtil.getVisibilityToken(changeInfo.getNewVisibility());
  if (element instanceof JetFunction) {
    JetModifierList modifierList=newVisibilityToken == JetTokens.INTERNAL_KEYWORD ? null : JetPsiFactory.createModifierList(getProject(),newVisibilityToken);
    AddModifierFix.changeModifier(element,((JetFunction)element).getModifierList(),null,ChangeVisibilityModifierFix.VISIBILITY_TOKENS,getProject(),true,modifierList);
  }
 else {
    JetModifierList modifierList=newVisibilityToken == JetTokens.PUBLIC_KEYWORD ? null : JetPsiFactory.createConstructorModifierList(getProject(),newVisibilityToken);
    AddModifierFix.changeModifier(element,((JetClass)element).getPrimaryConstructorModifierList(),parameterList,ChangeVisibilityModifierFix.VISIBILITY_TOKENS,getProject(),true,modifierList);
  }
}
