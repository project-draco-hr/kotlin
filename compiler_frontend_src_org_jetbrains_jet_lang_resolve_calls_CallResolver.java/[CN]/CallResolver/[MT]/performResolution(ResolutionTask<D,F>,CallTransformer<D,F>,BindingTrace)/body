{
  for (  ResolutionCandidate<D> resolutionCandidate : task.getCandidates()) {
    TemporaryBindingTrace candidateTrace=TemporaryBindingTrace.create(task.trace,"trace to resolve candidate");
    Collection<CallResolutionContext<D,F>> contexts=callTransformer.createCallContexts(resolutionCandidate,task,candidateTrace);
    for (    CallResolutionContext<D,F> context : contexts) {
      candidateResolver.performResolutionForCandidateCall(context,task);
      task.tracing.bindReference(context.candidateCall.getTrace(),context.candidateCall);
      Collection<ResolvedCallWithTrace<F>> calls=callTransformer.transformCall(context,this,task);
      for (      ResolvedCallWithTrace<F> call : calls) {
        task.tracing.bindReference(call.getTrace(),call);
        task.tracing.bindResolvedCall(call.getTrace(),call);
        task.getResolvedCalls().add(call);
      }
      context.candidateCall.getTrace().addAllMyDataTo(traceForResolutionCache,new TraceEntryFilter(){
        @Override public boolean accept(        @NotNull WritableSlice<?,?> slice,        Object key){
          return slice == BindingContext.RESOLUTION_RESULTS_FOR_FUNCTION || slice == BindingContext.RESOLUTION_RESULTS_FOR_PROPERTY || slice == BindingContext.TRACE_DELTAS_CACHE;
        }
      }
,false);
    }
  }
  OverloadResolutionResultsImpl<F> results=resolutionResultsHandler.computeResultAndReportErrors(task.trace,task.tracing,task.getResolvedCalls());
  if (!results.isSingleResult() && !results.isIncomplete()) {
    candidateResolver.checkTypesWithNoCallee(task.toBasic());
  }
  return results;
}
