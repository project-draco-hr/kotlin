{
  List<File> javaBinaryRoots=new ArrayList<File>();
  javaBinaryRoots.add(KotlinTestUtils.getAnnotationsJar());
  List<File> javaSourceRoots=new ArrayList<File>();
  javaSourceRoots.add(new File("compiler/testData/loadJava/include"));
  if (isBinaryRoot) {
    javaBinaryRoots.add(javaRoot);
  }
 else {
    javaSourceRoots.add(javaRoot);
  }
  CompilerConfiguration configuration=KotlinTestUtils.compilerConfigurationForTests(configurationKind,testJdkKind,javaBinaryRoots,javaSourceRoots);
  KotlinCoreEnvironment environment=KotlinCoreEnvironment.createForTests(disposable,configuration,EnvironmentConfigFiles.JVM_CONFIG_FILES);
  BindingTrace trace=new CliLightClassGenerationSupport.NoScopeRecordCliBindingTrace();
  ModuleDescriptor module=LazyResolveTestUtil.resolve(environment.getProject(),trace,Collections.<KtFile>emptyList(),environment);
  PackageViewDescriptor packageView=module.getPackage(TEST_PACKAGE_FQNAME);
  return Pair.create(packageView,trace.getBindingContext());
}
