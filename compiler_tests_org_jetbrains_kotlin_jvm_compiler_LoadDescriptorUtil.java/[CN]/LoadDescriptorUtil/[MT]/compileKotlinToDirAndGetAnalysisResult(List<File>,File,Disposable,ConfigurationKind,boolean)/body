{
  JetFilesAndAnalysisResult filesAndResult=JetFilesAndAnalysisResult.createJetFilesAndAnalyze(kotlinFiles,disposable,configurationKind);
  AnalysisResult result=filesAndResult.getAnalysisResult();
  List<JetFile> files=filesAndResult.getJetFiles();
  GenerationState state=GenerationUtils.compileFilesGetGenerationState(files.get(0).getProject(),result,files,useTypeTableInSerializer);
  OutputUtilsKt.writeAllTo(state.getFactory(),outDir);
  return result;
}
