{
  if (!diagnostic.isValid())   return false;
  String render;
  if (diagnostic instanceof MyDiagnostic) {
    render=((MyDiagnostic)diagnostic).message;
  }
 else {
    render=DefaultErrorMessages.render(diagnostic);
  }
  PsiFile file=diagnostic.getPsiFile();
  messageCollector.report(convertSeverity(diagnostic.getSeverity()),render,MessageUtil.psiFileToMessageLocation(file,file.getName(),DiagnosticUtils.getLineAndColumn(diagnostic)));
  return diagnostic.getSeverity() == Severity.ERROR;
}
