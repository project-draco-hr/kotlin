{
  final Collection<Library> headersLibraries=Lists.newArrayList();
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    @Override public void run(){
      ModuleRootManager.getInstance(module).orderEntries().librariesOnly().forEachLibrary(new Processor<Library>(){
        @Override public boolean process(        Library library){
          if (JSHeadersPresentationProvider.getInstance().detect(Arrays.asList(library.getFiles(OrderRootType.CLASSES))) != null) {
            headersLibraries.add(library);
          }
          return true;
        }
      }
);
    }
  }
);
  return headersLibraries;
}
