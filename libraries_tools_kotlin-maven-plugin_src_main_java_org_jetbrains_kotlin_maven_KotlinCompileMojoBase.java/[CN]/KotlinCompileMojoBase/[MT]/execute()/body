{
  final CompilerArguments arguments=createCompilerArguments();
  configureCompilerArguments(arguments);
  final CLICompiler compiler=createCompiler();
  printCompilerArgumentsIfDebugEnabled(arguments,compiler);
  final ExitCode exitCode=compiler.exec(System.err,arguments);
switch (exitCode) {
case COMPILATION_ERROR:
    throw new MojoExecutionException("Compilation error. See log for more details");
case INTERNAL_ERROR:
  throw new MojoExecutionException("Internal compiler error. See log for more details");
}
}
