{
  arguments.mode="stdlib";
  if (module != null) {
    log.info("Compiling Kotlin module " + module);
    arguments.setModule(module);
  }
 else {
    if (sources.size() <= 0)     throw new MojoExecutionException("No source roots to compile");
    arguments.setSourceDirs(sources);
    log.info("Compiling Kotlin sources from " + arguments.getSourceDirs());
  }
  final ArrayList<String> classpathList=new ArrayList<String>(classpath);
  if (classpathList.remove(output)) {
    log.debug("Removed target directory from classpath (" + output + ")");
  }
  final String classPathString=Joiner.on(File.pathSeparator).join(classpathList);
  log.info("Classpath: " + classPathString);
  arguments.setClasspath(classPathString);
  log.info("Classes directory is " + output);
  arguments.setOutputDir(output);
}
