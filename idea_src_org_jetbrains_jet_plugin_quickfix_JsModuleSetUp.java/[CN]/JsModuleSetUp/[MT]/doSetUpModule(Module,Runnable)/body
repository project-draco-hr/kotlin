{
  if (module == null) {
    notifyFailure("Internal error: Module not found.");
    return;
  }
  File rootDir=getRootDir(module);
  if (!rootDir.isDirectory()) {
    notifyFailure("Internal error: Broken content root.");
    return;
  }
  if (!copyJsLibFiles(rootDir))   return;
  K2JSModuleComponent jsModuleComponent=K2JSModuleComponent.getInstance(module);
  jsModuleComponent.setJavaScriptModule(true);
  jsModuleComponent.setPathToJavaScriptLibrary("/lib/" + PathUtil.JS_LIB_JAR_NAME);
  refreshRootDir(module,continuation);
}
