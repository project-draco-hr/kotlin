{
  File libJarFile=new File(rootDir,"lib/" + PathUtil.JS_LIB_JAR_NAME);
  final VirtualFile libFile=LocalFileSystem.getInstance().refreshAndFindFileByIoFile(libJarFile);
  if (libFile != null) {
    ApplicationManager.getApplication().runWriteAction(new Runnable(){
      @Override public void run(){
        ModifiableRootModel model=ModuleRootManager.getInstance(module).getModifiableModel();
        LibraryTable table=model.getModuleLibraryTable();
        Library jsLib=table.getLibraryByName(PathUtil.JS_LIB_JAR_NAME);
        if (jsLib == null) {
          VirtualFile libRoot=JarFileSystem.getInstance().getJarRootForLocalFile(libFile);
          LibrariesContainerFactory.createContainer(model).createLibrary(PathUtil.JS_LIB_JAR_NAME,LibrariesContainer.LibraryLevel.MODULE,new VirtualFile[0],new VirtualFile[]{libRoot});
          model.commit();
        }
      }
    }
);
  }
}
