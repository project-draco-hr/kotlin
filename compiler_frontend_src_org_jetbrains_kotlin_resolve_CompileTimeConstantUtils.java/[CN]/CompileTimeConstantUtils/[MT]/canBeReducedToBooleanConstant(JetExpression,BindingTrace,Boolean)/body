{
  if (expression == null)   return false;
  CompileTimeConstant<?> compileTimeConstant=ConstantExpressionEvaluator.evaluate(expression,trace,KotlinBuiltIns.getInstance().getBooleanType());
  if (!(compileTimeConstant instanceof BooleanValue) || compileTimeConstant.usesVariableAsConstant())   return false;
  Boolean value=((BooleanValue)compileTimeConstant).getValue();
  return expectedValue == null || expectedValue.equals(value);
}
