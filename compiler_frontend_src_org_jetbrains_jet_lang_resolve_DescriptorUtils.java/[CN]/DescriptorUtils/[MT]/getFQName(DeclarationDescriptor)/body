{
  if (descriptor instanceof ModuleDescriptor) {
    return FqName.ROOT;
  }
  if (descriptor.getContainingDeclaration() == null) {
    if (descriptor instanceof NamespaceDescriptor) {
      if (descriptor.getName().equals("jet")) {
        return FqName.topLevel("jet");
      }
      if (descriptor.getName().equals("<java_root>")) {
        return FqName.ROOT;
      }
    }
    throw new IllegalStateException("descriptor is not module descriptor and has null containingDeclaration: " + descriptor.getContainingDeclaration());
  }
  return getFQName(descriptor.getContainingDeclaration()).child(descriptor.getName());
}
