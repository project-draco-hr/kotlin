{
  if (project.isDisposed()) {
    return Collections.emptyList();
  }
  List<Module> modulesWithKotlin=Lists.newArrayList();
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    if (hasKotlinFilesInSources(module) || hasKotlinFilesOnlyInTests(module)) {
      modulesWithKotlin.add(module);
    }
  }
  return modulesWithKotlin;
}
