{
  DeclarationDescriptor current=descriptor;
  while (current instanceof MemberDescriptor) {
    if (isAnonymousObject(current) || ((DeclarationDescriptorWithVisibility)current).getVisibility() == Visibilities.LOCAL) {
      return true;
    }
    current=current.getContainingDeclaration();
  }
  return false;
}
