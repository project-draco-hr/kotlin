{
  loadText("fun box() : Int { var l = IntArray(1); l[0.toLong()] = 4; l[0.toLong()] += 6; return l[0.toLong()];}\n" + "fun IntArray.set(index: Long, elem: Int) { this[index.toInt()] = elem }\n" + "fun IntArray.get(index: Long) = this[index.toInt()]");
  Method foo=generateFunction("box");
  assertTrue((Integer)foo.invoke(null) == 10);
}
