{
  Matcher matcher=pattern.matcher(input.substring(position));
  if (!matcher.lookingAt()) {
    throw new IllegalStateException("expecting " + pattern + " at pos "+ position);
  }
  String r=matcher.group();
  position+=r.length();
  return r;
}
