{
  checkState();
  checkReplacement(collection.get(index),node);
  collection.set(index,Hack.<T>cast(node));
  didChange=replaced=true;
}
