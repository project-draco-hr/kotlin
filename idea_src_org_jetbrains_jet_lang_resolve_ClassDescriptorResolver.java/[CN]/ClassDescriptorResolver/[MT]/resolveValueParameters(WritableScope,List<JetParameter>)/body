{
  List<ValueParameterDescriptor> result=new ArrayList<ValueParameterDescriptor>();
  for (int i=0, valueParametersSize=valueParameters.size(); i < valueParametersSize; i++) {
    JetParameter valueParameter=valueParameters.get(i);
    JetTypeReference typeReference=valueParameter.getTypeReference();
    Type type;
    if (typeReference == null) {
      semanticServices.getErrorHandler().structuralError(valueParameter.getNode(),"A type annotation is required on a value parameter " + valueParameter.getName());
      type=ErrorType.createErrorType("Type annotation was missing");
    }
 else {
      type=typeResolver.resolveType(parameterScope,typeReference);
    }
    ValueParameterDescriptor valueParameterDescriptor=new ValueParameterDescriptorImpl(i,AttributeResolver.INSTANCE.resolveAttributes(valueParameter.getModifierList()),valueParameter.getName(),type,valueParameter.getDefaultValue() != null,false);
    result.add(valueParameterDescriptor);
    trace.recordDeclarationResolution(valueParameter,valueParameterDescriptor);
    parameterScope.addPropertyDescriptor(valueParameterDescriptor);
  }
  return result;
}
