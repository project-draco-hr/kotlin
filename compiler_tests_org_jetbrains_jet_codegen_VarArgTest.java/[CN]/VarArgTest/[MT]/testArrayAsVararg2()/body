{
  createEnvironmentWithMockJdk();
  loadText("private fun asList(vararg elems: String) = elems; fun test(ts1: Array<String>, ts2: String) = asList(*ts1, ts2); ");
  System.out.println(generateToText());
  final Method main=generateFunction("test");
  Object invoke=main.invoke(null,new Object[]{new String[]{"mama"},"papa"});
  assertInstanceOf(invoke,String[].class);
  assertEquals(2,Array.getLength(invoke));
  assertEquals("mama",Array.get(invoke,0));
  assertEquals("papa",Array.get(invoke,1));
}
