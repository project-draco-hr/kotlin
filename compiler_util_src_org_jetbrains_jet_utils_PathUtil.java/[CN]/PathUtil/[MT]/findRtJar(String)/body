{
  if (SystemInfo.isMac && !SystemInfo.isJavaVersionAtLeast("1.7")) {
    File classesJar=new File(new File(javaHome).getParentFile(),"Classes/classes.jar");
    if (classesJar.exists()) {
      return classesJar;
    }
    throw new IllegalArgumentException("No classes.jar found under " + classesJar.getParent());
  }
 else {
    File rtJar=new File(javaHome,"lib/rt.jar");
    if (rtJar.exists()) {
      return rtJar;
    }
    throw new IllegalArgumentException("No rt.jar found under " + rtJar.getParent());
  }
}
