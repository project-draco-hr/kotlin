{
  CompileTimeConstant wholeExpressionValue=trace.getBindingContext().get(BindingContext.COMPILE_TIME_VALUE,expression);
  if (wholeExpressionValue != null) {
    return wholeExpressionValue;
  }
  JetExpression receiverExpression=expression.getReceiverExpression();
  JetExpression selectorExpression=expression.getSelectorExpression();
  if (selectorExpression instanceof JetCallExpression) {
    JetExpression calleeExpression=((JetCallExpression)selectorExpression).getCalleeExpression();
    if (!(calleeExpression instanceof JetSimpleNameExpression)) {
      return null;
    }
    if (((JetCallExpression)selectorExpression).getValueArguments().size() < 2) {
      Object result=evaluateCall(calleeExpression,receiverExpression);
      if (result == null) {
        return null;
      }
      return createCompileTimeConstant(result,expectedType);
    }
  }
  if (selectorExpression != null) {
    return selectorExpression.accept(this,null);
  }
  return super.visitQualifiedExpression(expression,data);
}
