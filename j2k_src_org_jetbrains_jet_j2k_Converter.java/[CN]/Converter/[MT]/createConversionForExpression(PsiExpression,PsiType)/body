{
  String conversion="";
  if (expression != null) {
    PsiType actualType=expression.getType();
    boolean isPrimitiveTypeOrNull=actualType == null || Node.PRIMITIVE_TYPES.contains(actualType.getCanonicalText());
    boolean isRef=(expression instanceof PsiReferenceExpression && ((PsiReferenceExpression)expression).isQualified() || expression instanceof PsiMethodCallExpression);
    boolean containsQuestDot=expressionToExpression(expression).toKotlin().contains("?.");
    if (isPrimitiveTypeOrNull && isRef && containsQuestDot)     conversion+=".sure()";
    if (actualType != null)     if (isConversionNeeded(actualType,expectedType))     conversion+=getPrimitiveTypeConversion(expectedType.getCanonicalText());
  }
  return conversion;
}
