{
  JetBinaryExpressionWithTypeRHS castedExpression=(JetBinaryExpressionWithTypeRHS)JetPsiFactory.createExpression(project,"(" + element.getText() + ") as "+ type.toString());
  if (JetPsiUtil.areParenthesesUseless((JetParenthesizedExpression)castedExpression.getLeft())) {
    castedExpression=(JetBinaryExpressionWithTypeRHS)JetPsiFactory.createExpression(project,element.getText() + " as " + type.toString());
  }
  JetParenthesizedExpression castedExpressionInParentheses=(JetParenthesizedExpression)element.replace(JetPsiFactory.createExpression(project,"(" + castedExpression.getText() + ")"));
  if (JetPsiUtil.areParenthesesUseless(castedExpressionInParentheses)) {
    castedExpressionInParentheses.replace(castedExpression);
  }
}
