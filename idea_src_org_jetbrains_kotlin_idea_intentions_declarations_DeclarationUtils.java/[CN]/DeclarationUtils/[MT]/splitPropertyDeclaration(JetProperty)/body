{
  PsiElement parent=property.getParent();
  assertNotNull(parent);
  JetExpression initializer=property.getInitializer();
  assertNotNull(initializer);
  JetPsiFactory psiFactory=JetPsiFactory(property);
  JetBinaryExpression newInitializer=psiFactory.createBinaryExpression(psiFactory.createSimpleName(property.getName()),"=",initializer);
  newInitializer=(JetBinaryExpression)parent.addAfter(newInitializer,property);
  parent.addAfter(psiFactory.createNewLine(),property);
  JetType inferredType=getPropertyTypeIfNeeded(property);
  String typeStr=inferredType != null ? IdeDescriptorRenderers.SOURCE_CODE.renderType(inferredType) : JetPsiUtil.getNullableText(property.getTypeReference());
  property=(JetProperty)property.replace(psiFactory.createProperty(property.getNameIdentifier().getText(),typeStr,property.isVar()));
  if (inferredType != null) {
    ShortenReferences.DEFAULT.process(property.getTypeReference());
  }
  return newInitializer;
}
