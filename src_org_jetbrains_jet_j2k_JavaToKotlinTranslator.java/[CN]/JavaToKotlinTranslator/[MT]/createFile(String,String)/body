{
  JavaCoreEnvironment javaCoreEnvironment=new JavaCoreEnvironment(new Disposable(){
    @Override public void dispose(){
    }
  }
);
  javaCoreEnvironment.addToClasspath(findRtJar(true));
  File annotations=findAnnotations();
  if (annotations != null && annotations.exists()) {
    javaCoreEnvironment.addToClasspath(annotations);
  }
  return PsiFileFactory.getInstance(javaCoreEnvironment.getProject()).createFileFromText(name,JavaLanguage.INSTANCE,text);
}
