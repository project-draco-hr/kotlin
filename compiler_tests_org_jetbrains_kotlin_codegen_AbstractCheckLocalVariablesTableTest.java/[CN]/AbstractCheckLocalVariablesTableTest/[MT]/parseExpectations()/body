{
  List<String> lines=Files.readLines(ktFile,Charset.forName("utf-8"));
  List<LocalVariable> expectedLocalVariables=new ArrayList<LocalVariable>();
  for (int i=Math.max(lines.size() - 10,0); i < lines.size(); ++i) {
    Matcher nameMatcher=namePattern.matcher(lines.get(i));
    if (nameMatcher.matches()) {
      Matcher typeMatcher=typePattern.matcher(lines.get(i));
      Matcher indexMatcher=indexPattern.matcher(lines.get(i));
      if (!typeMatcher.matches() || !indexMatcher.matches()) {
        throw new AssertionError("Incorrect test instructions format");
      }
      expectedLocalVariables.add(new LocalVariable(nameMatcher.group(1),StringUtil.escapeToRegexp(typeMatcher.group(1)).replace("\\*",".+"),Integer.parseInt(indexMatcher.group(1))));
    }
  }
  if (expectedLocalVariables.size() == 0) {
    throw new AssertionError("test instructions not found in " + ktFile);
  }
 else {
    return expectedLocalVariables;
  }
}
