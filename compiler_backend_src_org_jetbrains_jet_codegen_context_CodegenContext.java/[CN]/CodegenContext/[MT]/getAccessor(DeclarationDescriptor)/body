{
  if (accessors == null) {
    accessors=new HashMap<DeclarationDescriptor,DeclarationDescriptor>();
  }
  descriptor=descriptor.getOriginal();
  DeclarationDescriptor accessor=accessors.get(descriptor);
  if (accessor != null) {
    return accessor;
  }
  if (descriptor instanceof SimpleFunctionDescriptor || descriptor instanceof ConstructorDescriptor) {
    accessor=new AccessorForFunctionDescriptor((FunctionDescriptor)descriptor,contextDescriptor,accessors.size());
  }
 else   if (descriptor instanceof PropertyDescriptor) {
    accessor=new AccessorForPropertyDescriptor((PropertyDescriptor)descriptor,contextDescriptor,accessors.size());
  }
 else {
    throw new UnsupportedOperationException("Do not know how to create accessor for descriptor " + descriptor);
  }
  accessors.put(descriptor,accessor);
  return accessor;
}
