{
  analysisResult.throwIfError();
  GenerationState state=new GenerationState(project,ClassBuilderFactories.TEST,analysisResult.getModuleDescriptor(),analysisResult.getBindingContext(),files,false,false,GenerationState.GenerateClassFilter.GENERATE_ALL,false,false,Collections.<FqName>emptySet(),null,DiagnosticSink.DO_NOTHING,null);
  KotlinCodegenFacade.compileCorrectFiles(state,CompilationErrorHandler.THROW_EXCEPTION);
  return state;
}
