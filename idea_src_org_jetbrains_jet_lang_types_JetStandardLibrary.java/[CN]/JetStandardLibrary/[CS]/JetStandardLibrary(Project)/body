{
  InputStream stream=JetStandardClasses.class.getClassLoader().getResourceAsStream("jet/Library.jet");
  try {
    JetFile file=(JetFile)PsiFileFactory.getInstance(project).createFileFromText("Library.jet",JetFileType.INSTANCE,FileUtil.loadTextAndClose(new InputStreamReader(stream)));
    JetSemanticServices bootstrappingSemanticServices=JetSemanticServices.createSemanticServices(this);
    BindingTraceContext bindingTraceContext=new BindingTraceContext();
    TopDownAnalyzer bootstrappingTDA=new TopDownAnalyzer(bootstrappingSemanticServices,bindingTraceContext);
    WritableScopeImpl writableScope=new WritableScopeImpl(JetStandardClasses.STANDARD_CLASSES,JetStandardClasses.STANDARD_CLASSES_NAMESPACE,ErrorHandler.THROW_EXCEPTION).setDebugName("Root bootstrap scope");
    bootstrappingTDA.processStandardLibraryNamespace(writableScope,JetStandardClasses.STANDARD_CLASSES_NAMESPACE,file.getRootNamespace());
    this.libraryScope=JetStandardClasses.STANDARD_CLASSES_NAMESPACE.getMemberScope();
    AnalyzingUtils.applyHandler(ErrorHandler.THROW_EXCEPTION,bindingTraceContext.getBindingContext());
    this.byteClass=(ClassDescriptor)libraryScope.getClassifier("Byte");
    this.charClass=(ClassDescriptor)libraryScope.getClassifier("Char");
    this.shortClass=(ClassDescriptor)libraryScope.getClassifier("Short");
    this.intClass=(ClassDescriptor)libraryScope.getClassifier("Int");
    this.longClass=(ClassDescriptor)libraryScope.getClassifier("Long");
    this.floatClass=(ClassDescriptor)libraryScope.getClassifier("Float");
    this.doubleClass=(ClassDescriptor)libraryScope.getClassifier("Double");
    this.booleanClass=(ClassDescriptor)libraryScope.getClassifier("Boolean");
    this.stringClass=(ClassDescriptor)libraryScope.getClassifier("String");
    this.arrayClass=(ClassDescriptor)libraryScope.getClassifier("Array");
    this.iterableClass=(ClassDescriptor)libraryScope.getClassifier("Iterable");
    typeInfoNamespace=libraryScope.getNamespace("typeinfo");
    this.typeInfoClass=(ClassDescriptor)typeInfoNamespace.getMemberScope().getClassifier("TypeInfo");
    typeInfoFunction=typeInfoNamespace.getMemberScope().getFunctionGroup("typeinfo");
    this.byteType=new JetTypeImpl(getByte());
    this.charType=new JetTypeImpl(getChar());
    this.shortType=new JetTypeImpl(getShort());
    this.intType=new JetTypeImpl(getInt());
    this.longType=new JetTypeImpl(getLong());
    this.floatType=new JetTypeImpl(getFloat());
    this.doubleType=new JetTypeImpl(getDouble());
    this.booleanType=new JetTypeImpl(getBoolean());
    this.stringType=new JetTypeImpl(getString());
    this.nullableStringType=TypeUtils.makeNullable(stringType);
  }
 catch (  IOException e) {
    throw new IllegalStateException(e);
  }
}
