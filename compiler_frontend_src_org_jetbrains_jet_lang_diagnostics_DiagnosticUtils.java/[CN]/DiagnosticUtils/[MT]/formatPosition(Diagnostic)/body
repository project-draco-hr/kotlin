{
  PsiFile file=diagnostic.getFactory().getPsiFile(diagnostic);
  Document document=file.getViewProvider().getDocument();
  TextRange firstRange=diagnostic.getFactory().getTextRanges(diagnostic).iterator().next();
  int offset=firstRange.getStartOffset();
  if (document != null) {
    int lineNumber=document.getLineNumber(offset);
    int lineStartOffset=document.getLineStartOffset(lineNumber);
    int column=offset - lineStartOffset;
    return "(" + (lineNumber + 1) + ","+ (column + 1)+ ")";
  }
  return "(offset: " + offset + " line unknown)";
}
