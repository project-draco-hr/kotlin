{
  PsiElement parent=expression.getParent();
  while (parent != null) {
    if (parent instanceof JetBinaryExpression || parent instanceof JetUnaryExpression || parent instanceof JetLabeledExpression|| parent instanceof JetDotQualifiedExpression|| parent instanceof JetCallExpression|| parent instanceof JetArrayAccessExpression|| parent instanceof JetMultiDeclaration) {
      if (parent instanceof JetLabeledExpression) {
        parent=parent.getParent();
        continue;
      }
      return (JetExpression)parent;
    }
 else     if (parent instanceof JetParenthesizedExpression || parent instanceof JetBinaryExpressionWithTypeRHS) {
      parent=parent.getParent();
    }
 else     if (parent instanceof JetValueArgument || parent instanceof JetValueArgumentList) {
      parent=parent.getParent();
    }
 else     if (parent instanceof JetFunctionLiteralExpression || parent instanceof JetAnnotatedExpression) {
      parent=parent.getParent();
    }
 else {
      return null;
    }
  }
  return null;
}
