{
  if (deparenthesizeBinaryExpressionWithTypeRHS && expression instanceof JetBinaryExpressionWithTypeRHS) {
    JetBinaryExpressionWithTypeRHS binaryExpression=(JetBinaryExpressionWithTypeRHS)expression;
    JetSimpleNameExpression operationSign=binaryExpression.getOperationReference();
    if (JetTokens.COLON.equals(operationSign.getReferencedNameElementType())) {
      JetTypeReference typeReference=binaryExpression.getRight();
      if (typeResolutionStrategy != null && typeReference != null) {
        typeResolutionStrategy.apply(typeReference);
      }
      return binaryExpression.getLeft();
    }
    return expression;
  }
 else   if (expression instanceof JetLabeledExpression) {
    return ((JetLabeledExpression)expression).getBaseExpression();
  }
 else   if (expression instanceof JetExpressionWrapper) {
    return ((JetExpressionWrapper)expression).getBaseExpression();
  }
 else   if (expression instanceof JetParenthesizedExpression) {
    return ((JetParenthesizedExpression)expression).getExpression();
  }
  return expression;
}
