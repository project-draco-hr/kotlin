{
  ClassifierDescriptor classifier=context.scope.getClassifier(referencedName);
  if (classifier != null) {
    JetType classObjectType=classifier.getClassObjectType();
    JetType result=null;
    if (classObjectType != null) {
      if (context.namespacesAllowed || classifier.isClassObjectAValue()) {
        result=classObjectType;
      }
 else {
        context.trace.report(NO_CLASS_OBJECT.on(expression,classifier));
      }
      context.trace.record(REFERENCE_TARGET,expression,classifier);
      return DataFlowUtils.checkType(result,expression,context);
    }
  }
  JetType[] result=new JetType[1];
  TemporaryBindingTrace temporaryTrace=TemporaryBindingTrace.create(context.trace,"trace for namespace/class object lookup of name",referencedName);
  if (furtherNameLookup(expression,referencedName,result,context.replaceBindingTrace(temporaryTrace))) {
    temporaryTrace.commit();
    return DataFlowUtils.checkType(result[0],expression,context);
  }
  if (classifier != null) {
    if (!context.namespacesAllowed) {
      context.trace.report(NO_CLASS_OBJECT.on(expression,classifier));
    }
    context.trace.record(REFERENCE_TARGET,expression,classifier);
    JetScope scopeForStaticMembersResolution=classifier instanceof ClassDescriptor ? getStaticNestedClassesScope((ClassDescriptor)classifier) : JetScope.EMPTY;
    return new NamespaceType(referencedName,scopeForStaticMembersResolution);
  }
  temporaryTrace.commit();
  return result[0];
}
