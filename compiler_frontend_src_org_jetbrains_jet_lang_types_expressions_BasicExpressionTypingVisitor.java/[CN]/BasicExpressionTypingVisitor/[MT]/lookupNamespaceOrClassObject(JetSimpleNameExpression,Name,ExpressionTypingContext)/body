{
  ClassifierDescriptor classifier=context.scope.getClassifier(referencedName);
  if (classifier != null) {
    JetType classObjectType=classifier.getClassObjectType();
    JetType result=null;
    if (classObjectType != null) {
      if (context.namespacesAllowed || classifier.isClassObjectAValue()) {
        result=classObjectType;
      }
 else {
        context.trace.report(NO_CLASS_OBJECT.on(expression,classifier));
      }
      context.trace.record(REFERENCE_TARGET,expression,classifier);
      return DataFlowUtils.checkType(result,expression,context);
    }
  }
  JetType[] result=new JetType[1];
  TemporaryBindingTrace temporaryTrace=TemporaryBindingTrace.create(context.trace);
  if (furtherNameLookup(expression,referencedName,result,context.replaceBindingTrace(temporaryTrace))) {
    temporaryTrace.commit();
    return DataFlowUtils.checkType(result[0],expression,context);
  }
  if (classifier != null) {
    context.trace.report(NO_CLASS_OBJECT.on(expression,classifier));
    context.trace.record(REFERENCE_TARGET,expression,classifier);
    return classifier.getDefaultType();
  }
  temporaryTrace.commit();
  return result[0];
}
