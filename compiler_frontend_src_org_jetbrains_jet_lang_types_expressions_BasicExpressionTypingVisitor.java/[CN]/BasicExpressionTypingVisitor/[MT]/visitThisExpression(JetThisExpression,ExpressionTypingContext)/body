{
  JetType result=null;
  ReceiverDescriptor thisReceiver=resolveToReceiver(expression,context,false);
  if (thisReceiver != null) {
    if (!thisReceiver.exists()) {
      context.trace.report(NO_THIS.on(expression));
    }
 else {
      result=thisReceiver.getType();
      context.trace.record(BindingContext.EXPRESSION_TYPE,expression.getInstanceReference(),result);
    }
  }
  return DataFlowUtils.checkType(result,expression,context);
}
