{
  JetSimpleNameExpression operationSign=expression.getOperationReference();
  JetExpression left=expression.getLeft();
  JetExpression right=expression.getRight();
  JetType leftType=facade.getType(left,context.replaceScope(context.scope)).getType();
  if (leftType != null && right != null) {
    JetType rightType=facade.getType(right,context.replaceScope(context.scope)).getType();
    if (rightType != null) {
      if (TypeUtils.isIntersectionEmpty(leftType,rightType)) {
        context.trace.report(EQUALITY_NOT_APPLICABLE.on(expression,operationSign,leftType,rightType));
      }
    }
    if (isSenselessComparisonWithNull(leftType,right) || isSenselessComparisonWithNull(rightType,left)) {
      context.trace.report(SENSELESS_COMPARISON.on(expression,expression,operationSign.getReferencedNameElementType() == JetTokens.EXCLEQ));
    }
  }
}
