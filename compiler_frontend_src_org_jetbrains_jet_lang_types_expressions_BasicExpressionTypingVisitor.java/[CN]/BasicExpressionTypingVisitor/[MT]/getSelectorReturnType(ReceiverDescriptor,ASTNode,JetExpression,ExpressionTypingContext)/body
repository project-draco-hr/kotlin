{
  if (selectorExpression instanceof JetCallExpression) {
    return getCallExpressionTypeInfo((JetCallExpression)selectorExpression,receiver,callOperationNode,context).getType();
  }
 else   if (selectorExpression instanceof JetSimpleNameExpression) {
    return getSimpleNameExpressionType((JetSimpleNameExpression)selectorExpression,receiver,callOperationNode,context);
  }
 else   if (selectorExpression instanceof JetQualifiedExpression) {
    JetQualifiedExpression qualifiedExpression=(JetQualifiedExpression)selectorExpression;
    JetExpression newReceiverExpression=qualifiedExpression.getReceiverExpression();
    JetType newReceiverType=getSelectorReturnType(receiver,callOperationNode,newReceiverExpression,context.replaceExpectedType(NO_EXPECTED_TYPE));
    JetExpression newSelectorExpression=qualifiedExpression.getSelectorExpression();
    if (newReceiverType != null && newSelectorExpression != null) {
      return getSelectorReturnType(new ExpressionReceiver(newReceiverExpression,newReceiverType),qualifiedExpression.getOperationTokenNode(),newSelectorExpression,context);
    }
  }
 else {
    context.trace.report(ILLEGAL_SELECTOR.on(selectorExpression,selectorExpression.getText()));
  }
  return null;
}
