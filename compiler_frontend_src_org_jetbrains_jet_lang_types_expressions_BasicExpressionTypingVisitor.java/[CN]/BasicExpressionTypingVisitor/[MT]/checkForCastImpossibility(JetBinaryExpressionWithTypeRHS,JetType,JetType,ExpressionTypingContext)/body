{
  if (actualType == null || targetType == NO_EXPECTED_TYPE)   return;
  JetTypeChecker typeChecker=JetTypeChecker.INSTANCE;
  if (!typeChecker.isSubtypeOf(targetType,actualType)) {
    if (typeChecker.isSubtypeOf(actualType,targetType)) {
      context.trace.report(USELESS_CAST_STATIC_ASSERT_IS_FINE.on(expression.getOperationReference()));
    }
 else {
      context.trace.report(CAST_NEVER_SUCCEEDS.on(expression.getOperationReference()));
    }
  }
 else {
    if (typeChecker.isSubtypeOf(actualType,targetType)) {
      context.trace.report(USELESS_CAST.on(expression.getOperationReference()));
    }
 else {
      if (isCastErased(actualType,targetType,typeChecker)) {
        context.trace.report(Errors.UNCHECKED_CAST.on(expression,actualType,targetType));
      }
    }
  }
}
