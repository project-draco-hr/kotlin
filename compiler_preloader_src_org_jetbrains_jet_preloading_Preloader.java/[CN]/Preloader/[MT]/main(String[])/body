{
  if (args.length < PRELOADER_ARG_COUNT) {
    printUsageAndExit();
  }
  File file=new File(args[0]);
  if (!file.exists()) {
    System.out.println("File does not exist: " + file);
    printUsageAndExit();
  }
  String mainClassCanonicalName=args[1];
  int classNumber;
  try {
    classNumber=Integer.parseInt(args[2]);
  }
 catch (  NumberFormatException e) {
    System.out.println(e.getMessage());
    printUsageAndExit();
    return;
  }
  boolean printTime=parseMeasureTime(args[3]);
  long startTime=System.nanoTime();
  ClassLoader parent=Preloader.class.getClassLoader();
  ClassLoader preloaded=ClassPreloadingUtils.preloadClasses(file,classNumber,parent);
  Class<?> mainClass=preloaded.loadClass(mainClassCanonicalName);
  Method mainMethod=mainClass.getMethod("main",String[].class);
  mainMethod.invoke(0,new Object[]{Arrays.copyOfRange(args,PRELOADER_ARG_COUNT,args.length)});
  if (printTime) {
    long dt=System.nanoTime() - startTime;
    System.out.format("Total time: %.3fs\n",dt / 1e9);
  }
}
