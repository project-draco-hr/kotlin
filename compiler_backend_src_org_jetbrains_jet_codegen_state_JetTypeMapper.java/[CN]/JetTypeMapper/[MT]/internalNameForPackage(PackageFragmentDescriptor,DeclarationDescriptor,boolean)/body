{
  if (insideModule) {
    JetFile file=DescriptorToSourceUtils.getContainingFile(descriptor);
    if (file != null) {
      return PackagePartClassUtils.getPackagePartInternalName(file);
    }
    DeclarationDescriptor descriptorToCheck=descriptor instanceof PropertyAccessorDescriptor ? ((PropertyAccessorDescriptor)descriptor).getCorrespondingProperty() : descriptor;
    if (descriptorToCheck instanceof DeserializedCallableMemberDescriptor) {
      if (descriptor.getContainingDeclaration() instanceof IncrementalPackageFragmentProvider.IncrementalPackageFragment || isContainedByCompiledPartOfOurModule(descriptor)) {
        FqName packagePartFqName=PackagePartClassUtils.getPackagePartFqName((DeserializedCallableMemberDescriptor)descriptorToCheck);
        return AsmUtil.internalNameByFqNameWithoutInnerClasses(packagePartFqName);
      }
    }
  }
  return PackageClassUtils.getPackageClassInternalName(packageFragment.getFqName());
}
