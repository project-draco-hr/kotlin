{
  DeclarationDescriptor containingDeclaration=descriptor.getContainingDeclaration();
  if (containingDeclaration instanceof PackageFragmentDescriptor) {
    return asmTypeForPackage((PackageFragmentDescriptor)containingDeclaration,descriptor,isInsideModule);
  }
 else   if (containingDeclaration instanceof ClassDescriptor) {
    ClassDescriptor classDescriptor=(ClassDescriptor)containingDeclaration;
    return kind == OwnerKind.TRAIT_IMPL ? mapTraitImpl(classDescriptor) : mapClass(classDescriptor);
  }
 else   if (containingDeclaration instanceof ScriptDescriptor) {
    return asmTypeForScriptDescriptor(bindingContext,(ScriptDescriptor)containingDeclaration);
  }
 else {
    throw new UnsupportedOperationException("don't know how to generate owner for parent " + containingDeclaration);
  }
}
