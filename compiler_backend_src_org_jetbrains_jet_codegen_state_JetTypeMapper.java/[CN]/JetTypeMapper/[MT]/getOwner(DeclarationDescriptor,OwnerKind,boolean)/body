{
  DeclarationDescriptor containingDeclaration=descriptor.getContainingDeclaration();
  if (containingDeclaration instanceof NamespaceDescriptor) {
    return asmTypeForNamespace((NamespaceDescriptor)containingDeclaration,descriptor,isInsideModule);
  }
 else   if (containingDeclaration instanceof ClassDescriptor) {
    ClassDescriptor classDescriptor=(ClassDescriptor)containingDeclaration;
    if (kind == OwnerKind.TRAIT_IMPL) {
      return mapTraitImpl(classDescriptor);
    }
    return mapType(classDescriptor.getDefaultType(),JetTypeMapperMode.IMPL);
  }
 else   if (containingDeclaration instanceof ScriptDescriptor) {
    return asmTypeForScriptDescriptor(bindingContext,(ScriptDescriptor)containingDeclaration);
  }
 else {
    throw new UnsupportedOperationException("don't know how to generate owner for parent " + containingDeclaration);
  }
}
