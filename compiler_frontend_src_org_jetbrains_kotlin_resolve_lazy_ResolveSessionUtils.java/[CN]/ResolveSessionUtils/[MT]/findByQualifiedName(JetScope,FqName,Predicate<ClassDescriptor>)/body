{
  if (path.isRoot())   return null;
  if (NamePackage.isOneSegmentFQN(path)) {
    Name shortName=path.shortName();
    ClassifierDescriptor classifier=jetScope.getClassifier(shortName);
    if (classifier instanceof ClassDescriptor) {
      ClassDescriptor resultDescriptor=(ClassDescriptor)classifier;
      if (filter.apply(resultDescriptor)) {
        return resultDescriptor;
      }
    }
    return null;
  }
  List<Name> pathSegments=path.pathSegments();
  Name firstName=pathSegments.get(0);
  ClassifierDescriptor classifier=jetScope.getClassifier(firstName);
  if (classifier instanceof ClassDescriptor) {
    return findByQualifiedName(((ClassDescriptor)classifier).getUnsubstitutedInnerClassesScope(),new FqName(path.asString().substring(firstName.asString().length() + 1)),filter);
  }
  return null;
}
