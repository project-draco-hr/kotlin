{
  if (fqName.isRoot())   return Collections.emptyList();
  Collection<ClassDescriptor> classDescriptors=Lists.newArrayList();
  FqName packageFqName=fqName.parent();
  while (true) {
    PackageViewDescriptor packageDescriptor=moduleDescriptor.getPackage(packageFqName);
    if (packageDescriptor != null) {
      FqName classInPackagePath=NamePackage.tail(fqName,packageFqName);
      ClassDescriptor classDescriptor=findByQualifiedName(packageDescriptor.getMemberScope(),classInPackagePath,filter);
      if (classDescriptor != null) {
        classDescriptors.add(classDescriptor);
      }
    }
    if (packageFqName.isRoot()) {
      break;
    }
 else {
      packageFqName=packageFqName.parent();
    }
  }
  return classDescriptors;
}
