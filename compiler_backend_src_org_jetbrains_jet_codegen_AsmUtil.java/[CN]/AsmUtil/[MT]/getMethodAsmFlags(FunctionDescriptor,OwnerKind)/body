{
  boolean isStatic=isStatic(kind);
  boolean isAbstract=isAbstract(functionDescriptor,kind);
  int flags=getCommonCallableFlags(functionDescriptor);
  if (functionDescriptor.getModality() == Modality.FINAL) {
    DeclarationDescriptor containingDeclaration=functionDescriptor.getContainingDeclaration();
    if (!(containingDeclaration instanceof ClassDescriptor) || ((ClassDescriptor)containingDeclaration).getKind() != ClassKind.TRAIT) {
      flags|=ACC_FINAL;
    }
  }
  if (isStatic || kind == OwnerKind.TRAIT_IMPL) {
    flags|=ACC_STATIC;
  }
  if (isAbstract)   flags|=ACC_ABSTRACT;
  return flags;
}
