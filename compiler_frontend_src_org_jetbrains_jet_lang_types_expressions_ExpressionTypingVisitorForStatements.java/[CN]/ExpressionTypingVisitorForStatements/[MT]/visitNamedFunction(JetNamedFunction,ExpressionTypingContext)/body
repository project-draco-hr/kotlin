{
  SimpleFunctionDescriptor functionDescriptor=components.expressionTypingServices.getDescriptorResolver().resolveFunctionDescriptorWithAnnotationArguments(scope.getContainingDeclaration(),scope,function,context.trace,context.dataFlowInfo);
  scope.addFunctionDescriptor(functionDescriptor);
  JetScope functionInnerScope=FunctionDescriptorUtil.getFunctionInnerScope(context.scope,functionDescriptor,context.trace);
  components.expressionTypingServices.checkFunctionReturnType(functionInnerScope,function,functionDescriptor,context.dataFlowInfo,null,context.trace);
  components.expressionTypingServices.resolveValueParameters(function.getValueParameters(),functionDescriptor.getValueParameters(),scope,context.dataFlowInfo,context.trace,true);
  ModifiersChecker.create(context.trace).checkModifiersForLocalDeclaration(function,functionDescriptor);
  return DataFlowUtils.checkStatementType(function,context,context.dataFlowInfo);
}
