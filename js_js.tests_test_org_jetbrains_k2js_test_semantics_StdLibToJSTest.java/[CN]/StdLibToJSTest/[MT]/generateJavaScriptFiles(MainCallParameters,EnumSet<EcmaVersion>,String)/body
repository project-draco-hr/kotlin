{
  List<String> files=Lists.newArrayList();
  File stdlibDir=new File("libraries/stdlib/src");
  assertTrue("Cannot find stdlib source: " + stdlibDir,stdlibDir.exists());
  for (  String file : stdLibFiles) {
    files.add(new File(stdlibDir,file).getPath());
  }
  for (  String libFileName : Config.LIB_FILE_NAMES) {
    System.out.println("Compiling " + libFileName);
    files.add(Config.LIBRARIES_LOCATION + libFileName);
  }
  for (  EcmaVersion version : ecmaVersions) {
    System.out.println("Compiling with version: " + version);
    K2JSCompiler compiler=new K2JSCompiler();
    K2JSCompilerArguments arguments=new K2JSCompilerArguments();
    arguments.outputFile=getOutputFilePath(getTestName(false) + ".compiler.kt",version);
    arguments.sourceFiles=files;
    arguments.verbose=true;
    ExitCode answer=compiler.exec(System.out,arguments);
    assertEquals("Compile failed",ExitCode.OK,answer);
  }
}
