{
  return new KotlinSingleIntentionActionFactory(){
    @Nullable @Override public KotlinQuickFixAction createAction(    @NotNull Diagnostic diagnostic){
      PsiElement element=diagnostic.getPsiElement();
      KtWhenExpression whenExpression=PsiTreeUtil.getParentOfType(element,KtWhenExpression.class,false);
      if (whenExpression == null)       return null;
      return new AddWhenElseBranchFix(whenExpression);
    }
  }
;
}
