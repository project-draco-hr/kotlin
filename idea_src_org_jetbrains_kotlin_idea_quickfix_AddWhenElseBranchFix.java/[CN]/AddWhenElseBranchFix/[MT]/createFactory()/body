{
  return new JetSingleIntentionActionFactory(){
    @Nullable @Override public KotlinQuickFixAction createAction(    @NotNull Diagnostic diagnostic){
      PsiElement element=diagnostic.getPsiElement();
      JetWhenExpression whenExpression=PsiTreeUtil.getParentOfType(element,JetWhenExpression.class,false);
      if (whenExpression == null)       return null;
      return new AddWhenElseBranchFix(whenExpression);
    }
  }
;
}
