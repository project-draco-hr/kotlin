{
  LookupElementPresentation presentation=new LookupElementPresentation();
  List<CompletionProposal> result=new ArrayList<CompletionProposal>();
  if (items != null) {
    for (    LookupElement item : items) {
      item.renderElement(presentation);
      Map<String,String> map=new HashMap<String,String>();
      map.put(CompletionProposal.LOOKUP_STRING,item.getLookupString());
      if (presentation.getItemText() != null) {
        map.put(CompletionProposal.PRESENTATION_ITEM_TEXT,presentation.getItemText());
        map.put(CompletionProposal.PRESENTATION_TEXT_ATTRIBUTES,textAttributes(presentation));
      }
      if (presentation.getTypeText() != null) {
        map.put(CompletionProposal.PRESENTATION_TYPE_TEXT,presentation.getTypeText());
      }
      if (presentation.getTailText() != null) {
        map.put(CompletionProposal.PRESENTATION_TAIL_TEXT,presentation.getTailText());
      }
      result.add(new ExpectedCompletionUtils.CompletionProposal(map));
    }
  }
  return result;
}
