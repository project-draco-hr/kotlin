{
  if (annotation != null) {
    final String currentSuppressedId="\"" + id + "\"";
    String annotationText=annotation.getText();
    if (!annotationText.contains("{")) {
      final PsiNameValuePair[] attributes=annotation.getParameterList().getAttributes();
      if (attributes.length == 1) {
        final String suppressedWarnings=attributes[0].getText();
        if (suppressedWarnings.contains(currentSuppressedId))         return null;
        return JavaPsiFacade.getInstance(project).getElementFactory().createAnnotationFromText("@" + FQCN_SUPPRESS_LINT + "({"+ suppressedWarnings+ ", "+ currentSuppressedId+ "})",container);
      }
    }
 else {
      final int curlyBraceIndex=annotationText.lastIndexOf("}");
      if (curlyBraceIndex > 0) {
        final String oldSuppressWarning=annotationText.substring(0,curlyBraceIndex);
        if (oldSuppressWarning.contains(currentSuppressedId))         return null;
        return JavaPsiFacade.getInstance(project).getElementFactory().createAnnotationFromText(oldSuppressWarning + ", " + currentSuppressedId+ "})",container);
      }
    }
  }
 else {
    return JavaPsiFacade.getInstance(project).getElementFactory().createAnnotationFromText("@" + FQCN_SUPPRESS_LINT + "(\""+ id+ "\")",container);
  }
  return null;
}
