{
  IElementType type=getExpression().getReferencedNameElementType();
  Project project=getExpression().getProject();
  PsiElement element;
  if (JetTokens.FIELD_IDENTIFIER == type) {
    element=JetPsiFactory.createFieldIdentifier(project,newElementName);
  }
 else   if (JetTokens.LABEL_IDENTIFIER == type) {
    element=JetPsiFactory.createClassLabel(project,newElementName);
  }
 else {
    element=JetPsiFactory.createNameIdentifier(project,newElementName);
  }
  return getExpression().getReferencedNameElement().replace(element);
}
