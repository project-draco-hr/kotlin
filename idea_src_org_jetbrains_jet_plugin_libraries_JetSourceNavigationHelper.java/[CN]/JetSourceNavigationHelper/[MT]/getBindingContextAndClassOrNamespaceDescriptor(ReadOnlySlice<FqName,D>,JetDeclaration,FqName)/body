{
  if (fqName == null || DumbService.isDumb(declaration.getProject())) {
    return null;
  }
  final Project project=declaration.getProject();
  final List<JetFile> libraryFiles=findAllSourceFilesWhichContainIdentifier(declaration);
  BindingContext bindingContext=AnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(project,libraryFiles,Predicates.<PsiFile>alwaysTrue(),JetControlFlowDataTraceFactory.EMPTY,CompilerDependencies.compilerDependenciesForProduction(CompilerSpecialMode.REGULAR)).getBindingContext();
  D descriptor=bindingContext.get(slice,fqName);
  if (descriptor != null) {
    return new Tuple2<BindingContext,D>(bindingContext,descriptor);
  }
  return null;
}
