{
  final List<JetFile> libraryFiles=new ArrayList<JetFile>();
  VfsUtil.processFilesRecursively(sourceDir,new Processor<VirtualFile>(){
    @Override public boolean process(    VirtualFile virtualFile){
      if (virtualFile.getFileType() == JetFileType.INSTANCE) {
        libraryFiles.add((JetFile)PsiManager.getInstance(project).findFile(virtualFile));
      }
      return true;
    }
  }
);
  return AnalyzingUtils.analyzeFiles(project,ModuleConfiguration.EMPTY,libraryFiles,Predicates.<PsiFile>alwaysTrue(),JetControlFlowDataTraceFactory.EMPTY);
}
