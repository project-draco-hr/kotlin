{
  String entityName=decompiledDeclaration.getName();
  if (entityName == null) {
    return null;
  }
  Name entityNameAsName=Name.identifier(entityName);
  PsiElement declarationContainer=decompiledDeclaration.getParent();
  if (declarationContainer instanceof JetFile) {
    Tuple2<BindingContext,NamespaceDescriptor> bindingContextAndNamespaceDescriptor=getBindingContextAndNamespaceDescriptor(decompiledDeclaration);
    if (bindingContextAndNamespaceDescriptor == null)     return null;
    BindingContext bindingContext=bindingContextAndNamespaceDescriptor._1;
    NamespaceDescriptor namespaceDescriptor=bindingContextAndNamespaceDescriptor._2;
    if (receiverType == null) {
      for (      Descr candidate : matcher.getCandidatesFromScope(namespaceDescriptor.getMemberScope(),entityNameAsName)) {
        if (candidate.getReceiverParameter() == ReceiverDescriptor.NO_RECEIVER) {
          if (matcher.areSame(decompiledDeclaration,candidate)) {
            return (JetDeclaration)BindingContextUtils.descriptorToDeclaration(bindingContext,candidate);
          }
        }
      }
    }
 else {
      String expectedTypeString=receiverType.getText();
      for (      Descr candidate : matcher.getCandidatesFromScope(namespaceDescriptor.getMemberScope(),entityNameAsName)) {
        if (candidate.getReceiverParameter() != ReceiverDescriptor.NO_RECEIVER) {
          String thisReceiverType=DescriptorRenderer.TEXT.renderType(candidate.getReceiverParameter().getType());
          if (expectedTypeString.equals(thisReceiverType)) {
            if (matcher.areSame(decompiledDeclaration,candidate)) {
              return (JetDeclaration)BindingContextUtils.descriptorToDeclaration(bindingContext,candidate);
            }
          }
        }
      }
    }
  }
 else   if (declarationContainer instanceof JetClassBody) {
    JetClassOrObject parent=(JetClassOrObject)declarationContainer.getParent();
    boolean isClassObject=parent instanceof JetObjectDeclaration;
    JetClass jetClass=isClassObject ? PsiTreeUtil.getParentOfType(parent,JetClass.class) : (JetClass)parent;
    if (jetClass == null) {
      return null;
    }
    Tuple2<BindingContext,ClassDescriptor> bindingContextAndClassDescriptor=getBindingContextAndClassDescriptor(jetClass);
    if (bindingContextAndClassDescriptor != null) {
      BindingContext bindingContext=bindingContextAndClassDescriptor._1;
      ClassDescriptor classDescriptor=bindingContextAndClassDescriptor._2;
      JetScope memberScope=classDescriptor.getDefaultType().getMemberScope();
      if (isClassObject) {
        JetType classObjectType=classDescriptor.getClassObjectType();
        if (classObjectType == null) {
          return null;
        }
        memberScope=classObjectType.getMemberScope();
      }
      ClassDescriptor expectedContainer=isClassObject ? classDescriptor.getClassObjectDescriptor() : classDescriptor;
      for (      Descr candidate : matcher.getCandidatesFromScope(memberScope,entityNameAsName)) {
        if (candidate.getContainingDeclaration() == expectedContainer) {
          JetDeclaration property=(JetDeclaration)BindingContextUtils.descriptorToDeclaration(bindingContext,candidate);
          if (property != null) {
            return property;
          }
        }
      }
    }
  }
  return null;
}
