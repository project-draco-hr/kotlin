{
  List<VirtualFile> allSourceDirs=new ArrayList<VirtualFile>();
  VirtualFile decompiledFile=psiElement.getContainingFile().getVirtualFile();
  if (decompiledFile != null) {
    ProjectFileIndex projectFileIndex=ProjectFileIndex.SERVICE.getInstance(psiElement.getProject());
    List<OrderEntry> orderEntries=projectFileIndex.getOrderEntriesForFile(decompiledFile);
    for (    OrderEntry orderEntry : orderEntries) {
      Collections.addAll(allSourceDirs,orderEntry.getFiles(OrderRootType.SOURCES));
    }
  }
  return allSourceDirs;
}
