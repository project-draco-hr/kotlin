{
  DeclarationDescriptor descriptor=type.getConstructor().getDeclarationDescriptor();
  if (!(descriptor instanceof ClassDescriptor))   return null;
  FqNameUnsafe fqName=DescriptorUtils.getFqName(descriptor);
  PrimitiveType primitiveType=KotlinBuiltIns.getPrimitiveTypeByFqName(fqName);
  if (primitiveType != null) {
    Type asmType=Type.getType(JvmPrimitiveType.get(primitiveType).getDesc());
    boolean isNullableInJava=TypeUtils.isNullableType(type) || TypeEnhancementKt.hasEnhancedNullability(type);
    return isNullableInJava ? boxType(asmType) : asmType;
  }
  PrimitiveType arrayElementType=KotlinBuiltIns.getPrimitiveTypeByArrayClassFqName(fqName);
  if (arrayElementType != null) {
    return Type.getType("[" + JvmPrimitiveType.get(arrayElementType).getDesc());
  }
  ClassId classId=JavaToKotlinClassMap.INSTANCE.mapKotlinToJava(fqName);
  if (classId != null) {
    return Type.getObjectType(JvmClassName.byClassId(classId).getInternalName());
  }
  return null;
}
