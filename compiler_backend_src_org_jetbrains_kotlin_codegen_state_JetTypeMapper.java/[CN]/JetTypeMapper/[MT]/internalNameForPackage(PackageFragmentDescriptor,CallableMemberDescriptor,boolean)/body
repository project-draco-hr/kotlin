{
  if (insideModule) {
    JetFile file=DescriptorToSourceUtils.getContainingFile(descriptor);
    if (file != null) {
      return PackagePartClassUtils.getPackagePartInternalName(file);
    }
    CallableMemberDescriptor directMember=getDirectMember(descriptor);
    if (directMember instanceof DeserializedCallableMemberDescriptor) {
      FqName packagePartFqName=PackagePartClassUtils.getPackagePartFqName((DeserializedCallableMemberDescriptor)directMember);
      return internalNameByFqNameWithoutInnerClasses(packagePartFqName);
    }
  }
  return PackageClassUtils.getPackageClassInternalName(packageFragment.getFqName());
}
