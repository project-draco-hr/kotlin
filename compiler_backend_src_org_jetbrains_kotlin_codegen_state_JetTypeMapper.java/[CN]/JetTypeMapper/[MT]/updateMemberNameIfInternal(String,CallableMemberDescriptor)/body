{
  if (descriptor.getContainingDeclaration() instanceof ScriptDescriptor) {
    return name;
  }
  if (DescriptorUtils.isTopLevelDeclaration(descriptor)) {
    return name;
  }
  if (!(descriptor instanceof ConstructorDescriptor) && descriptor.getVisibility() == Visibilities.INTERNAL) {
    return name + "$" + JvmAbi.sanitizeAsJavaIdentifier(moduleName);
  }
  return name;
}
