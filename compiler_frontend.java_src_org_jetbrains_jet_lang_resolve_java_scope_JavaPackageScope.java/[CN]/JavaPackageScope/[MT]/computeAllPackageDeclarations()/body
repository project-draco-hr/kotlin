{
  Collection<DeclarationDescriptor> result=Sets.newHashSet();
  for (  JavaPackage subPackage : javaPackage.getSubPackages()) {
    NamespaceDescriptor childNs=javaDescriptorResolver.resolveNamespace(subPackage.getFqName(),IGNORE_KOTLIN_SOURCES);
    if (childNs != null) {
      result.add(childNs);
    }
  }
  for (  JavaClass javaClass : DescriptorResolverUtils.filterDuplicateClasses(javaPackage.getClasses())) {
    if (DescriptorResolverUtils.isCompiledKotlinPackageClass(javaClass.getPsi()))     continue;
    if (isKotlinLightClass(javaClass))     continue;
    if (!javaClass.getPsi().hasModifierProperty(PsiModifier.PUBLIC))     continue;
    ProgressIndicatorProvider.checkCanceled();
    FqName fqName=javaClass.getFqName();
    if (fqName == null)     continue;
    ClassDescriptor classDescriptor=javaDescriptorResolver.resolveClass(fqName,IGNORE_KOTLIN_SOURCES);
    if (classDescriptor != null) {
      result.add(classDescriptor);
    }
    NamespaceDescriptor namespace=javaDescriptorResolver.resolveNamespace(fqName,IGNORE_KOTLIN_SOURCES);
    if (namespace != null) {
      result.add(namespace);
    }
  }
  return result;
}
