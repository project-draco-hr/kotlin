{
  return new JetIntentionActionFactory(){
    @Nullable @Override public IntentionAction createAction(    Diagnostic diagnostic){
      JetForExpression forExpr=QuickFixUtil.getParentElementOfType(diagnostic,JetForExpression.class);
      if (forExpr == null)       return null;
      JetExpression iterableExpr=forExpr.getLoopRange();
      if (iterableExpr == null)       return null;
      JetExpression variableExpr=forExpr.getLoopParameter();
      if (variableExpr == null)       return null;
      TypeOrExpressionThereof iterableType=new TypeOrExpressionThereof(iterableExpr);
      TypeOrExpressionThereof returnType=new TypeOrExpressionThereof(variableExpr,false);
      return new CreateMethodFromUsageFix(forExpr,iterableType,"next",returnType,new ArrayList<Parameter>());
    }
  }
;
}
