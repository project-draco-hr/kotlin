{
  StringBuilder sb=new StringBuilder();
  sb.append('[');
  for (Iterator<Instruction> iterator=instructions.iterator(); iterator.hasNext(); ) {
    Instruction instruction=iterator.next();
    String instructionText=instruction.toString();
    String[] parts=instructionText.split("\n");
    if (parts.length > 1) {
      StringBuilder instructionSb=new StringBuilder();
      for (      String part : parts) {
        instructionSb.append(part.trim()).append(' ');
      }
      if (instructionSb.toString().length() > 30) {
        sb.append(instructionSb.substring(0,28)).append("..)");
      }
 else {
        sb.append(instructionSb);
      }
    }
 else {
      sb.append(instruction);
    }
    if (iterator.hasNext()) {
      sb.append(", ");
    }
  }
  sb.append(']');
  return sb.toString();
}
