{
  int remappedIndex;
  if (index < allParamsSize) {
    ParameterInfo info=params.get(index);
    remappedIndex=remapIndex[index];
    if (info.isSkipped || remappedIndex == -1) {
      throw new RuntimeException("Trying to access skipped parameter: " + info.type + " at "+ index);
    }
    if (info.isRemapped()) {
      return remappedIndex;
    }
  }
 else {
    remappedIndex=actualParamsSize - params.totalSize() + index;
  }
  if (parent == null) {
    return remappedIndex;
  }
  return parent.doRemap(remappedIndex);
}
