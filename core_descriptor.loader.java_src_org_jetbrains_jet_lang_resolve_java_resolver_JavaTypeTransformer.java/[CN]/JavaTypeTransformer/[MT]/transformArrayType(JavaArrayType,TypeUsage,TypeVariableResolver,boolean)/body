{
  JavaType componentType=arrayType.getComponentType();
  if (componentType instanceof JavaPrimitiveType) {
    JetType jetType=JavaToKotlinClassMap.getInstance().mapPrimitiveKotlinClass("[" + ((JavaPrimitiveType)componentType).getCanonicalText());
    if (jetType != null) {
      return TypeUtils.makeNullable(jetType);
    }
  }
  Variance projectionKind=arrayElementTypeProjectionKind(howThisTypeIsUsed,vararg);
  TypeUsage howArgumentTypeIsUsed=vararg ? MEMBER_SIGNATURE_CONTRAVARIANT : TYPE_ARGUMENT;
  JetType type=transformToType(componentType,howArgumentTypeIsUsed,typeVariableResolver);
  return TypeUtils.makeNullable(KotlinBuiltIns.getInstance().getArrayType(projectionKind,type));
}
