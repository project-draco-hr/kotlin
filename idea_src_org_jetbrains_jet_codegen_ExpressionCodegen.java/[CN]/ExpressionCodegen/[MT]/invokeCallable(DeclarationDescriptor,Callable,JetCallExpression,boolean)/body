{
  if (callable instanceof CallableMethod) {
    final CallableMethod callableMethod=(CallableMethod)callable;
    invokeMethodWithArguments(callableMethod,expression,haveReceiver);
    final Type callReturnType=callableMethod.getSignature().getReturnType();
    return returnValueAsStackValue((FunctionDescriptor)fd,callReturnType);
  }
 else {
    IntrinsicMethod intrinsic=(IntrinsicMethod)callable;
    List<JetExpression> args=new ArrayList<JetExpression>();
    for (    JetValueArgument argument : expression.getValueArguments()) {
      args.add(argument.getArgumentExpression());
    }
    return intrinsic.generate(this,v,expressionType(expression),expression,args,haveReceiver);
  }
}
