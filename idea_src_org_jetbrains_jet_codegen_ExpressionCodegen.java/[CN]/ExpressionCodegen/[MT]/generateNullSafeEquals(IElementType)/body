{
  v.dup2();
  Label rightNull=new Label();
  v.ifnull(rightNull);
  Label leftNull=new Label();
  v.ifnull(leftNull);
  v.invokevirtual(CLASS_OBJECT,"equals","(Ljava/lang/Object;)Z");
  Label end=new Label();
  v.goTo(end);
  v.mark(rightNull);
  Label bothNull=new Label();
  v.ifnull(bothNull);
  v.mark(leftNull);
  v.pop2();
  v.aconst(Boolean.FALSE);
  v.goTo(end);
  v.mark(bothNull);
  v.pop2();
  v.aconst(Boolean.TRUE);
  v.mark(end);
  final StackValue onStack=StackValue.onStack(Type.BOOLEAN_TYPE);
  if (opToken == JetTokens.EXCLEQ) {
    return StackValue.not(onStack);
  }
  return onStack;
}
