{
  final JetParameter loopParameter=expression.getLoopParameter();
  final VariableDescriptor parameterDescriptor=bindingContext.getParameterDescriptor(loopParameter);
  JetType paramType=parameterDescriptor.getOutType();
  Type asmParamType=typeMapper.mapType(paramType);
  int lengthVar=myMap.enterTemp();
  gen(expression.getLoopRange(),loopRangeType);
  v.arraylength();
  v.store(lengthVar,Type.INT_TYPE);
  int indexVar=myMap.enterTemp();
  v.aconst(0);
  v.store(indexVar,Type.INT_TYPE);
  myMap.enter(parameterDescriptor,asmParamType.getSize());
  Label condition=new Label();
  Label increment=new Label();
  Label end=new Label();
  v.mark(condition);
  myContinueTargets.push(increment);
  myBreakTargets.push(end);
  v.load(indexVar,Type.INT_TYPE);
  v.load(lengthVar,Type.INT_TYPE);
  v.ificmpge(end);
  gen(expression.getLoopRange(),loopRangeType);
  v.load(indexVar,Type.INT_TYPE);
  v.aload(loopRangeType.getElementType());
  StackValue.onStack(loopRangeType.getElementType()).put(asmParamType,v);
  v.store(myMap.getIndex(parameterDescriptor),asmParamType);
  gen(expression.getBody(),Type.VOID_TYPE);
  v.mark(increment);
  v.iinc(indexVar,1);
  v.goTo(condition);
  v.mark(end);
  final int paramIndex=myMap.leave(parameterDescriptor);
  v.visitLocalVariable(loopParameter.getName(),asmParamType.getDescriptor(),null,condition,end,paramIndex);
  myMap.leaveTemp();
  myMap.leaveTemp();
  myBreakTargets.pop();
  myContinueTargets.pop();
}
