{
  if (thisExpression != null) {
    myStack.push(thisExpression);
    return;
  }
  if (contextKind != OwnerKind.NAMESPACE) {
    ClassDescriptor contextClass=(ClassDescriptor)contextType;
    final Type thisType=typeMapper.jvmType(contextClass,contextKind);
    if (contextKind == OwnerKind.IMPLEMENTATION) {
      myStack.push(StackValue.local(0,thisType));
      return;
    }
 else     if (contextKind == OwnerKind.DELEGATING_IMPLEMENTATION) {
      v.load(0,thisType);
      myStack.push(StackValue.field(JetTypeMapper.jetInterfaceType(contextClass),thisType.getInternalName(),"$this",false));
      return;
    }
  }
  throw new UnsupportedOperationException("'this' expression is not defined in the context");
}
