{
  final JetExpression loopRange=expression.getLoopRange();
  Type loopRangeType=expressionType(loopRange);
  if (loopRangeType.getSort() == Type.ARRAY) {
    generateForInArray(expression,loopRangeType);
  }
 else {
    throw new UnsupportedOperationException("for/in loop currently only supported for arrays");
  }
}
