{
  JetType returnType=op.getUnsubstitutedReturnType();
  if (returnType.equals(stdlib.getIntType())) {
    gen(expression.getLeft(),Type.INT_TYPE);
    gen(expression.getRight(),Type.INT_TYPE);
    v.visitInsn(Type.INT_TYPE.getOpcode(opcode));
    myStack.push(StackValue.onStack(Type.INT_TYPE));
  }
 else {
    throw new UnsupportedOperationException("Don't know how to generate binary op with return type " + returnType);
  }
}
