{
  List<VersionedLibrary> libraries=Lists.newArrayList();
  for (  Module module : ModuleManager.getInstance(project).getModules()) {
    ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(module);
    for (    OrderEntry entry : moduleRootManager.getOrderEntries()) {
      if (entry instanceof LibraryOrderEntry) {
        LibraryOrderEntry libraryOrderEntry=(LibraryOrderEntry)entry;
        Library library=libraryOrderEntry.getLibrary();
        if (library == null) {
          continue;
        }
        LibraryVersionProperties javaRuntimeProperties=LibraryPresentationProviderUtil.getLibraryProperties(JavaRuntimePresentationProvider.getInstance(),library);
        if (javaRuntimeProperties != null) {
          libraries.add(new VersionedLibrary(library,javaRuntimeProperties.getVersionString()));
        }
      }
    }
  }
  return libraries;
}
