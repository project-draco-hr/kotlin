{
  if (fragmentProviders.contains(provider)) {
    LOG.error("Trying to add already present fragment provider: " + provider);
  }
  List<PackageFragmentProvider> providers=prioritizedFragmentProviders.get(dependencyKind);
  if (providers == null) {
    providers=new ArrayList<PackageFragmentProvider>(1);
    prioritizedFragmentProviders.put(dependencyKind,providers);
  }
  providers.add(provider);
  buildProvidersList();
}
