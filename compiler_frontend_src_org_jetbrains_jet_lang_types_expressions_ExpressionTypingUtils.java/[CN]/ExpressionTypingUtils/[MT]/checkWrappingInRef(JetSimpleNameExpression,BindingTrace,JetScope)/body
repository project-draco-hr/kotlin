{
  VariableDescriptor variable=BindingContextUtils.extractVariableDescriptorIfAny(trace.getBindingContext(),expression,true);
  if (variable != null) {
    DeclarationDescriptor containingDeclaration=variable.getContainingDeclaration();
    if (scope.getContainingDeclaration() != containingDeclaration && containingDeclaration instanceof CallableDescriptor) {
      trace.record(CAPTURED_IN_CLOSURE,variable);
    }
  }
}
