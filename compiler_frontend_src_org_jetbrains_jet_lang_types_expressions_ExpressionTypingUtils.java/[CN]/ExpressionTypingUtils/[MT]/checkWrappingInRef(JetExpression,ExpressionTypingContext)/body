{
  if (!(expression instanceof JetSimpleNameExpression))   return;
  JetSimpleNameExpression simpleName=(JetSimpleNameExpression)expression;
  VariableDescriptor variable=DataFlowValueFactory.getVariableDescriptorFromSimpleName(context.trace.getBindingContext(),simpleName);
  if (variable != null) {
    DeclarationDescriptor containingDeclaration=variable.getContainingDeclaration();
    if (context.scope.getContainingDeclaration() != containingDeclaration && containingDeclaration instanceof CallableDescriptor) {
      context.trace.record(MUST_BE_WRAPPED_IN_A_REF,variable);
    }
  }
}
