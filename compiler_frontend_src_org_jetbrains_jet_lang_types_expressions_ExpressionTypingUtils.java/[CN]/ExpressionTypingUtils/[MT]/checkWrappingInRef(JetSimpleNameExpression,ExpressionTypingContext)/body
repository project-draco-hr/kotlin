{
  VariableDescriptor variable=BindingContextUtils.extractVariableDescriptorIfAny(context.trace.getBindingContext(),expression,true);
  if (variable != null) {
    DeclarationDescriptor containingDeclaration=variable.getContainingDeclaration();
    if (context.scope.getContainingDeclaration() != containingDeclaration && containingDeclaration instanceof CallableDescriptor) {
      context.trace.record(CAPTURED_IN_CLOSURE,variable);
    }
  }
}
