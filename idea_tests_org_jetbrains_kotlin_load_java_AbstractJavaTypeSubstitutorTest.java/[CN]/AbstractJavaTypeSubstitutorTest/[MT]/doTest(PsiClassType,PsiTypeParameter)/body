{
  PsiType expectedType=type.resolveGenerics().getSubstitutor().substitute(typeParameter);
  JavaClassifierTypeImpl javaClassifierType=(JavaClassifierTypeImpl)JavaTypeImpl.create(type);
  JavaTypeParameterImpl javaTypeToSubstitute=new JavaTypeParameterImpl(typeParameter);
  JavaType actualType=javaClassifierType.getSubstitutor().substitute(javaTypeToSubstitute);
  if (actualType == null) {
    assertEquals(expectedType,null);
  }
 else {
    assertEquals(expectedType,((JavaTypeImpl)actualType).getPsi());
  }
}
