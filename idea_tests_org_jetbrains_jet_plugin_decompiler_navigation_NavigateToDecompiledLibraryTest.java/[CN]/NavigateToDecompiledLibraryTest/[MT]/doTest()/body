{
  classFile=getClassFile(PACKAGE,getTestName(false),myModule);
  PsiFile clsFileForClassFile=PsiManager.getInstance(getProject()).findFile(classFile);
  assertNotNull(clsFileForClassFile);
  assertTrue("Expecting kotlin class file, was: " + clsFileForClassFile.getClass(),clsFileForClassFile instanceof JetClsFile);
  PsiFile decompiledPsiFile=((ClsFileImpl)clsFileForClassFile).getDecompiledPsiFile();
  assertNotNull(decompiledPsiFile);
  assertTrue("Expecting decompiled Kotlin file, was: " + decompiledPsiFile.getClass(),decompiledPsiFile instanceof JetFile);
  Map<String,JetDeclaration> map=getRenderedDescriptorToKotlinPsiMap((JetFile)decompiledPsiFile,((JetClsFile)clsFileForClassFile).getRenderedDescriptorsToRange());
  String decompiledTextWithMarks=getDecompiledTextWithMarks(map);
  assertSameLinesWithFile(TEST_DATA_PATH + "/decompiled/" + getTestName(false)+ ".kt",decompiledTextWithMarks);
}
