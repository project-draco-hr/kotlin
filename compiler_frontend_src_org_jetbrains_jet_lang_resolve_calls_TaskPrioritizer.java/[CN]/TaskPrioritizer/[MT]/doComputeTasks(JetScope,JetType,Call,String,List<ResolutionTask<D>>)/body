{
  List<ReceiverDescriptor> receivers=Lists.newArrayList();
  scope.getImplicitReceiversHierarchy(receivers);
  if (receiverType != null) {
    Collection<D> extensionFunctions=getExtensionsByName(scope,name);
    List<D> nonlocals=Lists.newArrayList();
    List<D> locals=Lists.newArrayList();
    TaskPrioritizer.<D>splitLexicallyLocalDescriptors(extensionFunctions,scope.getContainingDeclaration(),locals,nonlocals);
    Collection<D> members=getMembersByName(receiverType,name);
    addTask(result,receiverType,call,locals);
    addTask(result,null,call,members);
    for (    ReceiverDescriptor receiver : receivers) {
      Collection<D> memberExtensions=getExtensionsByName(receiver.getReceiverType().getMemberScope(),name);
      addTask(result,receiverType,call,memberExtensions);
    }
    addTask(result,receiverType,call,nonlocals);
  }
 else {
    Collection<D> functions=getNonExtensionsByName(scope,name);
    List<D> nonlocals=Lists.newArrayList();
    List<D> locals=Lists.newArrayList();
    TaskPrioritizer.<D>splitLexicallyLocalDescriptors(functions,scope.getContainingDeclaration(),locals,nonlocals);
    addTask(result,receiverType,call,locals);
    for (    ReceiverDescriptor receiver : receivers) {
      doComputeTasks(scope,receiver.getReceiverType(),call,name,result);
    }
    addTask(result,receiverType,call,nonlocals);
  }
}
