{
  List<ReceiverDescriptor> implicitReceivers=Lists.newArrayList();
  scope.getImplicitReceiversHierarchy(implicitReceivers);
  if (receiver != ReceiverDescriptor.NO_RECEIVER) {
    Collection<D> extensionFunctions=getExtensionsByName(scope,name);
    List<D> nonlocals=Lists.newArrayList();
    List<D> locals=Lists.newArrayList();
    TaskPrioritizer.<D>splitLexicallyLocalDescriptors(extensionFunctions,scope.getContainingDeclaration(),locals,nonlocals);
    Collection<D> members=getMembersByName(receiver,name);
    addTask(result,receiver,call,locals);
    addTask(result,ReceiverDescriptor.NO_RECEIVER,call,members);
    for (    ReceiverDescriptor implicitReceiver : implicitReceivers) {
      Collection<D> memberExtensions=getExtensionsByName(implicitReceiver.getType().getMemberScope(),name);
      addTask(result,receiver,call,memberExtensions);
    }
    addTask(result,receiver,call,nonlocals);
  }
 else {
    Collection<D> functions=getNonExtensionsByName(scope,name);
    List<D> nonlocals=Lists.newArrayList();
    List<D> locals=Lists.newArrayList();
    TaskPrioritizer.<D>splitLexicallyLocalDescriptors(functions,scope.getContainingDeclaration(),locals,nonlocals);
    addTask(result,receiver,call,locals);
    for (    ReceiverDescriptor implicitReceiver : implicitReceivers) {
      doComputeTasks(scope,implicitReceiver,call,name,result);
    }
    addTask(result,receiver,call,nonlocals);
  }
}
