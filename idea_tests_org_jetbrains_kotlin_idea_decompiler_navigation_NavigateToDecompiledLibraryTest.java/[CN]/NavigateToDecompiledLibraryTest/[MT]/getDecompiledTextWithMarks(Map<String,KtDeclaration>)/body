{
  String decompiledText=getDecompiledText();
  int[] openings=new int[decompiledText.length() + 1];
  int[] closings=new int[decompiledText.length() + 1];
  for (  KtDeclaration ktDeclaration : map.values()) {
    TextRange textRange=ktDeclaration.getTextRange();
    openings[textRange.getStartOffset()]++;
    closings[textRange.getEndOffset()]++;
  }
  StringBuilder result=new StringBuilder();
  for (int i=0; i <= decompiledText.length(); i++) {
    result.append(StringUtil.repeat("]",closings[i]));
    result.append(StringUtil.repeat("[",openings[i]));
    if (i < decompiledText.length()) {
      result.append(decompiledText.charAt(i));
    }
  }
  return result.toString();
}
