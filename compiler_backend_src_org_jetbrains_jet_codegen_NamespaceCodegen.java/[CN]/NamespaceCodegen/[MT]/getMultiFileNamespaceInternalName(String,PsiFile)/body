{
  String name=FileUtil.toSystemDependentName(file.getName());
  int substringFrom=name.lastIndexOf(File.separator) + 1;
  int substringTo=name.lastIndexOf('.');
  if (substringTo == -1) {
    substringTo=name.length();
  }
  int pathHashCode=FileUtil.toSystemDependentName(file.getVirtualFile().getCanonicalPath()).hashCode();
  return namespaceInternalName + "$src$" + name.substring(substringFrom,substringTo)+ "$"+ pathHashCode;
}
