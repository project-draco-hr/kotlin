{
  String name=FileUtil.toSystemDependentName(file.getName());
  int substringFrom=name.lastIndexOf(File.separator) + 1;
  int substringTo=name.lastIndexOf('.');
  if (substringTo == -1) {
    substringTo=name.length();
  }
  String pathHashCode=Integer.toHexString(FileUtil.toSystemDependentName(file.getVirtualFile().getPath()).hashCode());
  return namespaceInternalName + "$src$" + replaceSpecialSymbols(name.substring(substringFrom,substringTo))+ "$"+ pathHashCode;
}
