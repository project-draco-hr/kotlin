{
  final FileIndexFacade instance=FileIndexFacade.getInstance(environment.getProject());
  VirtualFile jetObject=environment.getLocalFileSystem().findFileByPath(KotlinCompiler.class.getClassLoader().getResource("jet/JetObject.class").getPath());
  instance.isInLibraryClasses(jetObject);
  CompileSession moduleCompileSession=new CompileSession(environment);
  moduleCompileSession.addSources(moduleFile);
  URL url=KotlinCompiler.class.getClassLoader().getResource("ModuleBuilder.kt");
  if (url != null) {
  }
 else {
    final String homeDirectory=getHomeDirectory();
    final File file=new File(homeDirectory,"stdlib/ktSrc/ModuleBuilder.kt");
    moduleCompileSession.addSources(environment.getLocalFileSystem().findFileByPath(file.getPath()));
  }
  if (!moduleCompileSession.analyze()) {
    return;
  }
  final ClassFileFactory factory=moduleCompileSession.generate();
}
