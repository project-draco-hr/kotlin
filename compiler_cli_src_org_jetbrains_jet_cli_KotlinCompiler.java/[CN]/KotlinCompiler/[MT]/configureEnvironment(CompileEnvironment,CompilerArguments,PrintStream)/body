{
  environment.setIgnoreErrors(false);
  environment.setErrorStream(errStream);
  List<CompilerPlugin> plugins=arguments.getCompilerPlugins();
  if (plugins != null) {
    environment.getEnvironment().getCompilerPlugins().addAll(plugins);
  }
  if (environment.getCompilerDependencies().getRuntimeJar() != null) {
    environment.addToClasspath(environment.getCompilerDependencies().getRuntimeJar());
  }
  if (arguments.classpath != null) {
    final Iterable<String> classpath=Splitter.on(File.pathSeparatorChar).split(arguments.classpath);
    environment.addToClasspath(Iterables.toArray(classpath,String.class));
  }
}
