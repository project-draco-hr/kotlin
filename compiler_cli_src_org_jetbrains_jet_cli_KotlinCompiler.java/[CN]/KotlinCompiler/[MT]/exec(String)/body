{
  System.setProperty("java.awt.headless","true");
  Arguments arguments=new Arguments();
  try {
    Args.parse(arguments,args);
  }
 catch (  IllegalArgumentException e) {
    usage(System.err);
    return 1;
  }
catch (  Throwable t) {
    t.printStackTrace();
    return 1;
  }
  if (arguments.help) {
    usage(System.out);
    return 0;
  }
  CompileEnvironment environment=new CompileEnvironment();
  if (arguments.stdlib != null) {
    environment.setStdlib(arguments.stdlib);
  }
  if (arguments.module != null) {
    environment.compileModuleScript(arguments.module,arguments.jar,arguments.includeRuntime);
    return 0;
  }
 else {
    if (!environment.compileBunchOfSources(arguments.src,arguments.jar,arguments.outputDir,arguments.includeRuntime)) {
      return 1;
    }
  }
  return 0;
}
