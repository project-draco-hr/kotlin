{
  String javaHome=System.getenv("JAVA_HOME");
  File rtJar;
  if (javaHome == null) {
    rtJar=CompileEnvironment.findActiveRtJar(false);
    if (rtJar == null) {
      System.out.println("JAVA_HOME environment variable needs to be defined");
      return null;
    }
  }
 else {
    rtJar=findRtJar(javaHome);
  }
  if (rtJar == null || !rtJar.exists()) {
    System.out.print("No rt.jar found under JAVA_HOME=" + javaHome);
    return null;
  }
  return rtJar;
}
