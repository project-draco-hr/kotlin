{
  Map<JavaTypeParameter,JavaType> unerasedMap=type.getSubstitutor().getSubstitutionMap();
  Map<JavaTypeParameter,JavaType> erasedMap=Maps.newHashMapWithExpectedSize(unerasedMap.size());
  for (  Map.Entry<JavaTypeParameter,JavaType> entry : unerasedMap.entrySet()) {
    JavaType value=entry.getValue();
    erasedMap.put(entry.getKey(),value == null ? null : erasure(value));
  }
  return JavaTypeSubstitutorImpl.create(erasedMap);
}
