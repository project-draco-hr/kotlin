{
  JsInvocation throwNPE=new JsInvocation(context.namer().throwNPEFunctionRef());
  JsConditional ensureNotNull=notNullConditional(expression,throwNPE,context);
  JsExpression thenExpression=ensureNotNull.getThenExpression();
  if (thenExpression instanceof JsNameRef) {
    context.associateExpressionToLazyValue(ensureNotNull,new TemporaryConstVariable(((JsNameRef)thenExpression).getName(),ensureNotNull));
  }
  return ensureNotNull;
}
