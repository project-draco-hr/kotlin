{
  Project project=searchScope.getProject();
  if (project == null)   return null;
  StackTraceElement element=parseStackTraceLine(line);
  if (element == null)   return null;
  String fileName=element.getFileName();
  String fullyQualifiedName=element.getClassName();
  int lastDot=fullyQualifiedName.lastIndexOf('.');
  String classNameWithInners=fullyQualifiedName.substring(lastDot + 1);
  if (!classNameWithInners.equals(JvmAbi.PACKAGE_CLASS) && !classNameWithInners.startsWith(JvmAbi.PACKAGE_CLASS + "$")) {
    return null;
  }
  String internalName=fullyQualifiedName.replace('.','/');
  JvmClassName jvmClassName=JvmClassName.byInternalName(internalName);
  JetFile file=DebuggerUtils.findSourceFileForClass(searchScope,jvmClassName,fileName);
  if (file == null)   return null;
  VirtualFile virtualFile=file.getVirtualFile();
  if (virtualFile == null)   return null;
  return new OpenFileHyperlinkInfo(project,virtualFile,element.getLineNumber() - 1);
}
