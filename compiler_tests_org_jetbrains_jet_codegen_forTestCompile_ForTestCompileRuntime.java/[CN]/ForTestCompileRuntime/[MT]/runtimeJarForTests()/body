{
synchronized (ForTestCompileRuntime.class) {
    if (compilationException != null) {
      throw new RuntimeException("runtime compilation failed in previous tests: " + compilationException,compilationException);
    }
    if (runtimeJarFile == null || !runtimeJarFile.exists()) {
      try {
        runtimeJarFile=doCompile();
      }
 catch (      Throwable e) {
        compilationException=e;
        throw new RuntimeException(e);
      }
    }
    return runtimeJarFile;
  }
}
