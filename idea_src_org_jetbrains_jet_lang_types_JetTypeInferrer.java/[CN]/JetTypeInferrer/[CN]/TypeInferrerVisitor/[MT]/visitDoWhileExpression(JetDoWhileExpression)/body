{
  JetExpression body=expression.getBody();
  JetScope conditionScope=context.scope;
  if (body instanceof JetFunctionLiteralExpression) {
    JetFunctionLiteralExpression function=(JetFunctionLiteralExpression)body;
    if (!function.hasParameterSpecification()) {
      WritableScope writableScope=newWritableScopeImpl().setDebugName("do..while body scope");
      conditionScope=writableScope;
      services.getBlockReturnedTypeWithWritableScope(writableScope,function.getBody(),context.dataFlowInfo,context.expectedReturnType);
      context.trace.recordBlock(function);
    }
 else {
      getType(context.scope,body,true);
    }
  }
 else   if (body != null) {
    WritableScope writableScope=newWritableScopeImpl().setDebugName("do..while body scope");
    conditionScope=writableScope;
    services.getBlockReturnedTypeWithWritableScope(writableScope,Collections.singletonList(body),context.dataFlowInfo,context.expectedReturnType);
  }
  JetExpression condition=expression.getCondition();
  checkCondition(conditionScope,condition);
  if (!flowInformationProvider.isBreakable(expression)) {
    resultDataFlowInfo=extractDataFlowInfoFromCondition(condition,false,null);
  }
  result=JetStandardClasses.getUnitType();
}
