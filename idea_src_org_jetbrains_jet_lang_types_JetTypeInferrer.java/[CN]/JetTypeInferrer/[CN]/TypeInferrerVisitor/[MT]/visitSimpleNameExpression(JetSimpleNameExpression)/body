{
  String referencedName=expression.getReferencedName();
  if (referencedName != null) {
    PropertyDescriptor property=scope.getProperty(referencedName);
    if (property != null) {
      trace.recordReferenceResolution(expression,property);
      result=property.getOutType();
      if (result == null) {
        semanticServices.getErrorHandler().genericError(expression.getNode(),"This property is not readable in this context");
      }
      return;
    }
 else {
      NamespaceDescriptor namespace=scope.getNamespace(referencedName);
      if (namespace != null) {
        trace.recordReferenceResolution(expression,namespace);
        result=namespace.getNamespaceType();
        return;
      }
    }
    semanticServices.getErrorHandler().unresolvedReference(expression);
  }
}
