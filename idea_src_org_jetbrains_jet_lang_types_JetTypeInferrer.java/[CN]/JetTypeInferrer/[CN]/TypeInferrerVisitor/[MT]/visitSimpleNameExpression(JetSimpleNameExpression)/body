{
  String referencedName=expression.getReferencedName();
  PropertyDescriptor property=scope.getProperty(referencedName);
  if (property != null) {
    trace.recordReferenceResolution(expression,property);
    result=property.getType();
    return;
  }
 else {
    NamespaceDescriptor namespace=scope.getNamespace(referencedName);
    if (namespace != null) {
      trace.recordReferenceResolution(expression,namespace);
      result=namespace.getNamespaceType();
      return;
    }
  }
  semanticServices.getErrorHandler().unresolvedReference(expression);
}
