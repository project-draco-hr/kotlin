{
  JetScope compositeScope=new ScopeWithReceiver(scope,receiverType,semanticServices.getTypeChecker());
  if (selectorExpression instanceof JetCallExpression) {
    JetCallExpression callExpression=(JetCallExpression)selectorExpression;
    OverloadDomain overloadDomain=getOverloadDomain(compositeScope,callExpression.getCalleeExpression(),callExpression.getValueArgumentList());
    return resolveOverloads(scope,callExpression,overloadDomain);
  }
 else   if (selectorExpression instanceof JetSimpleNameExpression) {
    return getType(compositeScope,selectorExpression,false);
  }
 else   if (selectorExpression != null) {
    trace.getErrorHandler().genericError(selectorExpression.getNode(),"Unsupported selector element type: " + selectorExpression);
  }
  return receiverType;
}
