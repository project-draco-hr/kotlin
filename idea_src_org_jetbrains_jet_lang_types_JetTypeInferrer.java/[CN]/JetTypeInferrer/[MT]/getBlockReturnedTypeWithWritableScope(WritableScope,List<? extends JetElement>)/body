{
  if (block.isEmpty()) {
    return JetStandardClasses.getUnitType();
  }
  TypeInferrerVisitorWithWritableScope blockLevelVisitor=new TypeInferrerVisitorWithWritableScope(scope,true);
  JetType result=null;
  for (  JetElement statement : block) {
    trace.recordStatement(statement);
    JetExpression statementExpression=(JetExpression)statement;
    result=blockLevelVisitor.getType(statementExpression);
    blockLevelVisitor.resetResult();
  }
  return result;
}
