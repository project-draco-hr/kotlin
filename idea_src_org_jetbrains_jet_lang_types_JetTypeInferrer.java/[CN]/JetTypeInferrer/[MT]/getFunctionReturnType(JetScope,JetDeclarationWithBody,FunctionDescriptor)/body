{
  Map<JetElement,JetType> typeMap=collectReturnedExpressions(outerScope,function,functionDescriptor);
  Collection<JetType> types=typeMap.values();
  return types.isEmpty() ? JetStandardClasses.getNothingType() : semanticServices.getTypeChecker().commonSupertype(types);
}
