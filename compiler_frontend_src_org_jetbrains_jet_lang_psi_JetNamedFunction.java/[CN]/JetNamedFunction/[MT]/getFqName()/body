{
  PsiJetFunctionStub stub=getStub();
  if (stub != null) {
    return stub.getTopFQName();
  }
  PsiElement parent=getParent();
  if (parent instanceof JetFile) {
    if (((JetFile)parent).getNamespaceHeader() == null) {
      return null;
    }
    JetFile jetFile=(JetFile)parent;
    FqName fileFQN=JetPsiUtil.getFQName(jetFile);
    Name nameAsName=getNameAsName();
    if (nameAsName != null) {
      return fileFQN.child(nameAsName);
    }
  }
  return null;
}
