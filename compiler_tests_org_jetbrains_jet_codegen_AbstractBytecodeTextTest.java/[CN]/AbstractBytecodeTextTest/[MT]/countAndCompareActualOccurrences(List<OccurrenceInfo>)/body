{
  StringBuilder expected=new StringBuilder();
  StringBuilder actual=new StringBuilder();
  String text=generateToText();
  for (  OccurrenceInfo info : expectedOccurrences) {
    expected.append(info.numberOfOccurrences).append(" ").append(info.needle).append("\n");
    int actualCount=StringUtil.getOccurrenceCount(text,info.needle);
    actual.append(actualCount).append(" ").append(info.needle).append("\n");
  }
  try {
    assertEquals(expected.toString(),actual.toString());
  }
 catch (  Throwable e) {
    System.out.println(text);
    ExceptionUtils.rethrow(e);
  }
}
