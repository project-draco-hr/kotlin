{
  ResolveSessionForBodies resolveSession=KotlinCacheService.OBJECT$.getInstance(getFile().getProject()).getLazyResolveSession((JetFile)getFile());
  ModuleDescriptor module=resolveSession.getModuleDescriptor();
  PackageViewDescriptor packageViewDescriptor=module.getPackage(new FqName("test"));
  Assert.assertNotNull(packageViewDescriptor);
  File fileToCompareTo=new File(FileUtil.getNameWithoutExtension(path) + ".txt");
  RecursiveDescriptorComparator.validateAndCompareDescriptorWithFile(packageViewDescriptor,RecursiveDescriptorComparator.DONT_INCLUDE_METHODS_OF_OBJECT.filterRecursion(new Predicate<DeclarationDescriptor>(){
    @Override public boolean apply(    DeclarationDescriptor descriptor){
      if (descriptor instanceof PackageViewDescriptor) {
        return !KotlinBuiltIns.BUILT_INS_PACKAGE_FQ_NAME.equals(((PackageViewDescriptor)descriptor).getFqName());
      }
      return true;
    }
  }
).checkPrimaryConstructors(checkPrimaryConstructors).checkPropertyAccessors(checkPropertyAccessors).withValidationStrategy(FORBID_ERROR_TYPES),fileToCompareTo);
}
