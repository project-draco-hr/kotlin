{
  this.parameters=parameters;
  this.jetReference=jetReference;
  ResolveSessionForBodies resolveSession=ResolvePackage.getLazyResolveSession((JetFile)position.getContainingFile());
  BindingContext expressionBindingContext=resolveSession.resolveToElement(jetReference.getExpression());
  JetScope scope=expressionBindingContext.get(BindingContext.RESOLUTION_SCOPE,jetReference.getExpression());
  inDescriptor=scope != null ? scope.getContainingDeclaration() : null;
  Condition<DeclarationDescriptor> descriptorFilter=new Condition<DeclarationDescriptor>(){
    @Override public boolean value(    DeclarationDescriptor descriptor){
      return isVisibleDescriptor(descriptor);
    }
  }
;
  result=result.withPrefixMatcher(CompletionUtil.findJavaIdentifierPrefix(parameters));
  result=CompletionPackage.addKotlinSorting(result,parameters);
  this.jetResult=new JetCompletionResultSet(result,resolveSession,expressionBindingContext,descriptorFilter);
}
