{
  if (obj == null || obj.getClass() != getClass()) {
    return false;
  }
  JetLookupObject other=(JetLookupObject)obj;
  if (descriptor != null && other.descriptor != null) {
    if (resolveSession == other.resolveSession) {
      if (descriptor.equals(other.descriptor)) {
        return true;
      }
    }
 else {
      LOG.warn("Descriptors from different resolve sessions");
      String descriptorText=DescriptorRenderer.TEXT.render(descriptor);
      @SuppressWarnings("ConstantConditions") String otherDescriptorText=DescriptorRenderer.TEXT.render(other.descriptor);
      if (descriptorText.equals(otherDescriptorText)) {
        return true;
      }
    }
  }
  if (psiElement != null && psiElement.equals(other.psiElement)) {
    return true;
  }
  return (descriptor == null && other.descriptor == null && psiElement == null && other.psiElement == null);
}
