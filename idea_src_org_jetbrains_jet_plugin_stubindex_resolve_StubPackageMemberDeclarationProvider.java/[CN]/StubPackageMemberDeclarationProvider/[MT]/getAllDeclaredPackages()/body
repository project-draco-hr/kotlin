{
  Collection<String> allPackagesInProject=JetAllPackagesIndex.getInstance().getAllKeys(project);
  return ContainerUtil.mapNotNull(allPackagesInProject,new Function<String,FqName>(){
    @Override public FqName fun(    String packageFqName){
      Collection<JetFile> files=JetAllPackagesIndex.getInstance().get(packageFqName,project,searchScope);
      if (files.isEmpty())       return null;
      return new FqName(packageFqName);
    }
  }
);
}
