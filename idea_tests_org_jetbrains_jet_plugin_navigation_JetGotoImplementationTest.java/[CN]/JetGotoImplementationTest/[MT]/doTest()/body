{
  configureByFile(getTestName(false) + ".kt");
  List<String> expectedReferences=Arrays.asList(InTextDirectivesUtils.findListWithPrefix("// REF:",getEditor().getDocument().getText()));
  GotoTargetHandler.GotoData elements=new GotoImplementationHandler().getSourceAndTargetElements(getEditor(),getFile());
  if (elements != null) {
    List<String> psiElements=Lists.transform(Arrays.asList(elements.targets),new Function<PsiElement,String>(){
      @Override public String apply(      @Nullable PsiElement element){
        assertNotNull(element);
        return element.toString();
      }
    }
);
    assertOrderedEquals(expectedReferences,psiElements);
  }
 else {
    assertEmpty(expectedReferences);
  }
}
