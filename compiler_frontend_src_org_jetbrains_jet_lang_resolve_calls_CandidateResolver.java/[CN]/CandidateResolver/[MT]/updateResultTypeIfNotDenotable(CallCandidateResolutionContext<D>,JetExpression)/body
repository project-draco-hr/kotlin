{
  JetType type=context.trace.get(BindingContext.EXPRESSION_TYPE,expression);
  if (type != null && !type.getConstructor().isDenotable()) {
    if (type.getConstructor() instanceof NumberValueTypeConstructor) {
      NumberValueTypeConstructor constructor=(NumberValueTypeConstructor)type.getConstructor();
      type=ConstantUtils.updateConstantValueType(constructor,context.expectedType,expression,context);
    }
  }
  return type;
}
