{
  JetExpression calleeExpression=context.call.getCalleeExpression();
  if (calleeExpression != null) {
    PsiElement parent=calleeExpression.getParent();
    if (parent instanceof JetCallExpression) {
      JetCallExpression callExpression=(JetCallExpression)parent;
      if (BindingContextUtils.isCallExpressionWithValidReference(callExpression,context.trace.getBindingContext())) {
        CallableDescriptor resultingDescriptor=context.candidateCall.getResultingDescriptor();
        context.trace.record(BindingContext.EXPRESSION_TYPE,callExpression,resultingDescriptor.getReturnType());
        context.trace.record(BindingContext.REFERENCE_TARGET,callExpression,resultingDescriptor);
      }
    }
  }
}
