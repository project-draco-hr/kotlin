{
  JetType type=context.trace.get(BindingContext.EXPRESSION_TYPE,expression);
  if (type != null && !type.getConstructor().isDenotable()) {
    if (type.getConstructor() instanceof NumberValueTypeConstructor) {
      NumberValueTypeConstructor constructor=(NumberValueTypeConstructor)type.getConstructor();
      type=TypeUtils.getPrimitiveNumberType(constructor,context.expectedType);
      BindingContextUtils.updateRecordedType(type,expression,context.trace);
    }
  }
  return type;
}
