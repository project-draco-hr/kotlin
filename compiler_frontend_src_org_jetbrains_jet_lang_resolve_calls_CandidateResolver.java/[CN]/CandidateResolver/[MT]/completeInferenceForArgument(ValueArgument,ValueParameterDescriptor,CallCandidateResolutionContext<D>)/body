{
  JetExpression expression=argument.getArgumentExpression();
  if (expression == null)   return;
  JetType expectedType=getEffectiveExpectedType(parameterDescriptor,argument);
  context=context.replaceExpectedType(expectedType);
  JetExpression keyExpression=getDeferredComputationKeyExpression(expression);
  CallCandidateResolutionContext<?> storedContextForArgument=context.resolutionResultsCache.getDeferredComputation(keyExpression);
  PsiElement parent=expression.getParent();
  if (parent instanceof JetWhenExpression && expression == ((JetWhenExpression)parent).getSubjectExpression() || (expression instanceof JetFunctionLiteralExpression)) {
    return;
  }
  if (storedContextForArgument == null) {
    JetType type=ArgumentTypeResolver.updateResultArgumentTypeIfNotDenotable(context,expression);
    checkResultArgumentType(type,argument,context);
    completeTypeInferenceForAllCandidatesForArgument(context,keyExpression);
    return;
  }
  CallCandidateResolutionContext<?> contextForArgument=storedContextForArgument.replaceContextDependency(INDEPENDENT).replaceBindingTrace(context.trace).replaceExpectedType(expectedType);
  JetType type=completeTypeInferenceDependentOnExpectedTypeForCall(contextForArgument,true);
  JetType recordedType=context.trace.get(BindingContext.EXPRESSION_TYPE,expression);
  if (recordedType != null && !recordedType.getConstructor().isDenotable()) {
    type=ArgumentTypeResolver.updateResultArgumentTypeIfNotDenotable(context,expression);
  }
  JetType result=BindingContextUtils.updateRecordedType(type,expression,context.trace,isFairSafeCallExpression(expression,context.trace));
  completeTypeInferenceForAllCandidatesForArgument(context,keyExpression);
  DataFlowUtils.checkType(result,expression,contextForArgument);
}
