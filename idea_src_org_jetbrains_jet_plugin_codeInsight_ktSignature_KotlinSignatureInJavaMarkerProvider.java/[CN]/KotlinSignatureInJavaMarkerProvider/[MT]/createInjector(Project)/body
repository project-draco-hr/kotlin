{
  KotlinDeclarationsCache declarationsCache=KotlinCacheManager.getInstance(project).getDeclarationsFromProject(TargetPlatform.JVM);
  BindingContext bindingContext=declarationsCache.getBindingContext();
  DelegatingBindingTrace delegatingTrace=new DelegatingBindingTrace(bindingContext,"wrapped context of declarations cache");
  ModuleDescriptorImpl moduleDescriptor=new ModuleDescriptorImpl(Name.special("<fake>"));
  InjectorForJavaDescriptorResolver injector=new InjectorForJavaDescriptorResolver(project,delegatingTrace,moduleDescriptor);
  moduleDescriptor.setModuleConfiguration(injector.getJavaBridgeConfiguration());
  return injector;
}
