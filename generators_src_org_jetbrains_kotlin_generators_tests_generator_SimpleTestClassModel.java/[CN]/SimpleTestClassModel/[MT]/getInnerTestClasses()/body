{
  if (!rootFile.isDirectory() || !recursive) {
    return Collections.emptyList();
  }
  if (innerTestClasses == null) {
    List<TestClassModel> children=Lists.newArrayList();
    File[] files=rootFile.listFiles();
    if (files != null) {
      for (      File file : files) {
        if (file.isDirectory() && dirHasFilesInside(file) && !excludeDirs.contains(file.getName())) {
          String innerTestClassName=TestGeneratorUtil.fileNameToJavaIdentifier(file);
          children.add(new SimpleTestClassModel(file,true,excludeParentDirs,filenamePattern,checkFilenameStartsLowerCase,doTestMethodName,innerTestClassName,targetBackend,excludesStripOneDirectory(file.getName()),withTestRootMethod));
        }
      }
    }
    Collections.sort(children,BY_NAME);
    innerTestClasses=children;
  }
  return innerTestClasses;
}
