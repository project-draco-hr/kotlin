{
  if (e1 == e2)   return true;
  if (e1 == null || e2 == null)   return false;
  if (!(e1.isElse() == e2.isElse() && checkExpressionMatch(e1.getExpression(),e2.getExpression())))   return false;
  JetWhenCondition[] conditions1=e1.getConditions();
  JetWhenCondition[] conditions2=e2.getConditions();
  int n=conditions1.length;
  if (conditions2.length != n)   return false;
  for (int i=0; i < n; i++) {
    if (!checkWhenConditionMatch(conditions1[i],conditions2[i]))     return false;
  }
  return true;
}
