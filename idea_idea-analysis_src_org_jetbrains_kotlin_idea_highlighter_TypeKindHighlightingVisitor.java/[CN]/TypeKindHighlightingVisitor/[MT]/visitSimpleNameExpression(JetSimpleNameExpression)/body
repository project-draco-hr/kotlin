{
  if (NameHighlighter.namesHighlightingEnabled) {
    DeclarationDescriptor referenceTarget=bindingContext.get(BindingContext.REFERENCE_TARGET,expression);
    if (referenceTarget instanceof ConstructorDescriptor) {
      referenceTarget=referenceTarget.getContainingDeclaration();
    }
    if (referenceTarget instanceof ClassDescriptor) {
      TextAttributesKey textAttributesKey=textAttributesKeyForClass((ClassDescriptor)referenceTarget);
      if (textAttributesKey == JetHighlightingColors.ANNOTATION) {
        highlightAnnotation(expression);
      }
 else {
        highlightName(expression,textAttributesKey);
      }
    }
 else     if (referenceTarget instanceof TypeParameterDescriptor) {
      highlightName(expression,JetHighlightingColors.TYPE_PARAMETER);
    }
  }
}
