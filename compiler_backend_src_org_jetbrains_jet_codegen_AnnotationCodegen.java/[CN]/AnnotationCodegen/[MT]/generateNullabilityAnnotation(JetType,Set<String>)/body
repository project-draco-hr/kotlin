{
  if (type == null)   return;
  if (isBareTypeParameterWithNullableUpperBound(type)) {
    return;
  }
  boolean isNullableType=TypeUtils.isNullableType(type);
  Class<?> annotationClass=isNullableType ? Nullable.class : NotNull.class;
  String descriptor=Type.getType(annotationClass).getDescriptor();
  if (!annotationDescriptorsAlreadyPresent.contains(descriptor)) {
    visitAnnotation(descriptor,false).visitEnd();
  }
}
