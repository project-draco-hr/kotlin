{
  if (!(sibling instanceof JetElement))   return true;
  AnalysisResult analysisResult=ResolvePackage.analyzeAndGetResult((JetElement)sibling);
  final BindingContext bindingContext=analysisResult.getBindingContext();
  final ModuleDescriptor module=analysisResult.getModuleDescriptor();
  final Name identifier=Name.identifier(name);
  final Ref<Boolean> result=new Ref<Boolean>(true);
  JetVisitorVoid visitor=new JetVisitorVoid(){
    @Override public void visitElement(    @NotNull PsiElement element){
      if (result.get()) {
        element.acceptChildren(this);
      }
    }
    @Nullable private JetScope getScope(    @NotNull JetExpression expression){
      PsiElement parent=expression.getParent();
      if (parent instanceof JetClassBody) {
        JetClassOrObject classOrObject=(JetClassOrObject)parent.getParent();
        ClassDescriptor classDescriptor=bindingContext.get(BindingContext.CLASS,classOrObject);
        return classDescriptor instanceof ClassDescriptorWithResolutionScopes ? ((ClassDescriptorWithResolutionScopes)classDescriptor).getScopeForMemberDeclarationResolution() : null;
      }
      if (parent instanceof JetFile) {
        PackageViewDescriptor packageViewDescriptor=module.getPackage(((JetFile)parent).getPackageFqName());
        return packageViewDescriptor != null ? packageViewDescriptor.getMemberScope() : null;
      }
      return bindingContext.get(BindingContext.RESOLUTION_SCOPE,expression);
    }
    @Override public void visitExpression(    @NotNull JetExpression expression){
      JetScope resolutionScope=getScope(expression);
      if (resolutionScope != null) {
        if (!visitedScopes.add(resolutionScope))         return;
        boolean noConflict;
        if (myTarget == Target.PROPERTIES) {
          noConflict=resolutionScope.getProperties(identifier).isEmpty() && resolutionScope.getLocalVariable(identifier) == null;
        }
 else {
          noConflict=resolutionScope.getFunctions(identifier).isEmpty() && resolutionScope.getClassifier(identifier) == null;
        }
        if (!noConflict) {
          result.set(false);
          return;
        }
      }
      super.visitExpression(expression);
    }
  }
;
  sibling.accept(visitor);
  return result.get();
}
