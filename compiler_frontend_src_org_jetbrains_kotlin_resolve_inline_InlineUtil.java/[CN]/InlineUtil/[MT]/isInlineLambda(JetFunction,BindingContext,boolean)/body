{
  if (!isFunctionalExpression(functionalExpression))   return false;
  JetExpression call=JetPsiUtil.getParentCallIfPresent(functionalExpression);
  if (call != null) {
    ResolvedCall<?> resolvedCall=CallUtilPackage.getResolvedCall(call,bindingContext);
    if (resolvedCall != null && isInline(resolvedCall.getResultingDescriptor())) {
      ValueArgument argument=CallUtilPackage.getValueArgumentForExpression(resolvedCall.getCall(),functionalExpression);
      if (argument != null) {
        ArgumentMapping mapping=resolvedCall.getArgumentMapping(argument);
        if (mapping instanceof ArgumentMatch) {
          ValueParameterDescriptor parameter=((ArgumentMatch)mapping).getValueParameter();
          if (isInlineLambdaParameter(parameter)) {
            return !checkNonLocalReturn || allowsNonLocalReturns(parameter);
          }
        }
      }
    }
  }
  return false;
}
