{
  if (typeRef == null) {
    throw new UnsupportedOperationException("Cannot evaluate type for parameter with no type ref");
  }
  final JetTypeElement typeElement=typeRef.getTypeElement();
  if (typeElement instanceof JetUserType) {
    final JetUserType userType=(JetUserType)typeElement;
    return mapType(userType.getReferencedName(),userType.getTypeArguments());
  }
  throw new UnsupportedOperationException("Unknown type " + typeRef);
}
