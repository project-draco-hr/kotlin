{
  Set<VariableDescriptor> usedVariables=usedVariablesForDeclaration.get(pseudocode);
  if (usedVariables == null) {
    final Set<VariableDescriptor> result=Sets.newHashSet();
    PseudocodeTraverser.traverse(pseudocode,FORWARD,new InstructionAnalyzeStrategy(){
      @Override public void execute(      @NotNull Instruction instruction){
        VariableDescriptor variableDescriptor=PseudocodeUtil.extractVariableDescriptorIfAny(instruction,false,bindingContext);
        if (variableDescriptor != null) {
          result.add(variableDescriptor);
        }
      }
    }
);
    usedVariables=Collections.unmodifiableSet(result);
    usedVariablesForDeclaration.put(pseudocode,usedVariables);
  }
  return usedVariables;
}
