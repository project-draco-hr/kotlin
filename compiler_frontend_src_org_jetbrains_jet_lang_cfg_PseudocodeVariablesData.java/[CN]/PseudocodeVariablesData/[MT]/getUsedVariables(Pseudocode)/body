{
  Set<VariableDescriptor> usedVariables=usedVariablesForDeclaration.get(pseudocode);
  if (usedVariables == null) {
    final Set<VariableDescriptor> result=Sets.newHashSet();
    PseudocodeTraverserPackage.traverse(pseudocode,FORWARD,new Function1<Instruction,Unit>(){
      @Override public Unit invoke(      @NotNull Instruction instruction){
        VariableDescriptor variableDescriptor=PseudocodeUtil.extractVariableDescriptorIfAny(instruction,false,bindingContext);
        if (variableDescriptor != null) {
          result.add(variableDescriptor);
        }
        return Unit.instance$;
      }
    }
);
    usedVariables=Collections.unmodifiableSet(result);
    usedVariablesForDeclaration.put(pseudocode,usedVariables);
  }
  return usedVariables;
}
