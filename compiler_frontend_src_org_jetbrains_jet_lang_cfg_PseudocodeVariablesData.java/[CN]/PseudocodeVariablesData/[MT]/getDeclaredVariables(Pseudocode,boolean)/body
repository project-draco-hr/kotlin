{
  if (!includeInsideLocalDeclarations) {
    return getUpperLevelDeclaredVariables(pseudocode);
  }
  Set<VariableDescriptor> declaredVariables=Sets.newHashSet();
  declaredVariables.addAll(getUpperLevelDeclaredVariables(pseudocode));
  for (  LocalFunctionDeclarationInstruction localFunctionDeclarationInstruction : pseudocode.getLocalDeclarations()) {
    Pseudocode localPseudocode=localFunctionDeclarationInstruction.getBody();
    declaredVariables.addAll(getUpperLevelDeclaredVariables(localPseudocode));
  }
  return declaredVariables;
}
