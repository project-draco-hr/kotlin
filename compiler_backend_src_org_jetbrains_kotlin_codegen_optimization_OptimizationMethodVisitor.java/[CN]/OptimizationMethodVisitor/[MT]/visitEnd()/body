{
  if (methodNode.maxLocals <= 0 || methodNode.maxStack <= 0) {
    mv.visitMaxs(-1,-1);
  }
  super.visitEnd();
  if (shouldBeTransformed(methodNode)) {
    MANDATORY_METHOD_TRANSFORMER.transform("fake",methodNode);
    if (canBeOptimized(methodNode) && !disableOptimization) {
      for (      MethodTransformer transformer : OPTIMIZATION_TRANSFORMERS) {
        transformer.transform("fake",methodNode);
      }
    }
    CommonPackage.prepareForEmitting(methodNode);
  }
  methodNode.accept(new EndIgnoringMethodVisitorDecorator(Opcodes.ASM5,delegate));
  if (methodNode.instructions.size() == 0) {
    List<LocalVariableNode> localVariables=methodNode.localVariables;
    int n=localVariables == null ? 0 : localVariables.size();
    for (int i=0; i < n; ++i) {
      localVariables.get(i).accept(delegate);
    }
  }
  delegate.visitEnd();
}
