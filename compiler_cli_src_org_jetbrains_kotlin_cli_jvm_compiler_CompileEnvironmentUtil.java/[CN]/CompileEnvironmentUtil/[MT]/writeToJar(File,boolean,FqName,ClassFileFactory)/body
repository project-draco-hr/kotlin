{
  FileOutputStream outputStream=null;
  try {
    outputStream=new FileOutputStream(jarPath);
    doWriteToJar(outputFiles,outputStream,mainClass,jarRuntime);
    outputStream.close();
  }
 catch (  FileNotFoundException e) {
    throw new CompileEnvironmentException("Invalid jar path " + jarPath,e);
  }
catch (  IOException e) {
    throw UtilsPackage.rethrow(e);
  }
 finally {
    UtilsPackage.closeQuietly(outputStream);
  }
}
