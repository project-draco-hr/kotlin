{
  DescriptorSerializer descriptorSerializer=new DescriptorSerializer();
  List<MessageLite> messages=new ArrayList<MessageLite>();
  for (  DeclarationDescriptor descriptor : descriptors) {
    if (descriptor instanceof ClassDescriptor) {
      ClassDescriptor classDescriptor=(ClassDescriptor)descriptor;
      messages.add(descriptorSerializer.classProto(classDescriptor).build());
    }
  }
  NameSerializationUtil.serializeNameTable(out,descriptorSerializer.getNameTable());
  for (  MessageLite message : messages) {
    message.writeDelimitedTo(out);
  }
}
