{
  if (classDescriptor.getKind() == ClassKind.TRAIT) {
    context.getTrace().getErrorHandler().genericError(constructor.getNameNode(),"A trait may not have a constructor");
  }
  ConstructorDescriptor constructorDescriptor=context.getClassDescriptorResolver().resolveSecondaryConstructorDescriptor(classDescriptor.getScopeForMemberResolution(),classDescriptor,constructor);
  classDescriptor.addConstructor(constructorDescriptor);
  context.getConstructors().put(constructor,constructorDescriptor);
  context.getDeclaringScopes().put(constructor,classDescriptor.getScopeForMemberLookup());
}
