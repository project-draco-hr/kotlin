{
  for (  Map.Entry<JetFile,WritableScope> entry : context.getNamespaceScopes().entrySet()) {
    JetFile namespace=entry.getKey();
    WritableScope namespaceScope=entry.getValue();
    NamespaceLikeBuilder namespaceDescriptor=context.getNamespaceDescriptors().get(namespace).getBuilder();
    resolveFunctionAndPropertyHeaders(namespace.getDeclarations(),namespaceScope,namespaceScope,namespaceScope,namespaceDescriptor);
  }
  for (  Map.Entry<JetClassOrObject,MutableClassDescriptor> entry : context.getClasses().entrySet()) {
    JetClassOrObject classOrObject=entry.getKey();
    MutableClassDescriptor classDescriptor=entry.getValue();
    JetClassBody jetClassBody=classOrObject.getBody();
    if (classDescriptor.getKind() == ClassKind.ANNOTATION_CLASS && jetClassBody != null) {
      trace.report(ANNOTATION_CLASS_WITH_BODY.on(jetClassBody));
    }
    resolveFunctionAndPropertyHeaders(classOrObject.getDeclarations(),classDescriptor.getScopeForMemberResolution(),classDescriptor.getScopeForInitializers(),classDescriptor.getScopeForMemberResolution(),classDescriptor.getBuilder());
  }
  scriptHeaderResolver.resolveScriptDeclarations();
}
