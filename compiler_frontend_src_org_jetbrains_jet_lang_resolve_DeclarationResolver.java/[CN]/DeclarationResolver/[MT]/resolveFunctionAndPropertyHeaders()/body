{
  for (  Map.Entry<JetFile,WritableScope> entry : context.getFileScopes().entrySet()) {
    JetFile file=entry.getKey();
    WritableScope fileScope=entry.getValue();
    PackageLikeBuilder packageBuilder=context.getPackageFragments().get(file).getBuilder();
    resolveFunctionAndPropertyHeaders(file.getDeclarations(),fileScope,fileScope,fileScope,packageBuilder);
  }
  for (  Map.Entry<JetClassOrObject,MutableClassDescriptor> entry : context.getClasses().entrySet()) {
    JetClassOrObject classOrObject=entry.getKey();
    MutableClassDescriptor classDescriptor=entry.getValue();
    JetClassBody jetClassBody=classOrObject.getBody();
    if (classDescriptor.getKind() == ClassKind.ANNOTATION_CLASS && jetClassBody != null) {
      trace.report(ANNOTATION_CLASS_WITH_BODY.on(jetClassBody));
    }
    resolveFunctionAndPropertyHeaders(classOrObject.getDeclarations(),classDescriptor.getScopeForMemberResolution(),classDescriptor.getScopeForInitializers(),classDescriptor.getScopeForMemberResolution(),classDescriptor.getBuilder());
  }
  scriptHeaderResolver.resolveScriptDeclarations();
}
