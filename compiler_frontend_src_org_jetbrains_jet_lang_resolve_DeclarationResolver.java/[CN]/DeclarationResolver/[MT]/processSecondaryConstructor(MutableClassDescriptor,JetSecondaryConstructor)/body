{
  if (classDescriptor.getKind() == ClassKind.TRAIT) {
    trace.report(CONSTRUCTOR_IN_TRAIT.on(constructor.getNameNode().getPsi()));
  }
  ConstructorDescriptor constructorDescriptor=descriptorResolver.resolveSecondaryConstructorDescriptor(classDescriptor.getScopeForMemberResolution(),classDescriptor,constructor,trace);
  classDescriptor.addConstructor(constructorDescriptor,trace);
  context.getConstructors().put(constructor,constructorDescriptor);
  context.getDeclaringScopes().put(constructor,classDescriptor.getScopeForMemberLookup());
}
