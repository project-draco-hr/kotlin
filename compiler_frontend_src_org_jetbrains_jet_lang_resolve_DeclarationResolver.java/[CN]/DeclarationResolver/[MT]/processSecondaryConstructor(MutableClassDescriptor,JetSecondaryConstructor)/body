{
  if (classDescriptor.getKind() == ClassKind.TRAIT) {
    context.getTrace().report(CONSTRUCTOR_IN_TRAIT.on(constructor.getNameNode().getPsi()));
  }
  ConstructorDescriptor constructorDescriptor=descriptorResolver.resolveSecondaryConstructorDescriptor(classDescriptor.getScopeForMemberResolution(),classDescriptor,constructor,context.getTrace());
  classDescriptor.addConstructor(constructorDescriptor,context.getTrace());
  context.getConstructors().put(constructor,constructorDescriptor);
  context.getDeclaringScopes().put(constructor,classDescriptor.getScopeForMemberLookup());
}
