{
  Iterable<MutableClassDescriptor> classesAndObjects=Iterables.concat(context.getClasses().values(),context.getObjects().values());
  for (  MutableClassDescriptor classDescriptor : classesAndObjects) {
    if (classDescriptor.getKind() == ClassKind.CLASS_OBJECT) {
      continue;
    }
    Collection<DeclarationDescriptor> allDescriptors=classDescriptor.getScopeForMemberLookup().getOwnDeclaredDescriptors();
    MutableClassDescriptorLite classObj=classDescriptor.getClassObjectDescriptor();
    if (classObj != null) {
      Collection<DeclarationDescriptor> classObjDescriptors=classObj.getScopeForMemberLookup().getOwnDeclaredDescriptors();
      if (!classObjDescriptors.isEmpty()) {
        allDescriptors=Lists.newArrayList(allDescriptors);
        allDescriptors.addAll(classObjDescriptors);
      }
    }
    Multimap<Name,DeclarationDescriptor> descriptorMap=HashMultimap.create();
    for (    DeclarationDescriptor desc : allDescriptors) {
      if (desc instanceof ClassDescriptor || desc instanceof PropertyDescriptor) {
        descriptorMap.put(desc.getName(),desc);
      }
    }
    reportRedeclarations(descriptorMap);
  }
}
