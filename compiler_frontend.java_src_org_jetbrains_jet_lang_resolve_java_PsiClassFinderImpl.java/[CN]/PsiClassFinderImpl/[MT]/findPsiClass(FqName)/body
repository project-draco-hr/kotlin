{
  PsiClass original=javaFacade.findClass(qualifiedName.asString(),javaSearchScope);
  if (original != null) {
    String classQualifiedName=original.getQualifiedName();
    FqName actualQualifiedName=classQualifiedName != null ? new FqName(classQualifiedName) : null;
    if (!qualifiedName.equals(actualQualifiedName)) {
      throw new IllegalStateException("requested " + qualifiedName + ", got "+ actualQualifiedName);
    }
  }
  if (original instanceof JetJavaMirrorMarker) {
    throw new IllegalStateException("JetJavaMirrorMaker is not possible in resolve.java, resolving: " + qualifiedName);
  }
  return original;
}
