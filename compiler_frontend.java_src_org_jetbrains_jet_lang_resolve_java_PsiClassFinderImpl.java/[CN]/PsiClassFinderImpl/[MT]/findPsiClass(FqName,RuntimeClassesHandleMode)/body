{
  PsiClass original=javaFacade.findClass(qualifiedName.asString(),javaSearchScope);
  if (original != null) {
    String classQualifiedName=original.getQualifiedName();
    FqName actualQualifiedName=classQualifiedName != null ? new FqName(classQualifiedName) : null;
    if (!qualifiedName.equals(actualQualifiedName)) {
      throw new IllegalStateException("requested " + qualifiedName + ", got "+ actualQualifiedName);
    }
  }
  if (original instanceof JetJavaMirrorMarker) {
    throw new IllegalStateException("JetJavaMirrorMaker is not possible in resolve.java, resolving: " + qualifiedName);
  }
  if (original == null) {
    return null;
  }
  if (KotlinBuiltIns.BUILT_INS_PACKAGE_FQ_NAME.equals(qualifiedName.parent())) {
    PsiAnnotation assertInvisibleAnnotation=JavaAnnotationResolver.findOwnAnnotation(original,JvmAnnotationNames.ASSERT_INVISIBLE_IN_RESOLVER.getFqName().asString());
    if (assertInvisibleAnnotation != null) {
switch (runtimeClassesHandleMode) {
case IGNORE:
        break;
case REPORT_ERROR:
      if (ApplicationManager.getApplication().isInternal()) {
        LOG.error("classpath is configured incorrectly:" + " class " + qualifiedName + " from runtime must not be loaded by compiler");
      }
    break;
default :
  throw new IllegalStateException("unknown parameter value: " + runtimeClassesHandleMode);
}
return null;
}
}
return original;
}
