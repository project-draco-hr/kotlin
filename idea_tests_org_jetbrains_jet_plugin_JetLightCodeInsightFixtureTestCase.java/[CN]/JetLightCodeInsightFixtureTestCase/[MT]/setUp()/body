{
  if (!getTestName(false).startsWith("AllFilesPresentIn")) {
    String fileText=FileUtil.loadFile(new File(getTestDataPath(),fileName()));
    if (InTextDirectivesUtils.isDirectiveDefined(fileText,"RUNTIME")) {
      projectDescriptor=JetWithJdkAndRuntimeLightProjectDescriptor.INSTANCE;
    }
 else     if (InTextDirectivesUtils.isDirectiveDefined(fileText,"JS")) {
      projectDescriptor=JetStdJSProjectDescriptor.INSTANCE;
    }
 else {
      projectDescriptor=JetLightProjectDescriptor.INSTANCE;
    }
  }
  super.setUp();
  ((StartupManagerImpl)StartupManager.getInstance(getProject())).runPostStartupActivities();
}
