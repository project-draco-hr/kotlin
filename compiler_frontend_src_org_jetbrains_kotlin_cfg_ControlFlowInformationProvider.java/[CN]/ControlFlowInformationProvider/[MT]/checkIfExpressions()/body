{
  PseudocodeTraverserKt.traverse(pseudocode,TraversalOrder.FORWARD,new ControlFlowInformationProvider.FunctionVoid1<Instruction>(){
    @Override public void execute(    @NotNull Instruction instruction){
      PseudoValue value=instruction instanceof InstructionWithValue ? ((InstructionWithValue)instruction).getOutputValue() : null;
      for (      KtElement element : instruction.getOwner().getValueElements(value)) {
        if (!(element instanceof KtIfExpression))         continue;
        KtIfExpression ifExpression=(KtIfExpression)element;
        if (BindingContextUtilsKt.isUsedAsExpression(ifExpression,trace.getBindingContext())) {
          KtExpression thenExpression=ifExpression.getThen();
          KtExpression elseExpression=ifExpression.getElse();
          if (thenExpression == null || elseExpression == null) {
            trace.report(INVALID_IF_AS_EXPRESSION.on(ifExpression));
          }
 else {
            checkImplicitCastOnConditionalExpression(ifExpression,ImmutableList.of(thenExpression,elseExpression));
          }
        }
      }
    }
  }
);
}
