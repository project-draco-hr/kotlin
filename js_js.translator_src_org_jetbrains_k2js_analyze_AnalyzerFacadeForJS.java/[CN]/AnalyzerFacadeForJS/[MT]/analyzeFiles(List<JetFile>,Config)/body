{
  Project project=config.getProject();
  BindingTraceContext bindingTraceContext=new BindingTraceContext();
  final ModuleDescriptor owner=new ModuleDescriptor("<module>");
  TopDownAnalysisParameters topDownAnalysisParameters=new TopDownAnalysisParameters(notLibFiles(config.getLibFiles()),false,false);
  InjectorForTopDownAnalyzerForJs injector=new InjectorForTopDownAnalyzerForJs(project,topDownAnalysisParameters,new ObservableBindingTrace(bindingTraceContext),owner,JetControlFlowDataTraceFactory.EMPTY,JsConfiguration.jsLibConfiguration(project));
  injector.getTopDownAnalyzer().doAnalyzeFilesWithGivenTrance2(withJsLibAdded(files,config));
  return bindingTraceContext.getBindingContext();
}
