{
  GlobalContextImpl globalContext=ContextPackage.GlobalContext();
  FileBasedDeclarationProviderFactory declarationProviderFactory=new FileBasedDeclarationProviderFactory(globalContext.getStorageManager(),Config.withJsLibAdded(files,config),Predicates.<FqName>alwaysFalse());
  ModuleDescriptorImpl module=createJsModule("<lazy module>");
  module.addFragmentProvider(DependencyKind.BUILT_INS,KotlinBuiltIns.getInstance().getBuiltInsModule().getPackageFragmentProvider());
  return new InjectorForLazyResolve(config.getProject(),globalContext,module,declarationProviderFactory,new BindingTraceContext()).getResolveSession();
}
