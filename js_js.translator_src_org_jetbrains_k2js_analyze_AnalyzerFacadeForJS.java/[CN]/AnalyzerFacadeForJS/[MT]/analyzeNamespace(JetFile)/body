{
  BindingTraceContext bindingTraceContext=new BindingTraceContext();
  Project project=file.getProject();
  final ModuleDescriptor owner=new ModuleDescriptor("<module>");
  TopDownAnalysisParameters topDownAnalysisParameters=new TopDownAnalysisParameters(Predicates.<PsiFile>alwaysTrue(),false,false);
  InjectorForTopDownAnalyzerForJs injector=new InjectorForTopDownAnalyzerForJs(project,topDownAnalysisParameters,new ObservableBindingTrace(bindingTraceContext),owner,JetControlFlowDataTraceFactory.EMPTY,JsConfiguration.jsLibConfiguration(project));
  injector.getTopDownAnalyzer().analyzeFiles(Collections.singletonList(file));
  return bindingTraceContext.getBindingContext();
}
