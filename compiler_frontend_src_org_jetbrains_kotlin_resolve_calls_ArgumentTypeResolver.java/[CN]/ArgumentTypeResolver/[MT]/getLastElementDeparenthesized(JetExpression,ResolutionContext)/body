{
  JetExpression deparenthesizedExpression=JetPsiUtil.deparenthesize(expression,false);
  if (deparenthesizedExpression instanceof JetBlockExpression) {
    JetBlockExpression blockExpression=(JetBlockExpression)deparenthesizedExpression;
    JetElement lastStatementInABlock=ResolvePackage.getLastStatementInABlock(context.statementFilter,blockExpression);
    if (lastStatementInABlock instanceof JetExpression) {
      return getLastElementDeparenthesized((JetExpression)lastStatementInABlock,context);
    }
  }
  return deparenthesizedExpression;
}
