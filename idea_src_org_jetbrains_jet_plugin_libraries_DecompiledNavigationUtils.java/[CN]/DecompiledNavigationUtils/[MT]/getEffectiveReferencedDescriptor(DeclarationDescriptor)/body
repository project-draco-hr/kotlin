{
  if (referencedDescriptor instanceof CallableMemberDescriptor) {
    CallableMemberDescriptor callableMemberDescriptor=(CallableMemberDescriptor)referencedDescriptor;
    CallableMemberDescriptor.Kind kind=callableMemberDescriptor.getKind();
    if (kind == CallableMemberDescriptor.Kind.FAKE_OVERRIDE) {
      Set<? extends CallableMemberDescriptor> overriddenDescriptors=callableMemberDescriptor.getOverriddenDescriptors();
      return getEffectiveReferencedDescriptor(overriddenDescriptors.iterator().next());
    }
  }
  if (referencedDescriptor instanceof VariableDescriptorForObject) {
    ClassDescriptor objectClass=((VariableDescriptorForObject)referencedDescriptor).getObjectClass();
    if (objectClass.getKind() == ClassKind.OBJECT) {
      return objectClass;
    }
  }
  return referencedDescriptor;
}
