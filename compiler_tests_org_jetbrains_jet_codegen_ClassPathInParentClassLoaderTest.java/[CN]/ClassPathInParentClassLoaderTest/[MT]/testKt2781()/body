{
  File javaClassesTempDirectory=compileJava("classPathInParentClassLoader/kt2781.java");
  myEnvironment=JetCoreEnvironment.createForTests(getTestRootDisposable(),JetTestUtils.compilerConfigurationForTests(ConfigurationKind.JDK_ONLY,TestJdkKind.MOCK_JDK,JetTestUtils.getAnnotationsJar(),javaClassesTempDirectory),EnvironmentConfigFiles.JVM_CONFIG_FILES);
  loadFile("classPathInParentClassLoader/kt2781.kt");
  assertThrows(generateFunction(),IllegalAccessError.class,null);
}
