{
  if (userType.isAbsoluteInRootNamespace()) {
    return resolveNamespace(JetModuleUtil.getRootNamespaceType(userType).getMemberScope(),userType);
  }
  JetUserType qualifier=userType.getQualifier();
  if (qualifier != null) {
    NamespaceDescriptor domain=resolveNamespace(scope,qualifier);
    if (domain == null) {
      return null;
    }
    return domain.getMemberScope().getNamespace(userType.getReferencedName());
  }
  NamespaceDescriptor namespace=scope.getNamespace(userType.getReferencedName());
  if (namespace != null) {
    trace.record(BindingContext.REFERENCE_TARGET,userType.getReferenceExpression(),namespace);
  }
  return namespace;
}
