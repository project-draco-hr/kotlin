{
  JetSimpleNameExpression expression=userType.getReferenceExpression();
  if (expression == null) {
    return null;
  }
  String referencedName=expression.getReferencedName();
  if (referencedName == null) {
    return null;
  }
  ClassDescriptor classDescriptor=null;
  if (userType.isAbsoluteInRootNamespace()) {
    classDescriptor=JetModuleUtil.getRootNamespaceScope(userType).getClass(referencedName);
  }
 else {
    JetUserType qualifier=userType.getQualifier();
    if (qualifier != null) {
      scope=resolveClassLookupScope(scope,qualifier);
    }
    if (scope == null) {
      return null;
    }
    classDescriptor=scope.getClass(referencedName);
  }
  if (classDescriptor == null) {
    semanticServices.getErrorHandler().unresolvedReference(expression);
  }
  return classDescriptor;
}
