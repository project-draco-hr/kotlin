{
  final JvmPackageTable.PackageTable.Builder builder=JvmPackageTable.PackageTable.newBuilder();
  String outputFilePath=getMappingFileName(state.getModuleName());
  for (  PackageCodegen codegen : values) {
    PackageParts.Companion.serialize(codegen.getPackageParts(),builder);
  }
  if (builder.getPackagePartsCount() != 0) {
    state.getProgress().reportOutput(Collections.<File>emptyList(),new File(outputFilePath));
    generators.put(outputFilePath,new OutAndSourceFileList(Collections.<File>emptyList()){
      @Override public byte[] asBytes(      ClassBuilderFactory factory){
        try {
          ByteArrayOutputStream moduleMapping=new ByteArrayOutputStream(1024);
          builder.build().writeTo(moduleMapping);
          return moduleMapping.toByteArray();
        }
 catch (        UnsupportedEncodingException e) {
          throw new RuntimeException(e);
        }
catch (        IOException e) {
          throw new RuntimeException(e);
        }
      }
      @Override public String asText(      ClassBuilderFactory factory){
        try {
          return new String(asBytes(factory),"UTF-8");
        }
 catch (        UnsupportedEncodingException e) {
          throw new RuntimeException(e);
        }
      }
    }
);
  }
}
