{
  if (!slice.check(key,value)) {
    return;
  }
  ManyMapKey<K,V> manyMapKey=slice.makeKey(key);
  if (slice.getRewritePolicy().rewriteProcessingNeeded(key)) {
    if (map.containsKey(manyMapKey)) {
      if (!slice.getRewritePolicy().processRewrite(slice,key,(V)map.get(manyMapKey),value)) {
        return;
      }
    }
  }
  map.put(manyMapKey,value);
  slice.afterPut(this,key,value);
}
