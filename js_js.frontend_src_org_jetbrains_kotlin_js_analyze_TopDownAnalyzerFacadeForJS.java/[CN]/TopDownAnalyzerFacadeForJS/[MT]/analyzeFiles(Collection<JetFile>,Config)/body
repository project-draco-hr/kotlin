{
  BindingContext libraryContext=config.getLibraryContext();
  BindingTrace trace=libraryContext == null ? new BindingTraceContext() : new DelegatingBindingTrace(libraryContext,"trace with preanalyzed library");
  ModuleDescriptorImpl module=createJsModule("<" + config.getModuleId() + ">");
  module.addDependencyOnModule(module);
  module.addDependencyOnModule(KotlinBuiltIns.getInstance().getBuiltInsModule());
  ModuleDescriptor libraryModule=config.getLibraryModule();
  if (libraryModule != null) {
    module.addDependencyOnModule((ModuleDescriptorImpl)libraryModule);
  }
  module.seal();
  return analyzeFilesWithGivenTrace(files,trace,module,config);
}
