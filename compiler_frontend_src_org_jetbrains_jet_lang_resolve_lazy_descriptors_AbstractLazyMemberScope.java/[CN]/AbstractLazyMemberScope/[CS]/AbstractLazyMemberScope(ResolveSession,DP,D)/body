{
  this.resolveSession=resolveSession;
  this.declarationProvider=declarationProvider;
  this.thisDescriptor=thisDescriptor;
  StorageManager storageManager=resolveSession.getStorageManager();
  this.classDescriptors=storageManager.createMemoizedFunction(new Function1<Name,List<ClassDescriptor>>(){
    @Override public List<ClassDescriptor> invoke(    Name name){
      return resolveClassOrObjectDescriptor(name,false);
    }
  }
,STRONG);
  this.objectDescriptors=storageManager.createMemoizedFunction(new Function1<Name,List<ClassDescriptor>>(){
    @Override public List<ClassDescriptor> invoke(    Name name){
      return resolveClassOrObjectDescriptor(name,true);
    }
  }
,STRONG);
  this.functionDescriptors=storageManager.createMemoizedFunction(new Function1<Name,Set<FunctionDescriptor>>(){
    @Override public Set<FunctionDescriptor> invoke(    Name name){
      return doGetFunctions(name);
    }
  }
,STRONG);
  this.propertyDescriptors=storageManager.createMemoizedFunction(new Function1<Name,Set<VariableDescriptor>>(){
    @Override public Set<VariableDescriptor> invoke(    Name name){
      return doGetProperties(name);
    }
  }
,STRONG);
  this.allDescriptors=storageManager.createLazyValue(new Function0<AllDescriptors>(){
    @Override public AllDescriptors invoke(){
      return computeAllDescriptors();
    }
  }
);
}
