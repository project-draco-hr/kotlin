{
  myFixture.configureByFile(fileName());
  JavaPsiFacade facade=myFixture.getJavaFacade();
  PsiClass theClass=facade.findClass("foo.TheClass",GlobalSearchScope.allScope(getProject()));
  assertNotNull(theClass);
  PsiField classobjField=theClass.findFieldByName("$classobj",false);
  assertNull(classobjField);
  String defaultCompanionObjectName=SpecialNames.DEFAULT_NAME_FOR_COMPANION_OBJECT.asString();
  PsiClass classObjectClass=theClass.findInnerClassByName(defaultCompanionObjectName,false);
  assertNotNull(classObjectClass);
  assertEquals("foo.TheClass." + defaultCompanionObjectName,classObjectClass.getQualifiedName());
  assertTrue(classObjectClass.hasModifierProperty(PsiModifier.STATIC));
  PsiField instance=theClass.findFieldByName(defaultCompanionObjectName,false);
  assertNotNull(instance);
  assertEquals("foo.TheClass." + defaultCompanionObjectName,instance.getType().getCanonicalText());
  assertTrue(instance.hasModifierProperty(PsiModifier.PUBLIC));
  assertTrue(instance.hasModifierProperty(PsiModifier.STATIC));
  assertTrue(instance.hasModifierProperty(PsiModifier.FINAL));
  PsiField deprecatedAccessor=theClass.findFieldByName(JvmAbi.DEPRECATED_COMPANION_OBJECT_FIELD,false);
  assertNotNull(deprecatedAccessor);
  assertEquals("foo.TheClass." + defaultCompanionObjectName,deprecatedAccessor.getType().getCanonicalText());
  assertTrue(deprecatedAccessor.hasModifierProperty(PsiModifier.PUBLIC));
  assertTrue(deprecatedAccessor.hasModifierProperty(PsiModifier.STATIC));
  assertTrue(deprecatedAccessor.hasModifierProperty(PsiModifier.FINAL));
  assertTrue(deprecatedAccessor.isDeprecated());
  PsiMethod[] methods=classObjectClass.findMethodsByName("getOut",false);
  assertEquals("java.io.PrintStream",methods[0].getReturnType().getCanonicalText());
}
