{
  ClassVisitor visitor;
  if (isText) {
    visitor=new TraceClassVisitor(new PrintWriter(new StringWriter()));
  }
 else {
    visitor=new ClassWriter(ClassWriter.COMPUTE_FRAMES | ClassWriter.COMPUTE_MAXS);
  }
  final ClassBuilder answer=new ClassBuilder(visitor);
  generators.put(filePath,answer);
  return answer;
}
