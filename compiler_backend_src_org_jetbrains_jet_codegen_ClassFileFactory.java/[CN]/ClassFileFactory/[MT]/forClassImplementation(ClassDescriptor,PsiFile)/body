{
  Type type=state.getTypeMapper().mapClass(aClass);
  if (isPrimitive(type)) {
    throw new IllegalStateException("Codegen for primitive type is not possible: " + aClass);
  }
  return newVisitor(type,sourceFile);
}
