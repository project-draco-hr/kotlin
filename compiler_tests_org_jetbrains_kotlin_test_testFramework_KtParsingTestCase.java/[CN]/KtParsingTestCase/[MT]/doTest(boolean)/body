{
  String name=this.getTestName();
  try {
    String e=this.loadFile(name + "." + this.myFileExt);
    this.myFile=this.createPsiFile(name,e);
    ensureParsed(this.myFile);
    assertEquals("light virtual file text mismatch",e,((LightVirtualFile)this.myFile.getVirtualFile()).getContent().toString());
    assertEquals("virtual file text mismatch",e,LoadTextUtil.loadText(this.myFile.getVirtualFile()));
    assertEquals("doc text mismatch",e,this.myFile.getViewProvider().getDocument().getText());
    assertEquals("psi text mismatch",e,this.myFile.getText());
    ensureCorrectReparse(this.myFile);
    if (checkResult) {
      this.checkResult(name,this.myFile);
    }
 else {
      toParseTreeText(this.myFile,this.skipSpaces(),this.includeRanges());
    }
  }
 catch (  IOException var4) {
    throw new RuntimeException(var4);
  }
}
