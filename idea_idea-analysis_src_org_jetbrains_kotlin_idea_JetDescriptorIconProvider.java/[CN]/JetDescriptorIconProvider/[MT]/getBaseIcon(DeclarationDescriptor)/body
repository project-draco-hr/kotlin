{
  if (descriptor instanceof PackageFragmentDescriptor || descriptor instanceof PackageViewDescriptor) {
    return PlatformIcons.PACKAGE_ICON;
  }
  if (descriptor instanceof FunctionDescriptor) {
    FunctionDescriptor functionDescriptor=(FunctionDescriptor)descriptor;
    if (functionDescriptor.getExtensionReceiverParameter() != null) {
      return JetIcons.EXTENSION_FUNCTION;
    }
    if (descriptor.getContainingDeclaration() instanceof ClassDescriptor) {
      if (Modality.ABSTRACT == functionDescriptor.getModality()) {
        return PlatformIcons.ABSTRACT_METHOD_ICON;
      }
 else {
        return PlatformIcons.METHOD_ICON;
      }
    }
 else {
      return JetIcons.FUNCTION;
    }
  }
  if (descriptor instanceof ClassDescriptor) {
switch (((ClassDescriptor)descriptor).getKind()) {
case TRAIT:
      return JetIcons.TRAIT;
case ENUM_CLASS:
    return JetIcons.ENUM;
case ENUM_ENTRY:
  return JetIcons.ENUM;
case ANNOTATION_CLASS:
return PlatformIcons.ANNOTATION_TYPE_ICON;
case OBJECT:
return JetIcons.OBJECT;
case CLASS:
return JetIcons.CLASS;
default :
LOG.warn("No icon for descriptor: " + descriptor);
return null;
}
}
if (descriptor instanceof ValueParameterDescriptor) {
return JetIcons.PARAMETER;
}
if (descriptor instanceof LocalVariableDescriptor) {
return ((VariableDescriptor)descriptor).isVar() ? JetIcons.VAR : JetIcons.VAL;
}
if (descriptor instanceof PropertyDescriptor) {
return ((VariableDescriptor)descriptor).isVar() ? JetIcons.FIELD_VAR : JetIcons.FIELD_VAL;
}
if (descriptor instanceof TypeParameterDescriptor) {
return PlatformIcons.CLASS_ICON;
}
LOG.warn("No icon for descriptor: " + descriptor);
return null;
}
