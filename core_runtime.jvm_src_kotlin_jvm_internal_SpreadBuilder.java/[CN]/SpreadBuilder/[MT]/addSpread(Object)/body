{
  if (container == null)   return;
  if (container instanceof Object[]) {
    Object[] array=(Object[])container;
    if (array.length > 0) {
      ensureCapacity(size() + array.length);
      for (      Object element : array) {
        add(element);
      }
    }
  }
 else   if (container instanceof Collection) {
    addAll((Collection)container);
  }
 else   if (container instanceof Iterable) {
    for (    Object element : (Iterable)container) {
      add(element);
    }
  }
 else   if (container instanceof Iterator) {
    for (Iterator iterator=(Iterator)container; iterator.hasNext(); ) {
      add(iterator.next());
    }
  }
 else {
    throw new UnsupportedOperationException("Don't know how to spread " + container.getClass());
  }
}
